var pc=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var I=(e,t,r)=>(pc(e,t,"read from private field"),r?r.call(e):t.get(e)),ae=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},se=(e,t,r,s)=>(pc(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r);var ra=(e,t,r,s)=>({set _(n){se(e,t,n,r)},get _(){return I(e,t,s)}}),pe=(e,t,r)=>(pc(e,t,"access private method"),r);function B_(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const n in s)if(n!=="default"&&!(n in e)){const i=Object.getOwnPropertyDescriptor(s,n);i&&Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:()=>s[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();function F_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Am={exports:{}},Tl={},Om={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ho=Symbol.for("react.element"),$_=Symbol.for("react.portal"),H_=Symbol.for("react.fragment"),U_=Symbol.for("react.strict_mode"),W_=Symbol.for("react.profiler"),z_=Symbol.for("react.provider"),V_=Symbol.for("react.context"),q_=Symbol.for("react.forward_ref"),K_=Symbol.for("react.suspense"),Q_=Symbol.for("react.memo"),G_=Symbol.for("react.lazy"),cf=Symbol.iterator;function X_(e){return e===null||typeof e!="object"?null:(e=cf&&e[cf]||e["@@iterator"],typeof e=="function"?e:null)}var Mm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Im=Object.assign,Bm={};function fi(e,t,r){this.props=e,this.context=t,this.refs=Bm,this.updater=r||Mm}fi.prototype.isReactComponent={};fi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};fi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Fm(){}Fm.prototype=fi.prototype;function Pd(e,t,r){this.props=e,this.context=t,this.refs=Bm,this.updater=r||Mm}var Ad=Pd.prototype=new Fm;Ad.constructor=Pd;Im(Ad,fi.prototype);Ad.isPureReactComponent=!0;var uf=Array.isArray,$m=Object.prototype.hasOwnProperty,Od={current:null},Hm={key:!0,ref:!0,__self:!0,__source:!0};function Um(e,t,r){var s,n={},i=null,a=null;if(t!=null)for(s in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)$m.call(t,s)&&!Hm.hasOwnProperty(s)&&(n[s]=t[s]);var o=arguments.length-2;if(o===1)n.children=r;else if(1<o){for(var l=Array(o),p=0;p<o;p++)l[p]=arguments[p+2];n.children=l}if(e&&e.defaultProps)for(s in o=e.defaultProps,o)n[s]===void 0&&(n[s]=o[s]);return{$$typeof:Ho,type:e,key:i,ref:a,props:n,_owner:Od.current}}function Y_(e,t){return{$$typeof:Ho,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Md(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ho}function J_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var df=/\/+/g;function mc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?J_(""+e.key):t.toString(36)}function ka(e,t,r,s,n){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Ho:case $_:a=!0}}if(a)return a=e,n=n(a),e=s===""?"."+mc(a,0):s,uf(n)?(r="",e!=null&&(r=e.replace(df,"$&/")+"/"),ka(n,t,r,"",function(p){return p})):n!=null&&(Md(n)&&(n=Y_(n,r+(!n.key||a&&a.key===n.key?"":(""+n.key).replace(df,"$&/")+"/")+e)),t.push(n)),1;if(a=0,s=s===""?".":s+":",uf(e))for(var o=0;o<e.length;o++){i=e[o];var l=s+mc(i,o);a+=ka(i,t,r,l,n)}else if(l=X_(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=s+mc(i,o++),a+=ka(i,t,r,l,n);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function sa(e,t,r){if(e==null)return e;var s=[],n=0;return ka(e,s,"","",function(i){return t.call(r,i,n++)}),s}function Z_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var bt={current:null},Ra={transition:null},ey={ReactCurrentDispatcher:bt,ReactCurrentBatchConfig:Ra,ReactCurrentOwner:Od};function Wm(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:sa,forEach:function(e,t,r){sa(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return sa(e,function(){t++}),t},toArray:function(e){return sa(e,function(t){return t})||[]},only:function(e){if(!Md(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ge.Component=fi;ge.Fragment=H_;ge.Profiler=W_;ge.PureComponent=Pd;ge.StrictMode=U_;ge.Suspense=K_;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ey;ge.act=Wm;ge.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Im({},e.props),n=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=Od.current),t.key!==void 0&&(n=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)$m.call(t,l)&&!Hm.hasOwnProperty(l)&&(s[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){o=Array(l);for(var p=0;p<l;p++)o[p]=arguments[p+2];s.children=o}return{$$typeof:Ho,type:e.type,key:n,ref:i,props:s,_owner:a}};ge.createContext=function(e){return e={$$typeof:V_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:z_,_context:e},e.Consumer=e};ge.createElement=Um;ge.createFactory=function(e){var t=Um.bind(null,e);return t.type=e,t};ge.createRef=function(){return{current:null}};ge.forwardRef=function(e){return{$$typeof:q_,render:e}};ge.isValidElement=Md;ge.lazy=function(e){return{$$typeof:G_,_payload:{_status:-1,_result:e},_init:Z_}};ge.memo=function(e,t){return{$$typeof:Q_,type:e,compare:t===void 0?null:t}};ge.startTransition=function(e){var t=Ra.transition;Ra.transition={};try{e()}finally{Ra.transition=t}};ge.unstable_act=Wm;ge.useCallback=function(e,t){return bt.current.useCallback(e,t)};ge.useContext=function(e){return bt.current.useContext(e)};ge.useDebugValue=function(){};ge.useDeferredValue=function(e){return bt.current.useDeferredValue(e)};ge.useEffect=function(e,t){return bt.current.useEffect(e,t)};ge.useId=function(){return bt.current.useId()};ge.useImperativeHandle=function(e,t,r){return bt.current.useImperativeHandle(e,t,r)};ge.useInsertionEffect=function(e,t){return bt.current.useInsertionEffect(e,t)};ge.useLayoutEffect=function(e,t){return bt.current.useLayoutEffect(e,t)};ge.useMemo=function(e,t){return bt.current.useMemo(e,t)};ge.useReducer=function(e,t,r){return bt.current.useReducer(e,t,r)};ge.useRef=function(e){return bt.current.useRef(e)};ge.useState=function(e){return bt.current.useState(e)};ge.useSyncExternalStore=function(e,t,r){return bt.current.useSyncExternalStore(e,t,r)};ge.useTransition=function(){return bt.current.useTransition()};ge.version="18.3.1";Om.exports=ge;var k=Om.exports;const ue=F_(k),ri=B_({__proto__:null,default:ue},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ty=k,ry=Symbol.for("react.element"),sy=Symbol.for("react.fragment"),ny=Object.prototype.hasOwnProperty,iy=ty.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,oy={key:!0,ref:!0,__self:!0,__source:!0};function zm(e,t,r){var s,n={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(s in t)ny.call(t,s)&&!oy.hasOwnProperty(s)&&(n[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)n[s]===void 0&&(n[s]=t[s]);return{$$typeof:ry,type:e,key:i,ref:a,props:n,_owner:iy.current}}Tl.Fragment=sy;Tl.jsx=zm;Tl.jsxs=zm;Am.exports=Tl;var m=Am.exports,su={},Vm={exports:{}},Ht={},qm={exports:{}},Km={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,T){var P=L.length;L.push(T);e:for(;0<P;){var M=P-1>>>1,V=L[M];if(0<n(V,T))L[M]=T,L[P]=V,P=M;else break e}}function r(L){return L.length===0?null:L[0]}function s(L){if(L.length===0)return null;var T=L[0],P=L.pop();if(P!==T){L[0]=P;e:for(var M=0,V=L.length,J=V>>>1;M<J;){var re=2*(M+1)-1,ne=L[re],ve=re+1,j=L[ve];if(0>n(ne,P))ve<V&&0>n(j,ne)?(L[M]=j,L[ve]=P,M=ve):(L[M]=ne,L[re]=P,M=re);else if(ve<V&&0>n(j,P))L[M]=j,L[ve]=P,M=ve;else break e}}return T}function n(L,T){var P=L.sortIndex-T.sortIndex;return P!==0?P:L.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],p=[],g=1,h=null,_=3,S=!1,x=!1,v=!1,c=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,u=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function d(L){for(var T=r(p);T!==null;){if(T.callback===null)s(p);else if(T.startTime<=L)s(p),T.sortIndex=T.expirationTime,t(l,T);else break;T=r(p)}}function y(L){if(v=!1,d(L),!x)if(r(l)!==null)x=!0,K(w);else{var T=r(p);T!==null&&z(y,T.startTime-L)}}function w(L,T){x=!1,v&&(v=!1,f(b),b=-1),S=!0;var P=_;try{for(d(T),h=r(l);h!==null&&(!(h.expirationTime>T)||L&&!O());){var M=h.callback;if(typeof M=="function"){h.callback=null,_=h.priorityLevel;var V=M(h.expirationTime<=T);T=e.unstable_now(),typeof V=="function"?h.callback=V:h===r(l)&&s(l),d(T)}else s(l);h=r(l)}if(h!==null)var J=!0;else{var re=r(p);re!==null&&z(y,re.startTime-T),J=!1}return J}finally{h=null,_=P,S=!1}}var C=!1,R=null,b=-1,E=5,D=-1;function O(){return!(e.unstable_now()-D<E)}function N(){if(R!==null){var L=e.unstable_now();D=L;var T=!0;try{T=R(!0,L)}finally{T?A():(C=!1,R=null)}}else C=!1}var A;if(typeof u=="function")A=function(){u(N)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,W=H.port2;H.port1.onmessage=N,A=function(){W.postMessage(null)}}else A=function(){c(N,0)};function K(L){R=L,C||(C=!0,A())}function z(L,T){b=c(function(){L(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){x||S||(x=!0,K(w))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(L){switch(_){case 1:case 2:case 3:var T=3;break;default:T=_}var P=_;_=T;try{return L()}finally{_=P}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,T){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var P=_;_=L;try{return T()}finally{_=P}},e.unstable_scheduleCallback=function(L,T,P){var M=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?M+P:M):P=M,L){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=P+V,L={id:g++,callback:T,priorityLevel:L,startTime:P,expirationTime:V,sortIndex:-1},P>M?(L.sortIndex=P,t(p,L),r(l)===null&&L===r(p)&&(v?(f(b),b=-1):v=!0,z(y,P-M))):(L.sortIndex=V,t(l,L),x||S||(x=!0,K(w))),L},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(L){var T=_;return function(){var P=_;_=T;try{return L.apply(this,arguments)}finally{_=P}}}})(Km);qm.exports=Km;var ay=qm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly=k,$t=ay;function Y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Qm=new Set,io={};function vn(e,t){si(e,t),si(e+"Capture",t)}function si(e,t){for(io[e]=t,e=0;e<t.length;e++)Qm.add(t[e])}var Ur=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nu=Object.prototype.hasOwnProperty,cy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hf={},ff={};function uy(e){return nu.call(ff,e)?!0:nu.call(hf,e)?!1:cy.test(e)?ff[e]=!0:(hf[e]=!0,!1)}function dy(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function hy(e,t,r,s){if(t===null||typeof t>"u"||dy(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ct(e,t,r,s,n,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ct[e]=new Ct(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ct[t]=new Ct(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ct[e]=new Ct(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ct[e]=new Ct(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ct[e]=new Ct(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ct[e]=new Ct(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ct[e]=new Ct(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ct[e]=new Ct(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ct[e]=new Ct(e,5,!1,e.toLowerCase(),null,!1,!1)});var Id=/[\-:]([a-z])/g;function Bd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Id,Bd);ct[t]=new Ct(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Id,Bd);ct[t]=new Ct(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Id,Bd);ct[t]=new Ct(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ct[e]=new Ct(e,1,!1,e.toLowerCase(),null,!1,!1)});ct.xlinkHref=new Ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ct[e]=new Ct(e,1,!1,e.toLowerCase(),null,!0,!0)});function Fd(e,t,r,s){var n=ct.hasOwnProperty(t)?ct[t]:null;(n!==null?n.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(hy(t,r,n,s)&&(r=null),s||n===null?uy(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):n.mustUseProperty?e[n.propertyName]=r===null?n.type===3?!1:"":r:(t=n.attributeName,s=n.attributeNamespace,r===null?e.removeAttribute(t):(n=n.type,r=n===3||n===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var Qr=ly.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,na=Symbol.for("react.element"),bn=Symbol.for("react.portal"),Cn=Symbol.for("react.fragment"),$d=Symbol.for("react.strict_mode"),iu=Symbol.for("react.profiler"),Gm=Symbol.for("react.provider"),Xm=Symbol.for("react.context"),Hd=Symbol.for("react.forward_ref"),ou=Symbol.for("react.suspense"),au=Symbol.for("react.suspense_list"),Ud=Symbol.for("react.memo"),es=Symbol.for("react.lazy"),Ym=Symbol.for("react.offscreen"),pf=Symbol.iterator;function Ei(e){return e===null||typeof e!="object"?null:(e=pf&&e[pf]||e["@@iterator"],typeof e=="function"?e:null)}var Ae=Object.assign,gc;function Fi(e){if(gc===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);gc=t&&t[1]||""}return`
`+gc+e}var vc=!1;function _c(e,t){if(!e||vc)return"";vc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var s=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){s=p}e.call(t.prototype)}else{try{throw Error()}catch(p){s=p}e()}}catch(p){if(p&&s&&typeof p.stack=="string"){for(var n=p.stack.split(`
`),i=s.stack.split(`
`),a=n.length-1,o=i.length-1;1<=a&&0<=o&&n[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(n[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||n[a]!==i[o]){var l=`
`+n[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o);break}}}finally{vc=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Fi(e):""}function fy(e){switch(e.tag){case 5:return Fi(e.type);case 16:return Fi("Lazy");case 13:return Fi("Suspense");case 19:return Fi("SuspenseList");case 0:case 2:case 15:return e=_c(e.type,!1),e;case 11:return e=_c(e.type.render,!1),e;case 1:return e=_c(e.type,!0),e;default:return""}}function lu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Cn:return"Fragment";case bn:return"Portal";case iu:return"Profiler";case $d:return"StrictMode";case ou:return"Suspense";case au:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Xm:return(e.displayName||"Context")+".Consumer";case Gm:return(e._context.displayName||"Context")+".Provider";case Hd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ud:return t=e.displayName||null,t!==null?t:lu(e.type)||"Memo";case es:t=e._payload,e=e._init;try{return lu(e(t))}catch{}}return null}function py(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lu(t);case 8:return t===$d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ts(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Jm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function my(e){var t=Jm(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var n=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(a){s=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(a){s=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ia(e){e._valueTracker||(e._valueTracker=my(e))}function Zm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=Jm(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function qa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function cu(e,t){var r=t.checked;return Ae({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function mf(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=Ts(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function e0(e,t){t=t.checked,t!=null&&Fd(e,"checked",t,!1)}function uu(e,t){e0(e,t);var r=Ts(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?du(e,t.type,r):t.hasOwnProperty("defaultValue")&&du(e,t.type,Ts(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function gf(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function du(e,t,r){(t!=="number"||qa(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var $i=Array.isArray;function Mn(e,t,r,s){if(e=e.options,t){t={};for(var n=0;n<r.length;n++)t["$"+r[n]]=!0;for(r=0;r<e.length;r++)n=t.hasOwnProperty("$"+e[r].value),e[r].selected!==n&&(e[r].selected=n),n&&s&&(e[r].defaultSelected=!0)}else{for(r=""+Ts(r),t=null,n=0;n<e.length;n++){if(e[n].value===r){e[n].selected=!0,s&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function hu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Y(91));return Ae({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function vf(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Y(92));if($i(r)){if(1<r.length)throw Error(Y(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ts(r)}}function t0(e,t){var r=Ts(t.value),s=Ts(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function _f(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function r0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?r0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var oa,s0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,n){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,n)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(oa=oa||document.createElement("div"),oa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=oa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function oo(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Vi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gy=["Webkit","ms","Moz","O"];Object.keys(Vi).forEach(function(e){gy.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Vi[t]=Vi[e]})});function n0(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Vi.hasOwnProperty(e)&&Vi[e]?(""+t).trim():t+"px"}function i0(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,n=n0(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,n):e[r]=n}}var vy=Ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pu(e,t){if(t){if(vy[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Y(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Y(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Y(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Y(62))}}function mu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gu=null;function Wd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vu=null,In=null,Bn=null;function yf(e){if(e=zo(e)){if(typeof vu!="function")throw Error(Y(280));var t=e.stateNode;t&&(t=Il(t),vu(e.stateNode,e.type,t))}}function o0(e){In?Bn?Bn.push(e):Bn=[e]:In=e}function a0(){if(In){var e=In,t=Bn;if(Bn=In=null,yf(e),t)for(e=0;e<t.length;e++)yf(t[e])}}function l0(e,t){return e(t)}function c0(){}var yc=!1;function u0(e,t,r){if(yc)return e(t,r);yc=!0;try{return l0(e,t,r)}finally{yc=!1,(In!==null||Bn!==null)&&(c0(),a0())}}function ao(e,t){var r=e.stateNode;if(r===null)return null;var s=Il(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Y(231,t,typeof r));return r}var _u=!1;if(Ur)try{var ki={};Object.defineProperty(ki,"passive",{get:function(){_u=!0}}),window.addEventListener("test",ki,ki),window.removeEventListener("test",ki,ki)}catch{_u=!1}function _y(e,t,r,s,n,i,a,o,l){var p=Array.prototype.slice.call(arguments,3);try{t.apply(r,p)}catch(g){this.onError(g)}}var qi=!1,Ka=null,Qa=!1,yu=null,yy={onError:function(e){qi=!0,Ka=e}};function xy(e,t,r,s,n,i,a,o,l){qi=!1,Ka=null,_y.apply(yy,arguments)}function Sy(e,t,r,s,n,i,a,o,l){if(xy.apply(this,arguments),qi){if(qi){var p=Ka;qi=!1,Ka=null}else throw Error(Y(198));Qa||(Qa=!0,yu=p)}}function _n(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function d0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function xf(e){if(_n(e)!==e)throw Error(Y(188))}function wy(e){var t=e.alternate;if(!t){if(t=_n(e),t===null)throw Error(Y(188));return t!==e?null:e}for(var r=e,s=t;;){var n=r.return;if(n===null)break;var i=n.alternate;if(i===null){if(s=n.return,s!==null){r=s;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===r)return xf(n),e;if(i===s)return xf(n),t;i=i.sibling}throw Error(Y(188))}if(r.return!==s.return)r=n,s=i;else{for(var a=!1,o=n.child;o;){if(o===r){a=!0,r=n,s=i;break}if(o===s){a=!0,s=n,r=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===r){a=!0,r=i,s=n;break}if(o===s){a=!0,s=i,r=n;break}o=o.sibling}if(!a)throw Error(Y(189))}}if(r.alternate!==s)throw Error(Y(190))}if(r.tag!==3)throw Error(Y(188));return r.stateNode.current===r?e:t}function h0(e){return e=wy(e),e!==null?f0(e):null}function f0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=f0(e);if(t!==null)return t;e=e.sibling}return null}var p0=$t.unstable_scheduleCallback,Sf=$t.unstable_cancelCallback,by=$t.unstable_shouldYield,Cy=$t.unstable_requestPaint,Be=$t.unstable_now,Ey=$t.unstable_getCurrentPriorityLevel,zd=$t.unstable_ImmediatePriority,m0=$t.unstable_UserBlockingPriority,Ga=$t.unstable_NormalPriority,ky=$t.unstable_LowPriority,g0=$t.unstable_IdlePriority,Pl=null,Cr=null;function Ry(e){if(Cr&&typeof Cr.onCommitFiberRoot=="function")try{Cr.onCommitFiberRoot(Pl,e,void 0,(e.current.flags&128)===128)}catch{}}var ar=Math.clz32?Math.clz32:jy,Ly=Math.log,Ny=Math.LN2;function jy(e){return e>>>=0,e===0?32:31-(Ly(e)/Ny|0)|0}var aa=64,la=4194304;function Hi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Xa(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,n=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var o=a&~n;o!==0?s=Hi(o):(i&=a,i!==0&&(s=Hi(i)))}else a=r&~n,a!==0?s=Hi(a):i!==0&&(s=Hi(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&n)&&(n=s&-s,i=t&-t,n>=i||n===16&&(i&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-ar(t),n=1<<r,s|=e[r],t&=~n;return s}function Dy(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ty(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-ar(i),o=1<<a,l=n[a];l===-1?(!(o&r)||o&s)&&(n[a]=Dy(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function xu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function v0(){var e=aa;return aa<<=1,!(aa&4194240)&&(aa=64),e}function xc(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Uo(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ar(t),e[t]=r}function Py(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var n=31-ar(r),i=1<<n;t[n]=0,s[n]=-1,e[n]=-1,r&=~i}}function Vd(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-ar(r),n=1<<s;n&t|e[s]&t&&(e[s]|=t),r&=~n}}var we=0;function _0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var y0,qd,x0,S0,w0,Su=!1,ca=[],Ss=null,ws=null,bs=null,lo=new Map,co=new Map,rs=[],Ay="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wf(e,t){switch(e){case"focusin":case"focusout":Ss=null;break;case"dragenter":case"dragleave":ws=null;break;case"mouseover":case"mouseout":bs=null;break;case"pointerover":case"pointerout":lo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":co.delete(t.pointerId)}}function Ri(e,t,r,s,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:i,targetContainers:[n]},t!==null&&(t=zo(t),t!==null&&qd(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function Oy(e,t,r,s,n){switch(t){case"focusin":return Ss=Ri(Ss,e,t,r,s,n),!0;case"dragenter":return ws=Ri(ws,e,t,r,s,n),!0;case"mouseover":return bs=Ri(bs,e,t,r,s,n),!0;case"pointerover":var i=n.pointerId;return lo.set(i,Ri(lo.get(i)||null,e,t,r,s,n)),!0;case"gotpointercapture":return i=n.pointerId,co.set(i,Ri(co.get(i)||null,e,t,r,s,n)),!0}return!1}function b0(e){var t=Ws(e.target);if(t!==null){var r=_n(t);if(r!==null){if(t=r.tag,t===13){if(t=d0(r),t!==null){e.blockedOn=t,w0(e.priority,function(){x0(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function La(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=wu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);gu=s,r.target.dispatchEvent(s),gu=null}else return t=zo(r),t!==null&&qd(t),e.blockedOn=r,!1;t.shift()}return!0}function bf(e,t,r){La(e)&&r.delete(t)}function My(){Su=!1,Ss!==null&&La(Ss)&&(Ss=null),ws!==null&&La(ws)&&(ws=null),bs!==null&&La(bs)&&(bs=null),lo.forEach(bf),co.forEach(bf)}function Li(e,t){e.blockedOn===t&&(e.blockedOn=null,Su||(Su=!0,$t.unstable_scheduleCallback($t.unstable_NormalPriority,My)))}function uo(e){function t(n){return Li(n,e)}if(0<ca.length){Li(ca[0],e);for(var r=1;r<ca.length;r++){var s=ca[r];s.blockedOn===e&&(s.blockedOn=null)}}for(Ss!==null&&Li(Ss,e),ws!==null&&Li(ws,e),bs!==null&&Li(bs,e),lo.forEach(t),co.forEach(t),r=0;r<rs.length;r++)s=rs[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<rs.length&&(r=rs[0],r.blockedOn===null);)b0(r),r.blockedOn===null&&rs.shift()}var Fn=Qr.ReactCurrentBatchConfig,Ya=!0;function Iy(e,t,r,s){var n=we,i=Fn.transition;Fn.transition=null;try{we=1,Kd(e,t,r,s)}finally{we=n,Fn.transition=i}}function By(e,t,r,s){var n=we,i=Fn.transition;Fn.transition=null;try{we=4,Kd(e,t,r,s)}finally{we=n,Fn.transition=i}}function Kd(e,t,r,s){if(Ya){var n=wu(e,t,r,s);if(n===null)jc(e,t,s,Ja,r),wf(e,s);else if(Oy(n,e,t,r,s))s.stopPropagation();else if(wf(e,s),t&4&&-1<Ay.indexOf(e)){for(;n!==null;){var i=zo(n);if(i!==null&&y0(i),i=wu(e,t,r,s),i===null&&jc(e,t,s,Ja,r),i===n)break;n=i}n!==null&&s.stopPropagation()}else jc(e,t,s,null,r)}}var Ja=null;function wu(e,t,r,s){if(Ja=null,e=Wd(s),e=Ws(e),e!==null)if(t=_n(e),t===null)e=null;else if(r=t.tag,r===13){if(e=d0(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ja=e,null}function C0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ey()){case zd:return 1;case m0:return 4;case Ga:case ky:return 16;case g0:return 536870912;default:return 16}default:return 16}}var vs=null,Qd=null,Na=null;function E0(){if(Na)return Na;var e,t=Qd,r=t.length,s,n="value"in vs?vs.value:vs.textContent,i=n.length;for(e=0;e<r&&t[e]===n[e];e++);var a=r-e;for(s=1;s<=a&&t[r-s]===n[i-s];s++);return Na=n.slice(e,1<s?1-s:void 0)}function ja(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ua(){return!0}function Cf(){return!1}function Ut(e){function t(r,s,n,i,a){this._reactName=r,this._targetInst=n,this.type=s,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ua:Cf,this.isPropagationStopped=Cf,this}return Ae(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ua)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ua)},persist:function(){},isPersistent:ua}),t}var pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gd=Ut(pi),Wo=Ae({},pi,{view:0,detail:0}),Fy=Ut(Wo),Sc,wc,Ni,Al=Ae({},Wo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ni&&(Ni&&e.type==="mousemove"?(Sc=e.screenX-Ni.screenX,wc=e.screenY-Ni.screenY):wc=Sc=0,Ni=e),Sc)},movementY:function(e){return"movementY"in e?e.movementY:wc}}),Ef=Ut(Al),$y=Ae({},Al,{dataTransfer:0}),Hy=Ut($y),Uy=Ae({},Wo,{relatedTarget:0}),bc=Ut(Uy),Wy=Ae({},pi,{animationName:0,elapsedTime:0,pseudoElement:0}),zy=Ut(Wy),Vy=Ae({},pi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qy=Ut(Vy),Ky=Ae({},pi,{data:0}),kf=Ut(Ky),Qy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Xy[e])?!!t[e]:!1}function Xd(){return Yy}var Jy=Ae({},Wo,{key:function(e){if(e.key){var t=Qy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ja(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xd,charCode:function(e){return e.type==="keypress"?ja(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ja(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Zy=Ut(Jy),e1=Ae({},Al,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rf=Ut(e1),t1=Ae({},Wo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xd}),r1=Ut(t1),s1=Ae({},pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),n1=Ut(s1),i1=Ae({},Al,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),o1=Ut(i1),a1=[9,13,27,32],Yd=Ur&&"CompositionEvent"in window,Ki=null;Ur&&"documentMode"in document&&(Ki=document.documentMode);var l1=Ur&&"TextEvent"in window&&!Ki,k0=Ur&&(!Yd||Ki&&8<Ki&&11>=Ki),Lf=String.fromCharCode(32),Nf=!1;function R0(e,t){switch(e){case"keyup":return a1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function L0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var En=!1;function c1(e,t){switch(e){case"compositionend":return L0(t);case"keypress":return t.which!==32?null:(Nf=!0,Lf);case"textInput":return e=t.data,e===Lf&&Nf?null:e;default:return null}}function u1(e,t){if(En)return e==="compositionend"||!Yd&&R0(e,t)?(e=E0(),Na=Qd=vs=null,En=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return k0&&t.locale!=="ko"?null:t.data;default:return null}}var d1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!d1[e.type]:t==="textarea"}function N0(e,t,r,s){o0(s),t=Za(t,"onChange"),0<t.length&&(r=new Gd("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var Qi=null,ho=null;function h1(e){$0(e,0)}function Ol(e){var t=Ln(e);if(Zm(t))return e}function f1(e,t){if(e==="change")return t}var j0=!1;if(Ur){var Cc;if(Ur){var Ec="oninput"in document;if(!Ec){var Df=document.createElement("div");Df.setAttribute("oninput","return;"),Ec=typeof Df.oninput=="function"}Cc=Ec}else Cc=!1;j0=Cc&&(!document.documentMode||9<document.documentMode)}function Tf(){Qi&&(Qi.detachEvent("onpropertychange",D0),ho=Qi=null)}function D0(e){if(e.propertyName==="value"&&Ol(ho)){var t=[];N0(t,ho,e,Wd(e)),u0(h1,t)}}function p1(e,t,r){e==="focusin"?(Tf(),Qi=t,ho=r,Qi.attachEvent("onpropertychange",D0)):e==="focusout"&&Tf()}function m1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ol(ho)}function g1(e,t){if(e==="click")return Ol(t)}function v1(e,t){if(e==="input"||e==="change")return Ol(t)}function _1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ur=typeof Object.is=="function"?Object.is:_1;function fo(e,t){if(ur(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var n=r[s];if(!nu.call(t,n)||!ur(e[n],t[n]))return!1}return!0}function Pf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Af(e,t){var r=Pf(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Pf(r)}}function T0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?T0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function P0(){for(var e=window,t=qa();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=qa(e.document)}return t}function Jd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function y1(e){var t=P0(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&T0(r.ownerDocument.documentElement,r)){if(s!==null&&Jd(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var n=r.textContent.length,i=Math.min(s.start,n);s=s.end===void 0?i:Math.min(s.end,n),!e.extend&&i>s&&(n=s,s=i,i=n),n=Af(r,i);var a=Af(r,s);n&&a&&(e.rangeCount!==1||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(n.node,n.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var x1=Ur&&"documentMode"in document&&11>=document.documentMode,kn=null,bu=null,Gi=null,Cu=!1;function Of(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Cu||kn==null||kn!==qa(s)||(s=kn,"selectionStart"in s&&Jd(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Gi&&fo(Gi,s)||(Gi=s,s=Za(bu,"onSelect"),0<s.length&&(t=new Gd("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=kn)))}function da(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Rn={animationend:da("Animation","AnimationEnd"),animationiteration:da("Animation","AnimationIteration"),animationstart:da("Animation","AnimationStart"),transitionend:da("Transition","TransitionEnd")},kc={},A0={};Ur&&(A0=document.createElement("div").style,"AnimationEvent"in window||(delete Rn.animationend.animation,delete Rn.animationiteration.animation,delete Rn.animationstart.animation),"TransitionEvent"in window||delete Rn.transitionend.transition);function Ml(e){if(kc[e])return kc[e];if(!Rn[e])return e;var t=Rn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in A0)return kc[e]=t[r];return e}var O0=Ml("animationend"),M0=Ml("animationiteration"),I0=Ml("animationstart"),B0=Ml("transitionend"),F0=new Map,Mf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Os(e,t){F0.set(e,t),vn(t,[e])}for(var Rc=0;Rc<Mf.length;Rc++){var Lc=Mf[Rc],S1=Lc.toLowerCase(),w1=Lc[0].toUpperCase()+Lc.slice(1);Os(S1,"on"+w1)}Os(O0,"onAnimationEnd");Os(M0,"onAnimationIteration");Os(I0,"onAnimationStart");Os("dblclick","onDoubleClick");Os("focusin","onFocus");Os("focusout","onBlur");Os(B0,"onTransitionEnd");si("onMouseEnter",["mouseout","mouseover"]);si("onMouseLeave",["mouseout","mouseover"]);si("onPointerEnter",["pointerout","pointerover"]);si("onPointerLeave",["pointerout","pointerover"]);vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vn("onBeforeInput",["compositionend","keypress","textInput","paste"]);vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ui="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ui));function If(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,Sy(s,t,void 0,e),e.currentTarget=null}function $0(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],n=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var a=s.length-1;0<=a;a--){var o=s[a],l=o.instance,p=o.currentTarget;if(o=o.listener,l!==i&&n.isPropagationStopped())break e;If(n,o,p),i=l}else for(a=0;a<s.length;a++){if(o=s[a],l=o.instance,p=o.currentTarget,o=o.listener,l!==i&&n.isPropagationStopped())break e;If(n,o,p),i=l}}}if(Qa)throw e=yu,Qa=!1,yu=null,e}function Re(e,t){var r=t[Nu];r===void 0&&(r=t[Nu]=new Set);var s=e+"__bubble";r.has(s)||(H0(t,e,2,!1),r.add(s))}function Nc(e,t,r){var s=0;t&&(s|=4),H0(r,e,s,t)}var ha="_reactListening"+Math.random().toString(36).slice(2);function po(e){if(!e[ha]){e[ha]=!0,Qm.forEach(function(r){r!=="selectionchange"&&(b1.has(r)||Nc(r,!1,e),Nc(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ha]||(t[ha]=!0,Nc("selectionchange",!1,t))}}function H0(e,t,r,s){switch(C0(t)){case 1:var n=Iy;break;case 4:n=By;break;default:n=Kd}r=n.bind(null,t,r,e),n=void 0,!_u||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),s?n!==void 0?e.addEventListener(t,r,{capture:!0,passive:n}):e.addEventListener(t,r,!0):n!==void 0?e.addEventListener(t,r,{passive:n}):e.addEventListener(t,r,!1)}function jc(e,t,r,s,n){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var a=s.tag;if(a===3||a===4){var o=s.stateNode.containerInfo;if(o===n||o.nodeType===8&&o.parentNode===n)break;if(a===4)for(a=s.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===n||l.nodeType===8&&l.parentNode===n))return;a=a.return}for(;o!==null;){if(a=Ws(o),a===null)return;if(l=a.tag,l===5||l===6){s=i=a;continue e}o=o.parentNode}}s=s.return}u0(function(){var p=i,g=Wd(r),h=[];e:{var _=F0.get(e);if(_!==void 0){var S=Gd,x=e;switch(e){case"keypress":if(ja(r)===0)break e;case"keydown":case"keyup":S=Zy;break;case"focusin":x="focus",S=bc;break;case"focusout":x="blur",S=bc;break;case"beforeblur":case"afterblur":S=bc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=Ef;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=Hy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=r1;break;case O0:case M0:case I0:S=zy;break;case B0:S=n1;break;case"scroll":S=Fy;break;case"wheel":S=o1;break;case"copy":case"cut":case"paste":S=qy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=Rf}var v=(t&4)!==0,c=!v&&e==="scroll",f=v?_!==null?_+"Capture":null:_;v=[];for(var u=p,d;u!==null;){d=u;var y=d.stateNode;if(d.tag===5&&y!==null&&(d=y,f!==null&&(y=ao(u,f),y!=null&&v.push(mo(u,y,d)))),c)break;u=u.return}0<v.length&&(_=new S(_,x,null,r,g),h.push({event:_,listeners:v}))}}if(!(t&7)){e:{if(_=e==="mouseover"||e==="pointerover",S=e==="mouseout"||e==="pointerout",_&&r!==gu&&(x=r.relatedTarget||r.fromElement)&&(Ws(x)||x[Wr]))break e;if((S||_)&&(_=g.window===g?g:(_=g.ownerDocument)?_.defaultView||_.parentWindow:window,S?(x=r.relatedTarget||r.toElement,S=p,x=x?Ws(x):null,x!==null&&(c=_n(x),x!==c||x.tag!==5&&x.tag!==6)&&(x=null)):(S=null,x=p),S!==x)){if(v=Ef,y="onMouseLeave",f="onMouseEnter",u="mouse",(e==="pointerout"||e==="pointerover")&&(v=Rf,y="onPointerLeave",f="onPointerEnter",u="pointer"),c=S==null?_:Ln(S),d=x==null?_:Ln(x),_=new v(y,u+"leave",S,r,g),_.target=c,_.relatedTarget=d,y=null,Ws(g)===p&&(v=new v(f,u+"enter",x,r,g),v.target=d,v.relatedTarget=c,y=v),c=y,S&&x)t:{for(v=S,f=x,u=0,d=v;d;d=Sn(d))u++;for(d=0,y=f;y;y=Sn(y))d++;for(;0<u-d;)v=Sn(v),u--;for(;0<d-u;)f=Sn(f),d--;for(;u--;){if(v===f||f!==null&&v===f.alternate)break t;v=Sn(v),f=Sn(f)}v=null}else v=null;S!==null&&Bf(h,_,S,v,!1),x!==null&&c!==null&&Bf(h,c,x,v,!0)}}e:{if(_=p?Ln(p):window,S=_.nodeName&&_.nodeName.toLowerCase(),S==="select"||S==="input"&&_.type==="file")var w=f1;else if(jf(_))if(j0)w=v1;else{w=m1;var C=p1}else(S=_.nodeName)&&S.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(w=g1);if(w&&(w=w(e,p))){N0(h,w,r,g);break e}C&&C(e,_,p),e==="focusout"&&(C=_._wrapperState)&&C.controlled&&_.type==="number"&&du(_,"number",_.value)}switch(C=p?Ln(p):window,e){case"focusin":(jf(C)||C.contentEditable==="true")&&(kn=C,bu=p,Gi=null);break;case"focusout":Gi=bu=kn=null;break;case"mousedown":Cu=!0;break;case"contextmenu":case"mouseup":case"dragend":Cu=!1,Of(h,r,g);break;case"selectionchange":if(x1)break;case"keydown":case"keyup":Of(h,r,g)}var R;if(Yd)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else En?R0(e,r)&&(b="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(b="onCompositionStart");b&&(k0&&r.locale!=="ko"&&(En||b!=="onCompositionStart"?b==="onCompositionEnd"&&En&&(R=E0()):(vs=g,Qd="value"in vs?vs.value:vs.textContent,En=!0)),C=Za(p,b),0<C.length&&(b=new kf(b,e,null,r,g),h.push({event:b,listeners:C}),R?b.data=R:(R=L0(r),R!==null&&(b.data=R)))),(R=l1?c1(e,r):u1(e,r))&&(p=Za(p,"onBeforeInput"),0<p.length&&(g=new kf("onBeforeInput","beforeinput",null,r,g),h.push({event:g,listeners:p}),g.data=R))}$0(h,t)})}function mo(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Za(e,t){for(var r=t+"Capture",s=[];e!==null;){var n=e,i=n.stateNode;n.tag===5&&i!==null&&(n=i,i=ao(e,r),i!=null&&s.unshift(mo(e,i,n)),i=ao(e,t),i!=null&&s.push(mo(e,i,n))),e=e.return}return s}function Sn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Bf(e,t,r,s,n){for(var i=t._reactName,a=[];r!==null&&r!==s;){var o=r,l=o.alternate,p=o.stateNode;if(l!==null&&l===s)break;o.tag===5&&p!==null&&(o=p,n?(l=ao(r,i),l!=null&&a.unshift(mo(r,l,o))):n||(l=ao(r,i),l!=null&&a.push(mo(r,l,o)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var C1=/\r\n?/g,E1=/\u0000|\uFFFD/g;function Ff(e){return(typeof e=="string"?e:""+e).replace(C1,`
`).replace(E1,"")}function fa(e,t,r){if(t=Ff(t),Ff(e)!==t&&r)throw Error(Y(425))}function el(){}var Eu=null,ku=null;function Ru(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Lu=typeof setTimeout=="function"?setTimeout:void 0,k1=typeof clearTimeout=="function"?clearTimeout:void 0,$f=typeof Promise=="function"?Promise:void 0,R1=typeof queueMicrotask=="function"?queueMicrotask:typeof $f<"u"?function(e){return $f.resolve(null).then(e).catch(L1)}:Lu;function L1(e){setTimeout(function(){throw e})}function Dc(e,t){var r=t,s=0;do{var n=r.nextSibling;if(e.removeChild(r),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(s===0){e.removeChild(n),uo(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=n}while(r);uo(t)}function Cs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Hf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var mi=Math.random().toString(36).slice(2),Sr="__reactFiber$"+mi,go="__reactProps$"+mi,Wr="__reactContainer$"+mi,Nu="__reactEvents$"+mi,N1="__reactListeners$"+mi,j1="__reactHandles$"+mi;function Ws(e){var t=e[Sr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Wr]||r[Sr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Hf(e);e!==null;){if(r=e[Sr])return r;e=Hf(e)}return t}e=r,r=e.parentNode}return null}function zo(e){return e=e[Sr]||e[Wr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ln(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Y(33))}function Il(e){return e[go]||null}var ju=[],Nn=-1;function Ms(e){return{current:e}}function Le(e){0>Nn||(e.current=ju[Nn],ju[Nn]=null,Nn--)}function Ce(e,t){Nn++,ju[Nn]=e.current,e.current=t}var Ps={},gt=Ms(Ps),Dt=Ms(!1),cn=Ps;function ni(e,t){var r=e.type.contextTypes;if(!r)return Ps;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var n={},i;for(i in r)n[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=n),n}function Tt(e){return e=e.childContextTypes,e!=null}function tl(){Le(Dt),Le(gt)}function Uf(e,t,r){if(gt.current!==Ps)throw Error(Y(168));Ce(gt,t),Ce(Dt,r)}function U0(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var n in s)if(!(n in t))throw Error(Y(108,py(e)||"Unknown",n));return Ae({},r,s)}function rl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ps,cn=gt.current,Ce(gt,e),Ce(Dt,Dt.current),!0}function Wf(e,t,r){var s=e.stateNode;if(!s)throw Error(Y(169));r?(e=U0(e,t,cn),s.__reactInternalMemoizedMergedChildContext=e,Le(Dt),Le(gt),Ce(gt,e)):Le(Dt),Ce(Dt,r)}var Dr=null,Bl=!1,Tc=!1;function W0(e){Dr===null?Dr=[e]:Dr.push(e)}function D1(e){Bl=!0,W0(e)}function Is(){if(!Tc&&Dr!==null){Tc=!0;var e=0,t=we;try{var r=Dr;for(we=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}Dr=null,Bl=!1}catch(n){throw Dr!==null&&(Dr=Dr.slice(e+1)),p0(zd,Is),n}finally{we=t,Tc=!1}}return null}var jn=[],Dn=0,sl=null,nl=0,Vt=[],qt=0,un=null,Mr=1,Ir="";function Hs(e,t){jn[Dn++]=nl,jn[Dn++]=sl,sl=e,nl=t}function z0(e,t,r){Vt[qt++]=Mr,Vt[qt++]=Ir,Vt[qt++]=un,un=e;var s=Mr;e=Ir;var n=32-ar(s)-1;s&=~(1<<n),r+=1;var i=32-ar(t)+n;if(30<i){var a=n-n%5;i=(s&(1<<a)-1).toString(32),s>>=a,n-=a,Mr=1<<32-ar(t)+n|r<<n|s,Ir=i+e}else Mr=1<<i|r<<n|s,Ir=e}function Zd(e){e.return!==null&&(Hs(e,1),z0(e,1,0))}function eh(e){for(;e===sl;)sl=jn[--Dn],jn[Dn]=null,nl=jn[--Dn],jn[Dn]=null;for(;e===un;)un=Vt[--qt],Vt[qt]=null,Ir=Vt[--qt],Vt[qt]=null,Mr=Vt[--qt],Vt[qt]=null}var Ft=null,Bt=null,je=!1,sr=null;function V0(e,t){var r=Kt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function zf(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ft=e,Bt=Cs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ft=e,Bt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=un!==null?{id:Mr,overflow:Ir}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Kt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ft=e,Bt=null,!0):!1;default:return!1}}function Du(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Tu(e){if(je){var t=Bt;if(t){var r=t;if(!zf(e,t)){if(Du(e))throw Error(Y(418));t=Cs(r.nextSibling);var s=Ft;t&&zf(e,t)?V0(s,r):(e.flags=e.flags&-4097|2,je=!1,Ft=e)}}else{if(Du(e))throw Error(Y(418));e.flags=e.flags&-4097|2,je=!1,Ft=e}}}function Vf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ft=e}function pa(e){if(e!==Ft)return!1;if(!je)return Vf(e),je=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ru(e.type,e.memoizedProps)),t&&(t=Bt)){if(Du(e))throw q0(),Error(Y(418));for(;t;)V0(e,t),t=Cs(t.nextSibling)}if(Vf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Y(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Bt=Cs(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Bt=null}}else Bt=Ft?Cs(e.stateNode.nextSibling):null;return!0}function q0(){for(var e=Bt;e;)e=Cs(e.nextSibling)}function ii(){Bt=Ft=null,je=!1}function th(e){sr===null?sr=[e]:sr.push(e)}var T1=Qr.ReactCurrentBatchConfig;function ji(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Y(309));var s=r.stateNode}if(!s)throw Error(Y(147,e));var n=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=n.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(Y(284));if(!r._owner)throw Error(Y(290,e))}return e}function ma(e,t){throw e=Object.prototype.toString.call(t),Error(Y(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qf(e){var t=e._init;return t(e._payload)}function K0(e){function t(f,u){if(e){var d=f.deletions;d===null?(f.deletions=[u],f.flags|=16):d.push(u)}}function r(f,u){if(!e)return null;for(;u!==null;)t(f,u),u=u.sibling;return null}function s(f,u){for(f=new Map;u!==null;)u.key!==null?f.set(u.key,u):f.set(u.index,u),u=u.sibling;return f}function n(f,u){return f=Ls(f,u),f.index=0,f.sibling=null,f}function i(f,u,d){return f.index=d,e?(d=f.alternate,d!==null?(d=d.index,d<u?(f.flags|=2,u):d):(f.flags|=2,u)):(f.flags|=1048576,u)}function a(f){return e&&f.alternate===null&&(f.flags|=2),f}function o(f,u,d,y){return u===null||u.tag!==6?(u=Fc(d,f.mode,y),u.return=f,u):(u=n(u,d),u.return=f,u)}function l(f,u,d,y){var w=d.type;return w===Cn?g(f,u,d.props.children,y,d.key):u!==null&&(u.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===es&&qf(w)===u.type)?(y=n(u,d.props),y.ref=ji(f,u,d),y.return=f,y):(y=Ia(d.type,d.key,d.props,null,f.mode,y),y.ref=ji(f,u,d),y.return=f,y)}function p(f,u,d,y){return u===null||u.tag!==4||u.stateNode.containerInfo!==d.containerInfo||u.stateNode.implementation!==d.implementation?(u=$c(d,f.mode,y),u.return=f,u):(u=n(u,d.children||[]),u.return=f,u)}function g(f,u,d,y,w){return u===null||u.tag!==7?(u=ln(d,f.mode,y,w),u.return=f,u):(u=n(u,d),u.return=f,u)}function h(f,u,d){if(typeof u=="string"&&u!==""||typeof u=="number")return u=Fc(""+u,f.mode,d),u.return=f,u;if(typeof u=="object"&&u!==null){switch(u.$$typeof){case na:return d=Ia(u.type,u.key,u.props,null,f.mode,d),d.ref=ji(f,null,u),d.return=f,d;case bn:return u=$c(u,f.mode,d),u.return=f,u;case es:var y=u._init;return h(f,y(u._payload),d)}if($i(u)||Ei(u))return u=ln(u,f.mode,d,null),u.return=f,u;ma(f,u)}return null}function _(f,u,d,y){var w=u!==null?u.key:null;if(typeof d=="string"&&d!==""||typeof d=="number")return w!==null?null:o(f,u,""+d,y);if(typeof d=="object"&&d!==null){switch(d.$$typeof){case na:return d.key===w?l(f,u,d,y):null;case bn:return d.key===w?p(f,u,d,y):null;case es:return w=d._init,_(f,u,w(d._payload),y)}if($i(d)||Ei(d))return w!==null?null:g(f,u,d,y,null);ma(f,d)}return null}function S(f,u,d,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return f=f.get(d)||null,o(u,f,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case na:return f=f.get(y.key===null?d:y.key)||null,l(u,f,y,w);case bn:return f=f.get(y.key===null?d:y.key)||null,p(u,f,y,w);case es:var C=y._init;return S(f,u,d,C(y._payload),w)}if($i(y)||Ei(y))return f=f.get(d)||null,g(u,f,y,w,null);ma(u,y)}return null}function x(f,u,d,y){for(var w=null,C=null,R=u,b=u=0,E=null;R!==null&&b<d.length;b++){R.index>b?(E=R,R=null):E=R.sibling;var D=_(f,R,d[b],y);if(D===null){R===null&&(R=E);break}e&&R&&D.alternate===null&&t(f,R),u=i(D,u,b),C===null?w=D:C.sibling=D,C=D,R=E}if(b===d.length)return r(f,R),je&&Hs(f,b),w;if(R===null){for(;b<d.length;b++)R=h(f,d[b],y),R!==null&&(u=i(R,u,b),C===null?w=R:C.sibling=R,C=R);return je&&Hs(f,b),w}for(R=s(f,R);b<d.length;b++)E=S(R,f,b,d[b],y),E!==null&&(e&&E.alternate!==null&&R.delete(E.key===null?b:E.key),u=i(E,u,b),C===null?w=E:C.sibling=E,C=E);return e&&R.forEach(function(O){return t(f,O)}),je&&Hs(f,b),w}function v(f,u,d,y){var w=Ei(d);if(typeof w!="function")throw Error(Y(150));if(d=w.call(d),d==null)throw Error(Y(151));for(var C=w=null,R=u,b=u=0,E=null,D=d.next();R!==null&&!D.done;b++,D=d.next()){R.index>b?(E=R,R=null):E=R.sibling;var O=_(f,R,D.value,y);if(O===null){R===null&&(R=E);break}e&&R&&O.alternate===null&&t(f,R),u=i(O,u,b),C===null?w=O:C.sibling=O,C=O,R=E}if(D.done)return r(f,R),je&&Hs(f,b),w;if(R===null){for(;!D.done;b++,D=d.next())D=h(f,D.value,y),D!==null&&(u=i(D,u,b),C===null?w=D:C.sibling=D,C=D);return je&&Hs(f,b),w}for(R=s(f,R);!D.done;b++,D=d.next())D=S(R,f,b,D.value,y),D!==null&&(e&&D.alternate!==null&&R.delete(D.key===null?b:D.key),u=i(D,u,b),C===null?w=D:C.sibling=D,C=D);return e&&R.forEach(function(N){return t(f,N)}),je&&Hs(f,b),w}function c(f,u,d,y){if(typeof d=="object"&&d!==null&&d.type===Cn&&d.key===null&&(d=d.props.children),typeof d=="object"&&d!==null){switch(d.$$typeof){case na:e:{for(var w=d.key,C=u;C!==null;){if(C.key===w){if(w=d.type,w===Cn){if(C.tag===7){r(f,C.sibling),u=n(C,d.props.children),u.return=f,f=u;break e}}else if(C.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===es&&qf(w)===C.type){r(f,C.sibling),u=n(C,d.props),u.ref=ji(f,C,d),u.return=f,f=u;break e}r(f,C);break}else t(f,C);C=C.sibling}d.type===Cn?(u=ln(d.props.children,f.mode,y,d.key),u.return=f,f=u):(y=Ia(d.type,d.key,d.props,null,f.mode,y),y.ref=ji(f,u,d),y.return=f,f=y)}return a(f);case bn:e:{for(C=d.key;u!==null;){if(u.key===C)if(u.tag===4&&u.stateNode.containerInfo===d.containerInfo&&u.stateNode.implementation===d.implementation){r(f,u.sibling),u=n(u,d.children||[]),u.return=f,f=u;break e}else{r(f,u);break}else t(f,u);u=u.sibling}u=$c(d,f.mode,y),u.return=f,f=u}return a(f);case es:return C=d._init,c(f,u,C(d._payload),y)}if($i(d))return x(f,u,d,y);if(Ei(d))return v(f,u,d,y);ma(f,d)}return typeof d=="string"&&d!==""||typeof d=="number"?(d=""+d,u!==null&&u.tag===6?(r(f,u.sibling),u=n(u,d),u.return=f,f=u):(r(f,u),u=Fc(d,f.mode,y),u.return=f,f=u),a(f)):r(f,u)}return c}var oi=K0(!0),Q0=K0(!1),il=Ms(null),ol=null,Tn=null,rh=null;function sh(){rh=Tn=ol=null}function nh(e){var t=il.current;Le(il),e._currentValue=t}function Pu(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function $n(e,t){ol=e,rh=Tn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(jt=!0),e.firstContext=null)}function Gt(e){var t=e._currentValue;if(rh!==e)if(e={context:e,memoizedValue:t,next:null},Tn===null){if(ol===null)throw Error(Y(308));Tn=e,ol.dependencies={lanes:0,firstContext:e}}else Tn=Tn.next=e;return t}var zs=null;function ih(e){zs===null?zs=[e]:zs.push(e)}function G0(e,t,r,s){var n=t.interleaved;return n===null?(r.next=r,ih(t)):(r.next=n.next,n.next=r),t.interleaved=r,zr(e,s)}function zr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ts=!1;function oh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function X0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Es(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Se&2){var n=s.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),s.pending=t,zr(e,r)}return n=s.interleaved,n===null?(t.next=t,ih(s)):(t.next=n.next,n.next=t),s.interleaved=t,zr(e,r)}function Da(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Vd(e,r)}}function Kf(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var n=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?n=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?n=i=t:i=i.next=t}else n=i=t;r={baseState:s.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function al(e,t,r,s){var n=e.updateQueue;ts=!1;var i=n.firstBaseUpdate,a=n.lastBaseUpdate,o=n.shared.pending;if(o!==null){n.shared.pending=null;var l=o,p=l.next;l.next=null,a===null?i=p:a.next=p,a=l;var g=e.alternate;g!==null&&(g=g.updateQueue,o=g.lastBaseUpdate,o!==a&&(o===null?g.firstBaseUpdate=p:o.next=p,g.lastBaseUpdate=l))}if(i!==null){var h=n.baseState;a=0,g=p=l=null,o=i;do{var _=o.lane,S=o.eventTime;if((s&_)===_){g!==null&&(g=g.next={eventTime:S,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var x=e,v=o;switch(_=t,S=r,v.tag){case 1:if(x=v.payload,typeof x=="function"){h=x.call(S,h,_);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,_=typeof x=="function"?x.call(S,h,_):x,_==null)break e;h=Ae({},h,_);break e;case 2:ts=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,_=n.effects,_===null?n.effects=[o]:_.push(o))}else S={eventTime:S,lane:_,tag:o.tag,payload:o.payload,callback:o.callback,next:null},g===null?(p=g=S,l=h):g=g.next=S,a|=_;if(o=o.next,o===null){if(o=n.shared.pending,o===null)break;_=o,o=_.next,_.next=null,n.lastBaseUpdate=_,n.shared.pending=null}}while(1);if(g===null&&(l=h),n.baseState=l,n.firstBaseUpdate=p,n.lastBaseUpdate=g,t=n.shared.interleaved,t!==null){n=t;do a|=n.lane,n=n.next;while(n!==t)}else i===null&&(n.shared.lanes=0);hn|=a,e.lanes=a,e.memoizedState=h}}function Qf(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],n=s.callback;if(n!==null){if(s.callback=null,s=r,typeof n!="function")throw Error(Y(191,n));n.call(s)}}}var Vo={},Er=Ms(Vo),vo=Ms(Vo),_o=Ms(Vo);function Vs(e){if(e===Vo)throw Error(Y(174));return e}function ah(e,t){switch(Ce(_o,t),Ce(vo,e),Ce(Er,Vo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=fu(t,e)}Le(Er),Ce(Er,t)}function ai(){Le(Er),Le(vo),Le(_o)}function Y0(e){Vs(_o.current);var t=Vs(Er.current),r=fu(t,e.type);t!==r&&(Ce(vo,e),Ce(Er,r))}function lh(e){vo.current===e&&(Le(Er),Le(vo))}var Te=Ms(0);function ll(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Pc=[];function ch(){for(var e=0;e<Pc.length;e++)Pc[e]._workInProgressVersionPrimary=null;Pc.length=0}var Ta=Qr.ReactCurrentDispatcher,Ac=Qr.ReactCurrentBatchConfig,dn=0,Pe=null,Qe=null,tt=null,cl=!1,Xi=!1,yo=0,P1=0;function dt(){throw Error(Y(321))}function uh(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ur(e[r],t[r]))return!1;return!0}function dh(e,t,r,s,n,i){if(dn=i,Pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ta.current=e===null||e.memoizedState===null?I1:B1,e=r(s,n),Xi){i=0;do{if(Xi=!1,yo=0,25<=i)throw Error(Y(301));i+=1,tt=Qe=null,t.updateQueue=null,Ta.current=F1,e=r(s,n)}while(Xi)}if(Ta.current=ul,t=Qe!==null&&Qe.next!==null,dn=0,tt=Qe=Pe=null,cl=!1,t)throw Error(Y(300));return e}function hh(){var e=yo!==0;return yo=0,e}function gr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?Pe.memoizedState=tt=e:tt=tt.next=e,tt}function Xt(){if(Qe===null){var e=Pe.alternate;e=e!==null?e.memoizedState:null}else e=Qe.next;var t=tt===null?Pe.memoizedState:tt.next;if(t!==null)tt=t,Qe=e;else{if(e===null)throw Error(Y(310));Qe=e,e={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},tt===null?Pe.memoizedState=tt=e:tt=tt.next=e}return tt}function xo(e,t){return typeof t=="function"?t(e):t}function Oc(e){var t=Xt(),r=t.queue;if(r===null)throw Error(Y(311));r.lastRenderedReducer=e;var s=Qe,n=s.baseQueue,i=r.pending;if(i!==null){if(n!==null){var a=n.next;n.next=i.next,i.next=a}s.baseQueue=n=i,r.pending=null}if(n!==null){i=n.next,s=s.baseState;var o=a=null,l=null,p=i;do{var g=p.lane;if((dn&g)===g)l!==null&&(l=l.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),s=p.hasEagerState?p.eagerState:e(s,p.action);else{var h={lane:g,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};l===null?(o=l=h,a=s):l=l.next=h,Pe.lanes|=g,hn|=g}p=p.next}while(p!==null&&p!==i);l===null?a=s:l.next=o,ur(s,t.memoizedState)||(jt=!0),t.memoizedState=s,t.baseState=a,t.baseQueue=l,r.lastRenderedState=s}if(e=r.interleaved,e!==null){n=e;do i=n.lane,Pe.lanes|=i,hn|=i,n=n.next;while(n!==e)}else n===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Mc(e){var t=Xt(),r=t.queue;if(r===null)throw Error(Y(311));r.lastRenderedReducer=e;var s=r.dispatch,n=r.pending,i=t.memoizedState;if(n!==null){r.pending=null;var a=n=n.next;do i=e(i,a.action),a=a.next;while(a!==n);ur(i,t.memoizedState)||(jt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,s]}function J0(){}function Z0(e,t){var r=Pe,s=Xt(),n=t(),i=!ur(s.memoizedState,n);if(i&&(s.memoizedState=n,jt=!0),s=s.queue,fh(rg.bind(null,r,s,e),[e]),s.getSnapshot!==t||i||tt!==null&&tt.memoizedState.tag&1){if(r.flags|=2048,So(9,tg.bind(null,r,s,n,t),void 0,null),rt===null)throw Error(Y(349));dn&30||eg(r,t,n)}return n}function eg(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Pe.updateQueue,t===null?(t={lastEffect:null,stores:null},Pe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function tg(e,t,r,s){t.value=r,t.getSnapshot=s,sg(t)&&ng(e)}function rg(e,t,r){return r(function(){sg(t)&&ng(e)})}function sg(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ur(e,r)}catch{return!0}}function ng(e){var t=zr(e,1);t!==null&&lr(t,e,1,-1)}function Gf(e){var t=gr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xo,lastRenderedState:e},t.queue=e,e=e.dispatch=M1.bind(null,Pe,e),[t.memoizedState,e]}function So(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=Pe.updateQueue,t===null?(t={lastEffect:null,stores:null},Pe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function ig(){return Xt().memoizedState}function Pa(e,t,r,s){var n=gr();Pe.flags|=e,n.memoizedState=So(1|t,r,void 0,s===void 0?null:s)}function Fl(e,t,r,s){var n=Xt();s=s===void 0?null:s;var i=void 0;if(Qe!==null){var a=Qe.memoizedState;if(i=a.destroy,s!==null&&uh(s,a.deps)){n.memoizedState=So(t,r,i,s);return}}Pe.flags|=e,n.memoizedState=So(1|t,r,i,s)}function Xf(e,t){return Pa(8390656,8,e,t)}function fh(e,t){return Fl(2048,8,e,t)}function og(e,t){return Fl(4,2,e,t)}function ag(e,t){return Fl(4,4,e,t)}function lg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function cg(e,t,r){return r=r!=null?r.concat([e]):null,Fl(4,4,lg.bind(null,t,e),r)}function ph(){}function ug(e,t){var r=Xt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&uh(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function dg(e,t){var r=Xt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&uh(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function hg(e,t,r){return dn&21?(ur(r,t)||(r=v0(),Pe.lanes|=r,hn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,jt=!0),e.memoizedState=r)}function A1(e,t){var r=we;we=r!==0&&4>r?r:4,e(!0);var s=Ac.transition;Ac.transition={};try{e(!1),t()}finally{we=r,Ac.transition=s}}function fg(){return Xt().memoizedState}function O1(e,t,r){var s=Rs(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},pg(e))mg(t,r);else if(r=G0(e,t,r,s),r!==null){var n=wt();lr(r,e,s,n),gg(r,t,s)}}function M1(e,t,r){var s=Rs(e),n={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(pg(e))mg(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,r);if(n.hasEagerState=!0,n.eagerState=o,ur(o,a)){var l=t.interleaved;l===null?(n.next=n,ih(t)):(n.next=l.next,l.next=n),t.interleaved=n;return}}catch{}finally{}r=G0(e,t,n,s),r!==null&&(n=wt(),lr(r,e,s,n),gg(r,t,s))}}function pg(e){var t=e.alternate;return e===Pe||t!==null&&t===Pe}function mg(e,t){Xi=cl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function gg(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Vd(e,r)}}var ul={readContext:Gt,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useInsertionEffect:dt,useLayoutEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useMutableSource:dt,useSyncExternalStore:dt,useId:dt,unstable_isNewReconciler:!1},I1={readContext:Gt,useCallback:function(e,t){return gr().memoizedState=[e,t===void 0?null:t],e},useContext:Gt,useEffect:Xf,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Pa(4194308,4,lg.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Pa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pa(4,2,e,t)},useMemo:function(e,t){var r=gr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=gr();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=O1.bind(null,Pe,e),[s.memoizedState,e]},useRef:function(e){var t=gr();return e={current:e},t.memoizedState=e},useState:Gf,useDebugValue:ph,useDeferredValue:function(e){return gr().memoizedState=e},useTransition:function(){var e=Gf(!1),t=e[0];return e=A1.bind(null,e[1]),gr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=Pe,n=gr();if(je){if(r===void 0)throw Error(Y(407));r=r()}else{if(r=t(),rt===null)throw Error(Y(349));dn&30||eg(s,t,r)}n.memoizedState=r;var i={value:r,getSnapshot:t};return n.queue=i,Xf(rg.bind(null,s,i,e),[e]),s.flags|=2048,So(9,tg.bind(null,s,i,r,t),void 0,null),r},useId:function(){var e=gr(),t=rt.identifierPrefix;if(je){var r=Ir,s=Mr;r=(s&~(1<<32-ar(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=yo++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=P1++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},B1={readContext:Gt,useCallback:ug,useContext:Gt,useEffect:fh,useImperativeHandle:cg,useInsertionEffect:og,useLayoutEffect:ag,useMemo:dg,useReducer:Oc,useRef:ig,useState:function(){return Oc(xo)},useDebugValue:ph,useDeferredValue:function(e){var t=Xt();return hg(t,Qe.memoizedState,e)},useTransition:function(){var e=Oc(xo)[0],t=Xt().memoizedState;return[e,t]},useMutableSource:J0,useSyncExternalStore:Z0,useId:fg,unstable_isNewReconciler:!1},F1={readContext:Gt,useCallback:ug,useContext:Gt,useEffect:fh,useImperativeHandle:cg,useInsertionEffect:og,useLayoutEffect:ag,useMemo:dg,useReducer:Mc,useRef:ig,useState:function(){return Mc(xo)},useDebugValue:ph,useDeferredValue:function(e){var t=Xt();return Qe===null?t.memoizedState=e:hg(t,Qe.memoizedState,e)},useTransition:function(){var e=Mc(xo)[0],t=Xt().memoizedState;return[e,t]},useMutableSource:J0,useSyncExternalStore:Z0,useId:fg,unstable_isNewReconciler:!1};function Jt(e,t){if(e&&e.defaultProps){t=Ae({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Au(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:Ae({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var $l={isMounted:function(e){return(e=e._reactInternals)?_n(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=wt(),n=Rs(e),i=Fr(s,n);i.payload=t,r!=null&&(i.callback=r),t=Es(e,i,n),t!==null&&(lr(t,e,n,s),Da(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=wt(),n=Rs(e),i=Fr(s,n);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Es(e,i,n),t!==null&&(lr(t,e,n,s),Da(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=wt(),s=Rs(e),n=Fr(r,s);n.tag=2,t!=null&&(n.callback=t),t=Es(e,n,s),t!==null&&(lr(t,e,s,r),Da(t,e,s))}};function Yf(e,t,r,s,n,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,a):t.prototype&&t.prototype.isPureReactComponent?!fo(r,s)||!fo(n,i):!0}function vg(e,t,r){var s=!1,n=Ps,i=t.contextType;return typeof i=="object"&&i!==null?i=Gt(i):(n=Tt(t)?cn:gt.current,s=t.contextTypes,i=(s=s!=null)?ni(e,n):Ps),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=$l,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=i),t}function Jf(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&$l.enqueueReplaceState(t,t.state,null)}function Ou(e,t,r,s){var n=e.stateNode;n.props=r,n.state=e.memoizedState,n.refs={},oh(e);var i=t.contextType;typeof i=="object"&&i!==null?n.context=Gt(i):(i=Tt(t)?cn:gt.current,n.context=ni(e,i)),n.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Au(e,t,i,r),n.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(t=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),t!==n.state&&$l.enqueueReplaceState(n,n.state,null),al(e,r,n,s),n.state=e.memoizedState),typeof n.componentDidMount=="function"&&(e.flags|=4194308)}function li(e,t){try{var r="",s=t;do r+=fy(s),s=s.return;while(s);var n=r}catch(i){n=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:n,digest:null}}function Ic(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Mu(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var $1=typeof WeakMap=="function"?WeakMap:Map;function _g(e,t,r){r=Fr(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){hl||(hl=!0,qu=s),Mu(e,t)},r}function yg(e,t,r){r=Fr(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var n=t.value;r.payload=function(){return s(n)},r.callback=function(){Mu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Mu(e,t),typeof s!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function Zf(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new $1;var n=new Set;s.set(t,n)}else n=s.get(t),n===void 0&&(n=new Set,s.set(t,n));n.has(r)||(n.add(r),e=ex.bind(null,e,t,r),t.then(e,e))}function ep(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function tp(e,t,r,s,n){return e.mode&1?(e.flags|=65536,e.lanes=n,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Fr(-1,1),t.tag=2,Es(r,t,1))),r.lanes|=1),e)}var H1=Qr.ReactCurrentOwner,jt=!1;function yt(e,t,r,s){t.child=e===null?Q0(t,null,r,s):oi(t,e.child,r,s)}function rp(e,t,r,s,n){r=r.render;var i=t.ref;return $n(t,n),s=dh(e,t,r,s,i,n),r=hh(),e!==null&&!jt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Vr(e,t,n)):(je&&r&&Zd(t),t.flags|=1,yt(e,t,s,n),t.child)}function sp(e,t,r,s,n){if(e===null){var i=r.type;return typeof i=="function"&&!wh(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,xg(e,t,i,s,n)):(e=Ia(r.type,null,s,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&n)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:fo,r(a,s)&&e.ref===t.ref)return Vr(e,t,n)}return t.flags|=1,e=Ls(i,s),e.ref=t.ref,e.return=t,t.child=e}function xg(e,t,r,s,n){if(e!==null){var i=e.memoizedProps;if(fo(i,s)&&e.ref===t.ref)if(jt=!1,t.pendingProps=s=i,(e.lanes&n)!==0)e.flags&131072&&(jt=!0);else return t.lanes=e.lanes,Vr(e,t,n)}return Iu(e,t,r,s,n)}function Sg(e,t,r){var s=t.pendingProps,n=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(An,It),It|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ce(An,It),It|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:r,Ce(An,It),It|=s}else i!==null?(s=i.baseLanes|r,t.memoizedState=null):s=r,Ce(An,It),It|=s;return yt(e,t,n,r),t.child}function wg(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Iu(e,t,r,s,n){var i=Tt(r)?cn:gt.current;return i=ni(t,i),$n(t,n),r=dh(e,t,r,s,i,n),s=hh(),e!==null&&!jt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Vr(e,t,n)):(je&&s&&Zd(t),t.flags|=1,yt(e,t,r,n),t.child)}function np(e,t,r,s,n){if(Tt(r)){var i=!0;rl(t)}else i=!1;if($n(t,n),t.stateNode===null)Aa(e,t),vg(t,r,s),Ou(t,r,s,n),s=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,p=r.contextType;typeof p=="object"&&p!==null?p=Gt(p):(p=Tt(r)?cn:gt.current,p=ni(t,p));var g=r.getDerivedStateFromProps,h=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==s||l!==p)&&Jf(t,a,s,p),ts=!1;var _=t.memoizedState;a.state=_,al(t,s,a,n),l=t.memoizedState,o!==s||_!==l||Dt.current||ts?(typeof g=="function"&&(Au(t,r,g,s),l=t.memoizedState),(o=ts||Yf(t,r,o,s,_,l,p))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=l),a.props=s,a.state=l,a.context=p,s=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{a=t.stateNode,X0(e,t),o=t.memoizedProps,p=t.type===t.elementType?o:Jt(t.type,o),a.props=p,h=t.pendingProps,_=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=Gt(l):(l=Tt(r)?cn:gt.current,l=ni(t,l));var S=r.getDerivedStateFromProps;(g=typeof S=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||_!==l)&&Jf(t,a,s,l),ts=!1,_=t.memoizedState,a.state=_,al(t,s,a,n);var x=t.memoizedState;o!==h||_!==x||Dt.current||ts?(typeof S=="function"&&(Au(t,r,S,s),x=t.memoizedState),(p=ts||Yf(t,r,p,s,_,x,l)||!1)?(g||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(s,x,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(s,x,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=x),a.props=s,a.state=x,a.context=l,s=p):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),s=!1)}return Bu(e,t,r,s,i,n)}function Bu(e,t,r,s,n,i){wg(e,t);var a=(t.flags&128)!==0;if(!s&&!a)return n&&Wf(t,r,!1),Vr(e,t,i);s=t.stateNode,H1.current=t;var o=a&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&a?(t.child=oi(t,e.child,null,i),t.child=oi(t,null,o,i)):yt(e,t,o,i),t.memoizedState=s.state,n&&Wf(t,r,!0),t.child}function bg(e){var t=e.stateNode;t.pendingContext?Uf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Uf(e,t.context,!1),ah(e,t.containerInfo)}function ip(e,t,r,s,n){return ii(),th(n),t.flags|=256,yt(e,t,r,s),t.child}var Fu={dehydrated:null,treeContext:null,retryLane:0};function $u(e){return{baseLanes:e,cachePool:null,transitions:null}}function Cg(e,t,r){var s=t.pendingProps,n=Te.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(n&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(n|=1),Ce(Te,n&1),e===null)return Tu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=s.children,e=s.fallback,i?(s=t.mode,i=t.child,a={mode:"hidden",children:a},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Wl(a,s,0,null),e=ln(e,s,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=$u(r),t.memoizedState=Fu,e):mh(t,a));if(n=e.memoizedState,n!==null&&(o=n.dehydrated,o!==null))return U1(e,t,a,s,o,n,r);if(i){i=s.fallback,a=t.mode,n=e.child,o=n.sibling;var l={mode:"hidden",children:s.children};return!(a&1)&&t.child!==n?(s=t.child,s.childLanes=0,s.pendingProps=l,t.deletions=null):(s=Ls(n,l),s.subtreeFlags=n.subtreeFlags&14680064),o!==null?i=Ls(o,i):(i=ln(i,a,r,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,a=e.child.memoizedState,a=a===null?$u(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=Fu,s}return i=e.child,e=i.sibling,s=Ls(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function mh(e,t){return t=Wl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ga(e,t,r,s){return s!==null&&th(s),oi(t,e.child,null,r),e=mh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function U1(e,t,r,s,n,i,a){if(r)return t.flags&256?(t.flags&=-257,s=Ic(Error(Y(422))),ga(e,t,a,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,n=t.mode,s=Wl({mode:"visible",children:s.children},n,0,null),i=ln(i,n,a,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&oi(t,e.child,null,a),t.child.memoizedState=$u(a),t.memoizedState=Fu,i);if(!(t.mode&1))return ga(e,t,a,null);if(n.data==="$!"){if(s=n.nextSibling&&n.nextSibling.dataset,s)var o=s.dgst;return s=o,i=Error(Y(419)),s=Ic(i,s,void 0),ga(e,t,a,s)}if(o=(a&e.childLanes)!==0,jt||o){if(s=rt,s!==null){switch(a&-a){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(s.suspendedLanes|a)?0:n,n!==0&&n!==i.retryLane&&(i.retryLane=n,zr(e,n),lr(s,e,n,-1))}return Sh(),s=Ic(Error(Y(421))),ga(e,t,a,s)}return n.data==="$?"?(t.flags|=128,t.child=e.child,t=tx.bind(null,e),n._reactRetry=t,null):(e=i.treeContext,Bt=Cs(n.nextSibling),Ft=t,je=!0,sr=null,e!==null&&(Vt[qt++]=Mr,Vt[qt++]=Ir,Vt[qt++]=un,Mr=e.id,Ir=e.overflow,un=t),t=mh(t,s.children),t.flags|=4096,t)}function op(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Pu(e.return,t,r)}function Bc(e,t,r,s,n){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:n}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=r,i.tailMode=n)}function Eg(e,t,r){var s=t.pendingProps,n=s.revealOrder,i=s.tail;if(yt(e,t,s.children,r),s=Te.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&op(e,r,t);else if(e.tag===19)op(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Ce(Te,s),!(t.mode&1))t.memoizedState=null;else switch(n){case"forwards":for(r=t.child,n=null;r!==null;)e=r.alternate,e!==null&&ll(e)===null&&(n=r),r=r.sibling;r=n,r===null?(n=t.child,t.child=null):(n=r.sibling,r.sibling=null),Bc(t,!1,n,r,i);break;case"backwards":for(r=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&ll(e)===null){t.child=n;break}e=n.sibling,n.sibling=r,r=n,n=e}Bc(t,!0,r,null,i);break;case"together":Bc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Aa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),hn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Y(153));if(t.child!==null){for(e=t.child,r=Ls(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ls(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function W1(e,t,r){switch(t.tag){case 3:bg(t),ii();break;case 5:Y0(t);break;case 1:Tt(t.type)&&rl(t);break;case 4:ah(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,n=t.memoizedProps.value;Ce(il,s._currentValue),s._currentValue=n;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Ce(Te,Te.current&1),t.flags|=128,null):r&t.child.childLanes?Cg(e,t,r):(Ce(Te,Te.current&1),e=Vr(e,t,r),e!==null?e.sibling:null);Ce(Te,Te.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return Eg(e,t,r);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),Ce(Te,Te.current),s)break;return null;case 22:case 23:return t.lanes=0,Sg(e,t,r)}return Vr(e,t,r)}var kg,Hu,Rg,Lg;kg=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Hu=function(){};Rg=function(e,t,r,s){var n=e.memoizedProps;if(n!==s){e=t.stateNode,Vs(Er.current);var i=null;switch(r){case"input":n=cu(e,n),s=cu(e,s),i=[];break;case"select":n=Ae({},n,{value:void 0}),s=Ae({},s,{value:void 0}),i=[];break;case"textarea":n=hu(e,n),s=hu(e,s),i=[];break;default:typeof n.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=el)}pu(r,s);var a;r=null;for(p in n)if(!s.hasOwnProperty(p)&&n.hasOwnProperty(p)&&n[p]!=null)if(p==="style"){var o=n[p];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(io.hasOwnProperty(p)?i||(i=[]):(i=i||[]).push(p,null));for(p in s){var l=s[p];if(o=n!=null?n[p]:void 0,s.hasOwnProperty(p)&&l!==o&&(l!=null||o!=null))if(p==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(i||(i=[]),i.push(p,r)),r=l;else p==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(p,l)):p==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(p,""+l):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(io.hasOwnProperty(p)?(l!=null&&p==="onScroll"&&Re("scroll",e),i||o===l||(i=[])):(i=i||[]).push(p,l))}r&&(i=i||[]).push("style",r);var p=i;(t.updateQueue=p)&&(t.flags|=4)}};Lg=function(e,t,r,s){r!==s&&(t.flags|=4)};function Di(e,t){if(!je)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function ht(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var n=e.child;n!==null;)r|=n.lanes|n.childLanes,s|=n.subtreeFlags&14680064,s|=n.flags&14680064,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)r|=n.lanes|n.childLanes,s|=n.subtreeFlags,s|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function z1(e,t,r){var s=t.pendingProps;switch(eh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(t),null;case 1:return Tt(t.type)&&tl(),ht(t),null;case 3:return s=t.stateNode,ai(),Le(Dt),Le(gt),ch(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(pa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,sr!==null&&(Gu(sr),sr=null))),Hu(e,t),ht(t),null;case 5:lh(t);var n=Vs(_o.current);if(r=t.type,e!==null&&t.stateNode!=null)Rg(e,t,r,s,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(Y(166));return ht(t),null}if(e=Vs(Er.current),pa(t)){s=t.stateNode,r=t.type;var i=t.memoizedProps;switch(s[Sr]=t,s[go]=i,e=(t.mode&1)!==0,r){case"dialog":Re("cancel",s),Re("close",s);break;case"iframe":case"object":case"embed":Re("load",s);break;case"video":case"audio":for(n=0;n<Ui.length;n++)Re(Ui[n],s);break;case"source":Re("error",s);break;case"img":case"image":case"link":Re("error",s),Re("load",s);break;case"details":Re("toggle",s);break;case"input":mf(s,i),Re("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},Re("invalid",s);break;case"textarea":vf(s,i),Re("invalid",s)}pu(r,i),n=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?s.textContent!==o&&(i.suppressHydrationWarning!==!0&&fa(s.textContent,o,e),n=["children",o]):typeof o=="number"&&s.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&fa(s.textContent,o,e),n=["children",""+o]):io.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Re("scroll",s)}switch(r){case"input":ia(s),gf(s,i,!0);break;case"textarea":ia(s),_f(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=el)}s=n,t.updateQueue=s,s!==null&&(t.flags|=4)}else{a=n.nodeType===9?n:n.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=r0(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=a.createElement(r,{is:s.is}):(e=a.createElement(r),r==="select"&&(a=e,s.multiple?a.multiple=!0:s.size&&(a.size=s.size))):e=a.createElementNS(e,r),e[Sr]=t,e[go]=s,kg(e,t,!1,!1),t.stateNode=e;e:{switch(a=mu(r,s),r){case"dialog":Re("cancel",e),Re("close",e),n=s;break;case"iframe":case"object":case"embed":Re("load",e),n=s;break;case"video":case"audio":for(n=0;n<Ui.length;n++)Re(Ui[n],e);n=s;break;case"source":Re("error",e),n=s;break;case"img":case"image":case"link":Re("error",e),Re("load",e),n=s;break;case"details":Re("toggle",e),n=s;break;case"input":mf(e,s),n=cu(e,s),Re("invalid",e);break;case"option":n=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},n=Ae({},s,{value:void 0}),Re("invalid",e);break;case"textarea":vf(e,s),n=hu(e,s),Re("invalid",e);break;default:n=s}pu(r,n),o=n;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?i0(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&s0(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&oo(e,l):typeof l=="number"&&oo(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(io.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Re("scroll",e):l!=null&&Fd(e,i,l,a))}switch(r){case"input":ia(e),gf(e,s,!1);break;case"textarea":ia(e),_f(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Ts(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?Mn(e,!!s.multiple,i,!1):s.defaultValue!=null&&Mn(e,!!s.multiple,s.defaultValue,!0);break;default:typeof n.onClick=="function"&&(e.onclick=el)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ht(t),null;case 6:if(e&&t.stateNode!=null)Lg(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(Y(166));if(r=Vs(_o.current),Vs(Er.current),pa(t)){if(s=t.stateNode,r=t.memoizedProps,s[Sr]=t,(i=s.nodeValue!==r)&&(e=Ft,e!==null))switch(e.tag){case 3:fa(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fa(s.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[Sr]=t,t.stateNode=s}return ht(t),null;case 13:if(Le(Te),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(je&&Bt!==null&&t.mode&1&&!(t.flags&128))q0(),ii(),t.flags|=98560,i=!1;else if(i=pa(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(Y(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Y(317));i[Sr]=t}else ii(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ht(t),i=!1}else sr!==null&&(Gu(sr),sr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Te.current&1?Ye===0&&(Ye=3):Sh())),t.updateQueue!==null&&(t.flags|=4),ht(t),null);case 4:return ai(),Hu(e,t),e===null&&po(t.stateNode.containerInfo),ht(t),null;case 10:return nh(t.type._context),ht(t),null;case 17:return Tt(t.type)&&tl(),ht(t),null;case 19:if(Le(Te),i=t.memoizedState,i===null)return ht(t),null;if(s=(t.flags&128)!==0,a=i.rendering,a===null)if(s)Di(i,!1);else{if(Ye!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=ll(e),a!==null){for(t.flags|=128,Di(i,!1),s=a.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)i=r,e=s,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ce(Te,Te.current&1|2),t.child}e=e.sibling}i.tail!==null&&Be()>ci&&(t.flags|=128,s=!0,Di(i,!1),t.lanes=4194304)}else{if(!s)if(e=ll(a),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Di(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!je)return ht(t),null}else 2*Be()-i.renderingStartTime>ci&&r!==1073741824&&(t.flags|=128,s=!0,Di(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Be(),t.sibling=null,r=Te.current,Ce(Te,s?r&1|2:r&1),t):(ht(t),null);case 22:case 23:return xh(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?It&1073741824&&(ht(t),t.subtreeFlags&6&&(t.flags|=8192)):ht(t),null;case 24:return null;case 25:return null}throw Error(Y(156,t.tag))}function V1(e,t){switch(eh(t),t.tag){case 1:return Tt(t.type)&&tl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ai(),Le(Dt),Le(gt),ch(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return lh(t),null;case 13:if(Le(Te),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Y(340));ii()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Le(Te),null;case 4:return ai(),null;case 10:return nh(t.type._context),null;case 22:case 23:return xh(),null;case 24:return null;default:return null}}var va=!1,ft=!1,q1=typeof WeakSet=="function"?WeakSet:Set,oe=null;function Pn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){Me(e,t,s)}else r.current=null}function Uu(e,t,r){try{r()}catch(s){Me(e,t,s)}}var ap=!1;function K1(e,t){if(Eu=Ya,e=P0(),Jd(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var n=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,p=0,g=0,h=e,_=null;t:for(;;){for(var S;h!==r||n!==0&&h.nodeType!==3||(o=a+n),h!==i||s!==0&&h.nodeType!==3||(l=a+s),h.nodeType===3&&(a+=h.nodeValue.length),(S=h.firstChild)!==null;)_=h,h=S;for(;;){if(h===e)break t;if(_===r&&++p===n&&(o=a),_===i&&++g===s&&(l=a),(S=h.nextSibling)!==null)break;h=_,_=h.parentNode}h=S}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(ku={focusedElem:e,selectionRange:r},Ya=!1,oe=t;oe!==null;)if(t=oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,oe=e;else for(;oe!==null;){t=oe;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,c=x.memoizedState,f=t.stateNode,u=f.getSnapshotBeforeUpdate(t.elementType===t.type?v:Jt(t.type,v),c);f.__reactInternalSnapshotBeforeUpdate=u}break;case 3:var d=t.stateNode.containerInfo;d.nodeType===1?d.textContent="":d.nodeType===9&&d.documentElement&&d.removeChild(d.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(y){Me(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,oe=e;break}oe=t.return}return x=ap,ap=!1,x}function Yi(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var n=s=s.next;do{if((n.tag&e)===e){var i=n.destroy;n.destroy=void 0,i!==void 0&&Uu(t,r,i)}n=n.next}while(n!==s)}}function Hl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function Wu(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Ng(e){var t=e.alternate;t!==null&&(e.alternate=null,Ng(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Sr],delete t[go],delete t[Nu],delete t[N1],delete t[j1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function jg(e){return e.tag===5||e.tag===3||e.tag===4}function lp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||jg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zu(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=el));else if(s!==4&&(e=e.child,e!==null))for(zu(e,t,r),e=e.sibling;e!==null;)zu(e,t,r),e=e.sibling}function Vu(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Vu(e,t,r),e=e.sibling;e!==null;)Vu(e,t,r),e=e.sibling}var at=null,tr=!1;function Yr(e,t,r){for(r=r.child;r!==null;)Dg(e,t,r),r=r.sibling}function Dg(e,t,r){if(Cr&&typeof Cr.onCommitFiberUnmount=="function")try{Cr.onCommitFiberUnmount(Pl,r)}catch{}switch(r.tag){case 5:ft||Pn(r,t);case 6:var s=at,n=tr;at=null,Yr(e,t,r),at=s,tr=n,at!==null&&(tr?(e=at,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):at.removeChild(r.stateNode));break;case 18:at!==null&&(tr?(e=at,r=r.stateNode,e.nodeType===8?Dc(e.parentNode,r):e.nodeType===1&&Dc(e,r),uo(e)):Dc(at,r.stateNode));break;case 4:s=at,n=tr,at=r.stateNode.containerInfo,tr=!0,Yr(e,t,r),at=s,tr=n;break;case 0:case 11:case 14:case 15:if(!ft&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){n=s=s.next;do{var i=n,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Uu(r,t,a),n=n.next}while(n!==s)}Yr(e,t,r);break;case 1:if(!ft&&(Pn(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(o){Me(r,t,o)}Yr(e,t,r);break;case 21:Yr(e,t,r);break;case 22:r.mode&1?(ft=(s=ft)||r.memoizedState!==null,Yr(e,t,r),ft=s):Yr(e,t,r);break;default:Yr(e,t,r)}}function cp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new q1),t.forEach(function(s){var n=rx.bind(null,e,s);r.has(s)||(r.add(s),s.then(n,n))})}}function Yt(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var n=r[s];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:at=o.stateNode,tr=!1;break e;case 3:at=o.stateNode.containerInfo,tr=!0;break e;case 4:at=o.stateNode.containerInfo,tr=!0;break e}o=o.return}if(at===null)throw Error(Y(160));Dg(i,a,n),at=null,tr=!1;var l=n.alternate;l!==null&&(l.return=null),n.return=null}catch(p){Me(n,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Tg(t,e),t=t.sibling}function Tg(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Yt(t,e),pr(e),s&4){try{Yi(3,e,e.return),Hl(3,e)}catch(v){Me(e,e.return,v)}try{Yi(5,e,e.return)}catch(v){Me(e,e.return,v)}}break;case 1:Yt(t,e),pr(e),s&512&&r!==null&&Pn(r,r.return);break;case 5:if(Yt(t,e),pr(e),s&512&&r!==null&&Pn(r,r.return),e.flags&32){var n=e.stateNode;try{oo(n,"")}catch(v){Me(e,e.return,v)}}if(s&4&&(n=e.stateNode,n!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&e0(n,i),mu(o,a);var p=mu(o,i);for(a=0;a<l.length;a+=2){var g=l[a],h=l[a+1];g==="style"?i0(n,h):g==="dangerouslySetInnerHTML"?s0(n,h):g==="children"?oo(n,h):Fd(n,g,h,p)}switch(o){case"input":uu(n,i);break;case"textarea":t0(n,i);break;case"select":var _=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!i.multiple;var S=i.value;S!=null?Mn(n,!!i.multiple,S,!1):_!==!!i.multiple&&(i.defaultValue!=null?Mn(n,!!i.multiple,i.defaultValue,!0):Mn(n,!!i.multiple,i.multiple?[]:"",!1))}n[go]=i}catch(v){Me(e,e.return,v)}}break;case 6:if(Yt(t,e),pr(e),s&4){if(e.stateNode===null)throw Error(Y(162));n=e.stateNode,i=e.memoizedProps;try{n.nodeValue=i}catch(v){Me(e,e.return,v)}}break;case 3:if(Yt(t,e),pr(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{uo(t.containerInfo)}catch(v){Me(e,e.return,v)}break;case 4:Yt(t,e),pr(e);break;case 13:Yt(t,e),pr(e),n=e.child,n.flags&8192&&(i=n.memoizedState!==null,n.stateNode.isHidden=i,!i||n.alternate!==null&&n.alternate.memoizedState!==null||(_h=Be())),s&4&&cp(e);break;case 22:if(g=r!==null&&r.memoizedState!==null,e.mode&1?(ft=(p=ft)||g,Yt(t,e),ft=p):Yt(t,e),pr(e),s&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!g&&e.mode&1)for(oe=e,g=e.child;g!==null;){for(h=oe=g;oe!==null;){switch(_=oe,S=_.child,_.tag){case 0:case 11:case 14:case 15:Yi(4,_,_.return);break;case 1:Pn(_,_.return);var x=_.stateNode;if(typeof x.componentWillUnmount=="function"){s=_,r=_.return;try{t=s,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(v){Me(s,r,v)}}break;case 5:Pn(_,_.return);break;case 22:if(_.memoizedState!==null){dp(h);continue}}S!==null?(S.return=_,oe=S):dp(h)}g=g.sibling}e:for(g=null,h=e;;){if(h.tag===5){if(g===null){g=h;try{n=h.stateNode,p?(i=n.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=n0("display",a))}catch(v){Me(e,e.return,v)}}}else if(h.tag===6){if(g===null)try{h.stateNode.nodeValue=p?"":h.memoizedProps}catch(v){Me(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;g===h&&(g=null),h=h.return}g===h&&(g=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Yt(t,e),pr(e),s&4&&cp(e);break;case 21:break;default:Yt(t,e),pr(e)}}function pr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(jg(r)){var s=r;break e}r=r.return}throw Error(Y(160))}switch(s.tag){case 5:var n=s.stateNode;s.flags&32&&(oo(n,""),s.flags&=-33);var i=lp(e);Vu(e,i,n);break;case 3:case 4:var a=s.stateNode.containerInfo,o=lp(e);zu(e,o,a);break;default:throw Error(Y(161))}}catch(l){Me(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Q1(e,t,r){oe=e,Pg(e)}function Pg(e,t,r){for(var s=(e.mode&1)!==0;oe!==null;){var n=oe,i=n.child;if(n.tag===22&&s){var a=n.memoizedState!==null||va;if(!a){var o=n.alternate,l=o!==null&&o.memoizedState!==null||ft;o=va;var p=ft;if(va=a,(ft=l)&&!p)for(oe=n;oe!==null;)a=oe,l=a.child,a.tag===22&&a.memoizedState!==null?hp(n):l!==null?(l.return=a,oe=l):hp(n);for(;i!==null;)oe=i,Pg(i),i=i.sibling;oe=n,va=o,ft=p}up(e)}else n.subtreeFlags&8772&&i!==null?(i.return=n,oe=i):up(e)}}function up(e){for(;oe!==null;){var t=oe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ft||Hl(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!ft)if(r===null)s.componentDidMount();else{var n=t.elementType===t.type?r.memoizedProps:Jt(t.type,r.memoizedProps);s.componentDidUpdate(n,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Qf(t,i,s);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Qf(t,a,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var g=p.memoizedState;if(g!==null){var h=g.dehydrated;h!==null&&uo(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}ft||t.flags&512&&Wu(t)}catch(_){Me(t,t.return,_)}}if(t===e){oe=null;break}if(r=t.sibling,r!==null){r.return=t.return,oe=r;break}oe=t.return}}function dp(e){for(;oe!==null;){var t=oe;if(t===e){oe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,oe=r;break}oe=t.return}}function hp(e){for(;oe!==null;){var t=oe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Hl(4,t)}catch(l){Me(t,r,l)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var n=t.return;try{s.componentDidMount()}catch(l){Me(t,n,l)}}var i=t.return;try{Wu(t)}catch(l){Me(t,i,l)}break;case 5:var a=t.return;try{Wu(t)}catch(l){Me(t,a,l)}}}catch(l){Me(t,t.return,l)}if(t===e){oe=null;break}var o=t.sibling;if(o!==null){o.return=t.return,oe=o;break}oe=t.return}}var G1=Math.ceil,dl=Qr.ReactCurrentDispatcher,gh=Qr.ReactCurrentOwner,Qt=Qr.ReactCurrentBatchConfig,Se=0,rt=null,Ve=null,lt=0,It=0,An=Ms(0),Ye=0,wo=null,hn=0,Ul=0,vh=0,Ji=null,Nt=null,_h=0,ci=1/0,jr=null,hl=!1,qu=null,ks=null,_a=!1,_s=null,fl=0,Zi=0,Ku=null,Oa=-1,Ma=0;function wt(){return Se&6?Be():Oa!==-1?Oa:Oa=Be()}function Rs(e){return e.mode&1?Se&2&&lt!==0?lt&-lt:T1.transition!==null?(Ma===0&&(Ma=v0()),Ma):(e=we,e!==0||(e=window.event,e=e===void 0?16:C0(e.type)),e):1}function lr(e,t,r,s){if(50<Zi)throw Zi=0,Ku=null,Error(Y(185));Uo(e,r,s),(!(Se&2)||e!==rt)&&(e===rt&&(!(Se&2)&&(Ul|=r),Ye===4&&ss(e,lt)),Pt(e,s),r===1&&Se===0&&!(t.mode&1)&&(ci=Be()+500,Bl&&Is()))}function Pt(e,t){var r=e.callbackNode;Ty(e,t);var s=Xa(e,e===rt?lt:0);if(s===0)r!==null&&Sf(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&Sf(r),t===1)e.tag===0?D1(fp.bind(null,e)):W0(fp.bind(null,e)),R1(function(){!(Se&6)&&Is()}),r=null;else{switch(_0(s)){case 1:r=zd;break;case 4:r=m0;break;case 16:r=Ga;break;case 536870912:r=g0;break;default:r=Ga}r=Hg(r,Ag.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Ag(e,t){if(Oa=-1,Ma=0,Se&6)throw Error(Y(327));var r=e.callbackNode;if(Hn()&&e.callbackNode!==r)return null;var s=Xa(e,e===rt?lt:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=pl(e,s);else{t=s;var n=Se;Se|=2;var i=Mg();(rt!==e||lt!==t)&&(jr=null,ci=Be()+500,an(e,t));do try{J1();break}catch(o){Og(e,o)}while(1);sh(),dl.current=i,Se=n,Ve!==null?t=0:(rt=null,lt=0,t=Ye)}if(t!==0){if(t===2&&(n=xu(e),n!==0&&(s=n,t=Qu(e,n))),t===1)throw r=wo,an(e,0),ss(e,s),Pt(e,Be()),r;if(t===6)ss(e,s);else{if(n=e.current.alternate,!(s&30)&&!X1(n)&&(t=pl(e,s),t===2&&(i=xu(e),i!==0&&(s=i,t=Qu(e,i))),t===1))throw r=wo,an(e,0),ss(e,s),Pt(e,Be()),r;switch(e.finishedWork=n,e.finishedLanes=s,t){case 0:case 1:throw Error(Y(345));case 2:Us(e,Nt,jr);break;case 3:if(ss(e,s),(s&130023424)===s&&(t=_h+500-Be(),10<t)){if(Xa(e,0)!==0)break;if(n=e.suspendedLanes,(n&s)!==s){wt(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=Lu(Us.bind(null,e,Nt,jr),t);break}Us(e,Nt,jr);break;case 4:if(ss(e,s),(s&4194240)===s)break;for(t=e.eventTimes,n=-1;0<s;){var a=31-ar(s);i=1<<a,a=t[a],a>n&&(n=a),s&=~i}if(s=n,s=Be()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*G1(s/1960))-s,10<s){e.timeoutHandle=Lu(Us.bind(null,e,Nt,jr),s);break}Us(e,Nt,jr);break;case 5:Us(e,Nt,jr);break;default:throw Error(Y(329))}}}return Pt(e,Be()),e.callbackNode===r?Ag.bind(null,e):null}function Qu(e,t){var r=Ji;return e.current.memoizedState.isDehydrated&&(an(e,t).flags|=256),e=pl(e,t),e!==2&&(t=Nt,Nt=r,t!==null&&Gu(t)),e}function Gu(e){Nt===null?Nt=e:Nt.push.apply(Nt,e)}function X1(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var n=r[s],i=n.getSnapshot;n=n.value;try{if(!ur(i(),n))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ss(e,t){for(t&=~vh,t&=~Ul,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ar(t),s=1<<r;e[r]=-1,t&=~s}}function fp(e){if(Se&6)throw Error(Y(327));Hn();var t=Xa(e,0);if(!(t&1))return Pt(e,Be()),null;var r=pl(e,t);if(e.tag!==0&&r===2){var s=xu(e);s!==0&&(t=s,r=Qu(e,s))}if(r===1)throw r=wo,an(e,0),ss(e,t),Pt(e,Be()),r;if(r===6)throw Error(Y(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Us(e,Nt,jr),Pt(e,Be()),null}function yh(e,t){var r=Se;Se|=1;try{return e(t)}finally{Se=r,Se===0&&(ci=Be()+500,Bl&&Is())}}function fn(e){_s!==null&&_s.tag===0&&!(Se&6)&&Hn();var t=Se;Se|=1;var r=Qt.transition,s=we;try{if(Qt.transition=null,we=1,e)return e()}finally{we=s,Qt.transition=r,Se=t,!(Se&6)&&Is()}}function xh(){It=An.current,Le(An)}function an(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,k1(r)),Ve!==null)for(r=Ve.return;r!==null;){var s=r;switch(eh(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&tl();break;case 3:ai(),Le(Dt),Le(gt),ch();break;case 5:lh(s);break;case 4:ai();break;case 13:Le(Te);break;case 19:Le(Te);break;case 10:nh(s.type._context);break;case 22:case 23:xh()}r=r.return}if(rt=e,Ve=e=Ls(e.current,null),lt=It=t,Ye=0,wo=null,vh=Ul=hn=0,Nt=Ji=null,zs!==null){for(t=0;t<zs.length;t++)if(r=zs[t],s=r.interleaved,s!==null){r.interleaved=null;var n=s.next,i=r.pending;if(i!==null){var a=i.next;i.next=n,s.next=a}r.pending=s}zs=null}return e}function Og(e,t){do{var r=Ve;try{if(sh(),Ta.current=ul,cl){for(var s=Pe.memoizedState;s!==null;){var n=s.queue;n!==null&&(n.pending=null),s=s.next}cl=!1}if(dn=0,tt=Qe=Pe=null,Xi=!1,yo=0,gh.current=null,r===null||r.return===null){Ye=1,wo=t,Ve=null;break}e:{var i=e,a=r.return,o=r,l=t;if(t=lt,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var p=l,g=o,h=g.tag;if(!(g.mode&1)&&(h===0||h===11||h===15)){var _=g.alternate;_?(g.updateQueue=_.updateQueue,g.memoizedState=_.memoizedState,g.lanes=_.lanes):(g.updateQueue=null,g.memoizedState=null)}var S=ep(a);if(S!==null){S.flags&=-257,tp(S,a,o,i,t),S.mode&1&&Zf(i,p,t),t=S,l=p;var x=t.updateQueue;if(x===null){var v=new Set;v.add(l),t.updateQueue=v}else x.add(l);break e}else{if(!(t&1)){Zf(i,p,t),Sh();break e}l=Error(Y(426))}}else if(je&&o.mode&1){var c=ep(a);if(c!==null){!(c.flags&65536)&&(c.flags|=256),tp(c,a,o,i,t),th(li(l,o));break e}}i=l=li(l,o),Ye!==4&&(Ye=2),Ji===null?Ji=[i]:Ji.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var f=_g(i,l,t);Kf(i,f);break e;case 1:o=l;var u=i.type,d=i.stateNode;if(!(i.flags&128)&&(typeof u.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ks===null||!ks.has(d)))){i.flags|=65536,t&=-t,i.lanes|=t;var y=yg(i,o,t);Kf(i,y);break e}}i=i.return}while(i!==null)}Bg(r)}catch(w){t=w,Ve===r&&r!==null&&(Ve=r=r.return);continue}break}while(1)}function Mg(){var e=dl.current;return dl.current=ul,e===null?ul:e}function Sh(){(Ye===0||Ye===3||Ye===2)&&(Ye=4),rt===null||!(hn&268435455)&&!(Ul&268435455)||ss(rt,lt)}function pl(e,t){var r=Se;Se|=2;var s=Mg();(rt!==e||lt!==t)&&(jr=null,an(e,t));do try{Y1();break}catch(n){Og(e,n)}while(1);if(sh(),Se=r,dl.current=s,Ve!==null)throw Error(Y(261));return rt=null,lt=0,Ye}function Y1(){for(;Ve!==null;)Ig(Ve)}function J1(){for(;Ve!==null&&!by();)Ig(Ve)}function Ig(e){var t=$g(e.alternate,e,It);e.memoizedProps=e.pendingProps,t===null?Bg(e):Ve=t,gh.current=null}function Bg(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=V1(r,t),r!==null){r.flags&=32767,Ve=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ye=6,Ve=null;return}}else if(r=z1(r,t,It),r!==null){Ve=r;return}if(t=t.sibling,t!==null){Ve=t;return}Ve=t=e}while(t!==null);Ye===0&&(Ye=5)}function Us(e,t,r){var s=we,n=Qt.transition;try{Qt.transition=null,we=1,Z1(e,t,r,s)}finally{Qt.transition=n,we=s}return null}function Z1(e,t,r,s){do Hn();while(_s!==null);if(Se&6)throw Error(Y(327));r=e.finishedWork;var n=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Y(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Py(e,i),e===rt&&(Ve=rt=null,lt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||_a||(_a=!0,Hg(Ga,function(){return Hn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Qt.transition,Qt.transition=null;var a=we;we=1;var o=Se;Se|=4,gh.current=null,K1(e,r),Tg(r,e),y1(ku),Ya=!!Eu,ku=Eu=null,e.current=r,Q1(r),Cy(),Se=o,we=a,Qt.transition=i}else e.current=r;if(_a&&(_a=!1,_s=e,fl=n),i=e.pendingLanes,i===0&&(ks=null),Ry(r.stateNode),Pt(e,Be()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)n=t[r],s(n.value,{componentStack:n.stack,digest:n.digest});if(hl)throw hl=!1,e=qu,qu=null,e;return fl&1&&e.tag!==0&&Hn(),i=e.pendingLanes,i&1?e===Ku?Zi++:(Zi=0,Ku=e):Zi=0,Is(),null}function Hn(){if(_s!==null){var e=_0(fl),t=Qt.transition,r=we;try{if(Qt.transition=null,we=16>e?16:e,_s===null)var s=!1;else{if(e=_s,_s=null,fl=0,Se&6)throw Error(Y(331));var n=Se;for(Se|=4,oe=e.current;oe!==null;){var i=oe,a=i.child;if(oe.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var p=o[l];for(oe=p;oe!==null;){var g=oe;switch(g.tag){case 0:case 11:case 15:Yi(8,g,i)}var h=g.child;if(h!==null)h.return=g,oe=h;else for(;oe!==null;){g=oe;var _=g.sibling,S=g.return;if(Ng(g),g===p){oe=null;break}if(_!==null){_.return=S,oe=_;break}oe=S}}}var x=i.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var c=v.sibling;v.sibling=null,v=c}while(v!==null)}}oe=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,oe=a;else e:for(;oe!==null;){if(i=oe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Yi(9,i,i.return)}var f=i.sibling;if(f!==null){f.return=i.return,oe=f;break e}oe=i.return}}var u=e.current;for(oe=u;oe!==null;){a=oe;var d=a.child;if(a.subtreeFlags&2064&&d!==null)d.return=a,oe=d;else e:for(a=u;oe!==null;){if(o=oe,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Hl(9,o)}}catch(w){Me(o,o.return,w)}if(o===a){oe=null;break e}var y=o.sibling;if(y!==null){y.return=o.return,oe=y;break e}oe=o.return}}if(Se=n,Is(),Cr&&typeof Cr.onPostCommitFiberRoot=="function")try{Cr.onPostCommitFiberRoot(Pl,e)}catch{}s=!0}return s}finally{we=r,Qt.transition=t}}return!1}function pp(e,t,r){t=li(r,t),t=_g(e,t,1),e=Es(e,t,1),t=wt(),e!==null&&(Uo(e,1,t),Pt(e,t))}function Me(e,t,r){if(e.tag===3)pp(e,e,r);else for(;t!==null;){if(t.tag===3){pp(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ks===null||!ks.has(s))){e=li(r,e),e=yg(t,e,1),t=Es(t,e,1),e=wt(),t!==null&&(Uo(t,1,e),Pt(t,e));break}}t=t.return}}function ex(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=wt(),e.pingedLanes|=e.suspendedLanes&r,rt===e&&(lt&r)===r&&(Ye===4||Ye===3&&(lt&130023424)===lt&&500>Be()-_h?an(e,0):vh|=r),Pt(e,t)}function Fg(e,t){t===0&&(e.mode&1?(t=la,la<<=1,!(la&130023424)&&(la=4194304)):t=1);var r=wt();e=zr(e,t),e!==null&&(Uo(e,t,r),Pt(e,r))}function tx(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Fg(e,r)}function rx(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,n=e.memoizedState;n!==null&&(r=n.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(Y(314))}s!==null&&s.delete(t),Fg(e,r)}var $g;$g=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Dt.current)jt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return jt=!1,W1(e,t,r);jt=!!(e.flags&131072)}else jt=!1,je&&t.flags&1048576&&z0(t,nl,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Aa(e,t),e=t.pendingProps;var n=ni(t,gt.current);$n(t,r),n=dh(null,t,s,e,n,r);var i=hh();return t.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Tt(s)?(i=!0,rl(t)):i=!1,t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,oh(t),n.updater=$l,t.stateNode=n,n._reactInternals=t,Ou(t,s,e,r),t=Bu(null,t,s,!0,i,r)):(t.tag=0,je&&i&&Zd(t),yt(null,t,n,r),t=t.child),t;case 16:s=t.elementType;e:{switch(Aa(e,t),e=t.pendingProps,n=s._init,s=n(s._payload),t.type=s,n=t.tag=nx(s),e=Jt(s,e),n){case 0:t=Iu(null,t,s,e,r);break e;case 1:t=np(null,t,s,e,r);break e;case 11:t=rp(null,t,s,e,r);break e;case 14:t=sp(null,t,s,Jt(s.type,e),r);break e}throw Error(Y(306,s,""))}return t;case 0:return s=t.type,n=t.pendingProps,n=t.elementType===s?n:Jt(s,n),Iu(e,t,s,n,r);case 1:return s=t.type,n=t.pendingProps,n=t.elementType===s?n:Jt(s,n),np(e,t,s,n,r);case 3:e:{if(bg(t),e===null)throw Error(Y(387));s=t.pendingProps,i=t.memoizedState,n=i.element,X0(e,t),al(t,s,null,r);var a=t.memoizedState;if(s=a.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){n=li(Error(Y(423)),t),t=ip(e,t,s,r,n);break e}else if(s!==n){n=li(Error(Y(424)),t),t=ip(e,t,s,r,n);break e}else for(Bt=Cs(t.stateNode.containerInfo.firstChild),Ft=t,je=!0,sr=null,r=Q0(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ii(),s===n){t=Vr(e,t,r);break e}yt(e,t,s,r)}t=t.child}return t;case 5:return Y0(t),e===null&&Tu(t),s=t.type,n=t.pendingProps,i=e!==null?e.memoizedProps:null,a=n.children,Ru(s,n)?a=null:i!==null&&Ru(s,i)&&(t.flags|=32),wg(e,t),yt(e,t,a,r),t.child;case 6:return e===null&&Tu(t),null;case 13:return Cg(e,t,r);case 4:return ah(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=oi(t,null,s,r):yt(e,t,s,r),t.child;case 11:return s=t.type,n=t.pendingProps,n=t.elementType===s?n:Jt(s,n),rp(e,t,s,n,r);case 7:return yt(e,t,t.pendingProps,r),t.child;case 8:return yt(e,t,t.pendingProps.children,r),t.child;case 12:return yt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,n=t.pendingProps,i=t.memoizedProps,a=n.value,Ce(il,s._currentValue),s._currentValue=a,i!==null)if(ur(i.value,a)){if(i.children===n.children&&!Dt.current){t=Vr(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===s){if(i.tag===1){l=Fr(-1,r&-r),l.tag=2;var p=i.updateQueue;if(p!==null){p=p.shared;var g=p.pending;g===null?l.next=l:(l.next=g.next,g.next=l),p.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Pu(i.return,r,t),o.lanes|=r;break}l=l.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(Y(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),Pu(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}yt(e,t,n.children,r),t=t.child}return t;case 9:return n=t.type,s=t.pendingProps.children,$n(t,r),n=Gt(n),s=s(n),t.flags|=1,yt(e,t,s,r),t.child;case 14:return s=t.type,n=Jt(s,t.pendingProps),n=Jt(s.type,n),sp(e,t,s,n,r);case 15:return xg(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,n=t.pendingProps,n=t.elementType===s?n:Jt(s,n),Aa(e,t),t.tag=1,Tt(s)?(e=!0,rl(t)):e=!1,$n(t,r),vg(t,s,n),Ou(t,s,n,r),Bu(null,t,s,!0,e,r);case 19:return Eg(e,t,r);case 22:return Sg(e,t,r)}throw Error(Y(156,t.tag))};function Hg(e,t){return p0(e,t)}function sx(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(e,t,r,s){return new sx(e,t,r,s)}function wh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function nx(e){if(typeof e=="function")return wh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Hd)return 11;if(e===Ud)return 14}return 2}function Ls(e,t){var r=e.alternate;return r===null?(r=Kt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ia(e,t,r,s,n,i){var a=2;if(s=e,typeof e=="function")wh(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Cn:return ln(r.children,n,i,t);case $d:a=8,n|=8;break;case iu:return e=Kt(12,r,t,n|2),e.elementType=iu,e.lanes=i,e;case ou:return e=Kt(13,r,t,n),e.elementType=ou,e.lanes=i,e;case au:return e=Kt(19,r,t,n),e.elementType=au,e.lanes=i,e;case Ym:return Wl(r,n,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Gm:a=10;break e;case Xm:a=9;break e;case Hd:a=11;break e;case Ud:a=14;break e;case es:a=16,s=null;break e}throw Error(Y(130,e==null?e:typeof e,""))}return t=Kt(a,r,t,n),t.elementType=e,t.type=s,t.lanes=i,t}function ln(e,t,r,s){return e=Kt(7,e,s,t),e.lanes=r,e}function Wl(e,t,r,s){return e=Kt(22,e,s,t),e.elementType=Ym,e.lanes=r,e.stateNode={isHidden:!1},e}function Fc(e,t,r){return e=Kt(6,e,null,t),e.lanes=r,e}function $c(e,t,r){return t=Kt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ix(e,t,r,s,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xc(0),this.expirationTimes=xc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xc(0),this.identifierPrefix=s,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function bh(e,t,r,s,n,i,a,o,l){return e=new ix(e,t,r,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Kt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},oh(i),e}function ox(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bn,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function Ug(e){if(!e)return Ps;e=e._reactInternals;e:{if(_n(e)!==e||e.tag!==1)throw Error(Y(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Tt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Y(171))}if(e.tag===1){var r=e.type;if(Tt(r))return U0(e,r,t)}return t}function Wg(e,t,r,s,n,i,a,o,l){return e=bh(r,s,!0,e,n,i,a,o,l),e.context=Ug(null),r=e.current,s=wt(),n=Rs(r),i=Fr(s,n),i.callback=t??null,Es(r,i,n),e.current.lanes=n,Uo(e,n,s),Pt(e,s),e}function zl(e,t,r,s){var n=t.current,i=wt(),a=Rs(n);return r=Ug(r),t.context===null?t.context=r:t.pendingContext=r,t=Fr(i,a),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Es(n,t,a),e!==null&&(lr(e,n,a,i),Da(e,n,a)),a}function ml(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function mp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ch(e,t){mp(e,t),(e=e.alternate)&&mp(e,t)}function ax(){return null}var zg=typeof reportError=="function"?reportError:function(e){console.error(e)};function Eh(e){this._internalRoot=e}Vl.prototype.render=Eh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Y(409));zl(e,t,null,null)};Vl.prototype.unmount=Eh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;fn(function(){zl(null,e,null,null)}),t[Wr]=null}};function Vl(e){this._internalRoot=e}Vl.prototype.unstable_scheduleHydration=function(e){if(e){var t=S0();e={blockedOn:null,target:e,priority:t};for(var r=0;r<rs.length&&t!==0&&t<rs[r].priority;r++);rs.splice(r,0,e),r===0&&b0(e)}};function kh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ql(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function gp(){}function lx(e,t,r,s,n){if(n){if(typeof s=="function"){var i=s;s=function(){var p=ml(a);i.call(p)}}var a=Wg(t,s,e,0,null,!1,!1,"",gp);return e._reactRootContainer=a,e[Wr]=a.current,po(e.nodeType===8?e.parentNode:e),fn(),a}for(;n=e.lastChild;)e.removeChild(n);if(typeof s=="function"){var o=s;s=function(){var p=ml(l);o.call(p)}}var l=bh(e,0,!1,null,null,!1,!1,"",gp);return e._reactRootContainer=l,e[Wr]=l.current,po(e.nodeType===8?e.parentNode:e),fn(function(){zl(t,l,r,s)}),l}function Kl(e,t,r,s,n){var i=r._reactRootContainer;if(i){var a=i;if(typeof n=="function"){var o=n;n=function(){var l=ml(a);o.call(l)}}zl(t,a,e,n)}else a=lx(r,t,e,n,s);return ml(a)}y0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Hi(t.pendingLanes);r!==0&&(Vd(t,r|1),Pt(t,Be()),!(Se&6)&&(ci=Be()+500,Is()))}break;case 13:fn(function(){var s=zr(e,1);if(s!==null){var n=wt();lr(s,e,1,n)}}),Ch(e,1)}};qd=function(e){if(e.tag===13){var t=zr(e,134217728);if(t!==null){var r=wt();lr(t,e,134217728,r)}Ch(e,134217728)}};x0=function(e){if(e.tag===13){var t=Rs(e),r=zr(e,t);if(r!==null){var s=wt();lr(r,e,t,s)}Ch(e,t)}};S0=function(){return we};w0=function(e,t){var r=we;try{return we=e,t()}finally{we=r}};vu=function(e,t,r){switch(t){case"input":if(uu(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var n=Il(s);if(!n)throw Error(Y(90));Zm(s),uu(s,n)}}}break;case"textarea":t0(e,r);break;case"select":t=r.value,t!=null&&Mn(e,!!r.multiple,t,!1)}};l0=yh;c0=fn;var cx={usingClientEntryPoint:!1,Events:[zo,Ln,Il,o0,a0,yh]},Ti={findFiberByHostInstance:Ws,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ux={bundleType:Ti.bundleType,version:Ti.version,rendererPackageName:Ti.rendererPackageName,rendererConfig:Ti.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=h0(e),e===null?null:e.stateNode},findFiberByHostInstance:Ti.findFiberByHostInstance||ax,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ya=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ya.isDisabled&&ya.supportsFiber)try{Pl=ya.inject(ux),Cr=ya}catch{}}Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cx;Ht.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kh(t))throw Error(Y(200));return ox(e,t,null,r)};Ht.createRoot=function(e,t){if(!kh(e))throw Error(Y(299));var r=!1,s="",n=zg;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(n=t.onRecoverableError)),t=bh(e,1,!1,null,null,r,!1,s,n),e[Wr]=t.current,po(e.nodeType===8?e.parentNode:e),new Eh(t)};Ht.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Y(188)):(e=Object.keys(e).join(","),Error(Y(268,e)));return e=h0(t),e=e===null?null:e.stateNode,e};Ht.flushSync=function(e){return fn(e)};Ht.hydrate=function(e,t,r){if(!ql(t))throw Error(Y(200));return Kl(null,e,t,!0,r)};Ht.hydrateRoot=function(e,t,r){if(!kh(e))throw Error(Y(405));var s=r!=null&&r.hydratedSources||null,n=!1,i="",a=zg;if(r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=Wg(t,null,e,1,r??null,n,!1,i,a),e[Wr]=t.current,po(e),s)for(e=0;e<s.length;e++)r=s[e],n=r._getVersion,n=n(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,n]:t.mutableSourceEagerHydrationData.push(r,n);return new Vl(t)};Ht.render=function(e,t,r){if(!ql(t))throw Error(Y(200));return Kl(null,e,t,!1,r)};Ht.unmountComponentAtNode=function(e){if(!ql(e))throw Error(Y(40));return e._reactRootContainer?(fn(function(){Kl(null,null,e,!1,function(){e._reactRootContainer=null,e[Wr]=null})}),!0):!1};Ht.unstable_batchedUpdates=yh;Ht.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!ql(r))throw Error(Y(200));if(e==null||e._reactInternals===void 0)throw Error(Y(38));return Kl(e,t,r,!1,s)};Ht.version="18.3.1-next-f1338f8080-20240426";function Vg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Vg)}catch(e){console.error(e)}}Vg(),Vm.exports=Ht;var qg=Vm.exports,vp=qg;su.createRoot=vp.createRoot,su.hydrateRoot=vp.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bo(){return bo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},bo.apply(this,arguments)}var ys;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ys||(ys={}));const _p="popstate";function dx(e){e===void 0&&(e={});function t(s,n){let{pathname:i,search:a,hash:o}=s.location;return Xu("",{pathname:i,search:a,hash:o},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function r(s,n){return typeof n=="string"?n:gl(n)}return fx(t,r,null,e)}function He(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Kg(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function hx(){return Math.random().toString(36).substr(2,8)}function yp(e,t){return{usr:e.state,key:e.key,idx:t}}function Xu(e,t,r,s){return r===void 0&&(r=null),bo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?gi(t):t,{state:r,key:t&&t.key||s||hx()})}function gl(e){let{pathname:t="/",search:r="",hash:s=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function gi(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function fx(e,t,r,s){s===void 0&&(s={});let{window:n=document.defaultView,v5Compat:i=!1}=s,a=n.history,o=ys.Pop,l=null,p=g();p==null&&(p=0,a.replaceState(bo({},a.state,{idx:p}),""));function g(){return(a.state||{idx:null}).idx}function h(){o=ys.Pop;let c=g(),f=c==null?null:c-p;p=c,l&&l({action:o,location:v.location,delta:f})}function _(c,f){o=ys.Push;let u=Xu(v.location,c,f);r&&r(u,c),p=g()+1;let d=yp(u,p),y=v.createHref(u);try{a.pushState(d,"",y)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;n.location.assign(y)}i&&l&&l({action:o,location:v.location,delta:1})}function S(c,f){o=ys.Replace;let u=Xu(v.location,c,f);r&&r(u,c),p=g();let d=yp(u,p),y=v.createHref(u);a.replaceState(d,"",y),i&&l&&l({action:o,location:v.location,delta:0})}function x(c){let f=n.location.origin!=="null"?n.location.origin:n.location.href,u=typeof c=="string"?c:gl(c);return u=u.replace(/ $/,"%20"),He(f,"No window.location.(origin|href) available to create URL for href: "+u),new URL(u,f)}let v={get action(){return o},get location(){return e(n,a)},listen(c){if(l)throw new Error("A history only accepts one active listener");return n.addEventListener(_p,h),l=c,()=>{n.removeEventListener(_p,h),l=null}},createHref(c){return t(n,c)},createURL:x,encodeLocation(c){let f=x(c);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:_,replace:S,go(c){return a.go(c)}};return v}var xp;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(xp||(xp={}));function px(e,t,r){return r===void 0&&(r="/"),mx(e,t,r,!1)}function mx(e,t,r,s){let n=typeof t=="string"?gi(t):t,i=Rh(n.pathname||"/",r);if(i==null)return null;let a=Qg(e);gx(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let p=Rx(i);o=Ex(a[l],p,s)}return o}function Qg(e,t,r,s){t===void 0&&(t=[]),r===void 0&&(r=[]),s===void 0&&(s="");let n=(i,a,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(He(l.relativePath.startsWith(s),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(s.length));let p=Ns([s,l.relativePath]),g=r.concat(l);i.children&&i.children.length>0&&(He(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),Qg(i.children,t,g,p)),!(i.path==null&&!i.index)&&t.push({path:p,score:bx(p,i.index),routesMeta:g})};return e.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))n(i,a);else for(let l of Gg(i.path))n(i,a,l)}),t}function Gg(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,n=r.endsWith("?"),i=r.replace(/\?$/,"");if(s.length===0)return n?[i,""]:[i];let a=Gg(s.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),n&&o.push(...a),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function gx(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Cx(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const vx=/^:[\w-]+$/,_x=3,yx=2,xx=1,Sx=10,wx=-2,Sp=e=>e==="*";function bx(e,t){let r=e.split("/"),s=r.length;return r.some(Sp)&&(s+=wx),t&&(s+=yx),r.filter(n=>!Sp(n)).reduce((n,i)=>n+(vx.test(i)?_x:i===""?xx:Sx),s)}function Cx(e,t){return e.length===t.length&&e.slice(0,-1).every((s,n)=>s===t[n])?e[e.length-1]-t[t.length-1]:0}function Ex(e,t,r){r===void 0&&(r=!1);let{routesMeta:s}=e,n={},i="/",a=[];for(let o=0;o<s.length;++o){let l=s[o],p=o===s.length-1,g=i==="/"?t:t.slice(i.length)||"/",h=wp({path:l.relativePath,caseSensitive:l.caseSensitive,end:p},g),_=l.route;if(!h&&p&&r&&!s[s.length-1].route.index&&(h=wp({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},g)),!h)return null;Object.assign(n,h.params),a.push({params:n,pathname:Ns([i,h.pathname]),pathnameBase:Dx(Ns([i,h.pathnameBase])),route:_}),h.pathnameBase!=="/"&&(i=Ns([i,h.pathnameBase]))}return a}function wp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=kx(e.path,e.caseSensitive,e.end),n=t.match(r);if(!n)return null;let i=n[0],a=i.replace(/(.)\/+$/,"$1"),o=n.slice(1);return{params:s.reduce((p,g,h)=>{let{paramName:_,isOptional:S}=g;if(_==="*"){let v=o[h]||"";a=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const x=o[h];return S&&!x?p[_]=void 0:p[_]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:i,pathnameBase:a,pattern:e}}function kx(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Kg(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(s.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),s]}function Rx(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Kg(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Rh(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}function Lx(e,t){t===void 0&&(t="/");let{pathname:r,search:s="",hash:n=""}=typeof e=="string"?gi(e):e;return{pathname:r?r.startsWith("/")?r:Nx(r,t):t,search:Tx(s),hash:Px(n)}}function Nx(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?r.length>1&&r.pop():n!=="."&&r.push(n)}),r.length>1?r.join("/"):"/"}function Hc(e,t,r,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function jx(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Lh(e,t){let r=jx(e);return t?r.map((s,n)=>n===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function Nh(e,t,r,s){s===void 0&&(s=!1);let n;typeof e=="string"?n=gi(e):(n=bo({},e),He(!n.pathname||!n.pathname.includes("?"),Hc("?","pathname","search",n)),He(!n.pathname||!n.pathname.includes("#"),Hc("#","pathname","hash",n)),He(!n.search||!n.search.includes("#"),Hc("#","search","hash",n)));let i=e===""||n.pathname==="",a=i?"/":n.pathname,o;if(a==null)o=r;else{let h=t.length-1;if(!s&&a.startsWith("..")){let _=a.split("/");for(;_[0]==="..";)_.shift(),h-=1;n.pathname=_.join("/")}o=h>=0?t[h]:"/"}let l=Lx(n,o),p=a&&a!=="/"&&a.endsWith("/"),g=(i||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(p||g)&&(l.pathname+="/"),l}const Ns=e=>e.join("/").replace(/\/\/+/g,"/"),Dx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Tx=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Px=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Ax(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Xg=["post","put","patch","delete"];new Set(Xg);const Ox=["get",...Xg];new Set(Ox);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Co(){return Co=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Co.apply(this,arguments)}const jh=k.createContext(null),Mx=k.createContext(null),Bs=k.createContext(null),Ql=k.createContext(null),Gr=k.createContext({outlet:null,matches:[],isDataRoute:!1}),Yg=k.createContext(null);function Ix(e,t){let{relative:r}=t===void 0?{}:t;vi()||He(!1);let{basename:s,navigator:n}=k.useContext(Bs),{hash:i,pathname:a,search:o}=ev(e,{relative:r}),l=a;return s!=="/"&&(l=a==="/"?s:Ns([s,a])),n.createHref({pathname:l,search:o,hash:i})}function vi(){return k.useContext(Ql)!=null}function _i(){return vi()||He(!1),k.useContext(Ql).location}function Jg(e){k.useContext(Bs).static||k.useLayoutEffect(e)}function Gl(){let{isDataRoute:e}=k.useContext(Gr);return e?Xx():Bx()}function Bx(){vi()||He(!1);let e=k.useContext(jh),{basename:t,future:r,navigator:s}=k.useContext(Bs),{matches:n}=k.useContext(Gr),{pathname:i}=_i(),a=JSON.stringify(Lh(n,r.v7_relativeSplatPath)),o=k.useRef(!1);return Jg(()=>{o.current=!0}),k.useCallback(function(p,g){if(g===void 0&&(g={}),!o.current)return;if(typeof p=="number"){s.go(p);return}let h=Nh(p,JSON.parse(a),i,g.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Ns([t,h.pathname])),(g.replace?s.replace:s.push)(h,g.state,g)},[t,s,a,i,e])}function Zg(){let{matches:e}=k.useContext(Gr),t=e[e.length-1];return t?t.params:{}}function ev(e,t){let{relative:r}=t===void 0?{}:t,{future:s}=k.useContext(Bs),{matches:n}=k.useContext(Gr),{pathname:i}=_i(),a=JSON.stringify(Lh(n,s.v7_relativeSplatPath));return k.useMemo(()=>Nh(e,JSON.parse(a),i,r==="path"),[e,a,i,r])}function Fx(e,t){return $x(e,t)}function $x(e,t,r,s){vi()||He(!1);let{navigator:n}=k.useContext(Bs),{matches:i}=k.useContext(Gr),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let p=_i(),g;if(t){var h;let c=typeof t=="string"?gi(t):t;l==="/"||(h=c.pathname)!=null&&h.startsWith(l)||He(!1),g=c}else g=p;let _=g.pathname||"/",S=_;if(l!=="/"){let c=l.replace(/^\//,"").split("/");S="/"+_.replace(/^\//,"").split("/").slice(c.length).join("/")}let x=px(e,{pathname:S}),v=Vx(x&&x.map(c=>Object.assign({},c,{params:Object.assign({},o,c.params),pathname:Ns([l,n.encodeLocation?n.encodeLocation(c.pathname).pathname:c.pathname]),pathnameBase:c.pathnameBase==="/"?l:Ns([l,n.encodeLocation?n.encodeLocation(c.pathnameBase).pathname:c.pathnameBase])})),i,r,s);return t&&v?k.createElement(Ql.Provider,{value:{location:Co({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:ys.Pop}},v):v}function Hx(){let e=Gx(),t=Ax(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),r?k.createElement("pre",{style:n},r):null,i)}const Ux=k.createElement(Hx,null);class Wx extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?k.createElement(Gr.Provider,{value:this.props.routeContext},k.createElement(Yg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function zx(e){let{routeContext:t,match:r,children:s}=e,n=k.useContext(jh);return n&&n.static&&n.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=r.route.id),k.createElement(Gr.Provider,{value:t},s)}function Vx(e,t,r,s){var n;if(t===void 0&&(t=[]),r===void 0&&(r=null),s===void 0&&(s=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=s)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,o=(n=r)==null?void 0:n.errors;if(o!=null){let g=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);g>=0||He(!1),a=a.slice(0,Math.min(a.length,g+1))}let l=!1,p=-1;if(r&&s&&s.v7_partialHydration)for(let g=0;g<a.length;g++){let h=a[g];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(p=g),h.route.id){let{loaderData:_,errors:S}=r,x=h.route.loader&&_[h.route.id]===void 0&&(!S||S[h.route.id]===void 0);if(h.route.lazy||x){l=!0,p>=0?a=a.slice(0,p+1):a=[a[0]];break}}}return a.reduceRight((g,h,_)=>{let S,x=!1,v=null,c=null;r&&(S=o&&h.route.id?o[h.route.id]:void 0,v=h.route.errorElement||Ux,l&&(p<0&&_===0?(Yx("route-fallback",!1),x=!0,c=null):p===_&&(x=!0,c=h.route.hydrateFallbackElement||null)));let f=t.concat(a.slice(0,_+1)),u=()=>{let d;return S?d=v:x?d=c:h.route.Component?d=k.createElement(h.route.Component,null):h.route.element?d=h.route.element:d=g,k.createElement(zx,{match:h,routeContext:{outlet:g,matches:f,isDataRoute:r!=null},children:d})};return r&&(h.route.ErrorBoundary||h.route.errorElement||_===0)?k.createElement(Wx,{location:r.location,revalidation:r.revalidation,component:v,error:S,children:u(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):u()},null)}var tv=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(tv||{}),vl=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(vl||{});function qx(e){let t=k.useContext(jh);return t||He(!1),t}function Kx(e){let t=k.useContext(Mx);return t||He(!1),t}function Qx(e){let t=k.useContext(Gr);return t||He(!1),t}function rv(e){let t=Qx(),r=t.matches[t.matches.length-1];return r.route.id||He(!1),r.route.id}function Gx(){var e;let t=k.useContext(Yg),r=Kx(vl.UseRouteError),s=rv(vl.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[s]}function Xx(){let{router:e}=qx(tv.UseNavigateStable),t=rv(vl.UseNavigateStable),r=k.useRef(!1);return Jg(()=>{r.current=!0}),k.useCallback(function(n,i){i===void 0&&(i={}),r.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,Co({fromRouteId:t},i)))},[e,t])}const bp={};function Yx(e,t,r){!t&&!bp[e]&&(bp[e]=!0)}function Jx(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function Cp(e){let{to:t,replace:r,state:s,relative:n}=e;vi()||He(!1);let{future:i,static:a}=k.useContext(Bs),{matches:o}=k.useContext(Gr),{pathname:l}=_i(),p=Gl(),g=Nh(t,Lh(o,i.v7_relativeSplatPath),l,n==="path"),h=JSON.stringify(g);return k.useEffect(()=>p(JSON.parse(h),{replace:r,state:s,relative:n}),[p,h,n,r,s]),null}function Lr(e){He(!1)}function Zx(e){let{basename:t="/",children:r=null,location:s,navigationType:n=ys.Pop,navigator:i,static:a=!1,future:o}=e;vi()&&He(!1);let l=t.replace(/^\/*/,"/"),p=k.useMemo(()=>({basename:l,navigator:i,static:a,future:Co({v7_relativeSplatPath:!1},o)}),[l,o,i,a]);typeof s=="string"&&(s=gi(s));let{pathname:g="/",search:h="",hash:_="",state:S=null,key:x="default"}=s,v=k.useMemo(()=>{let c=Rh(g,l);return c==null?null:{location:{pathname:c,search:h,hash:_,state:S,key:x},navigationType:n}},[l,g,h,_,S,x,n]);return v==null?null:k.createElement(Bs.Provider,{value:p},k.createElement(Ql.Provider,{children:r,value:v}))}function eS(e){let{children:t,location:r}=e;return Fx(Yu(t),r)}new Promise(()=>{});function Yu(e,t){t===void 0&&(t=[]);let r=[];return k.Children.forEach(e,(s,n)=>{if(!k.isValidElement(s))return;let i=[...t,n];if(s.type===k.Fragment){r.push.apply(r,Yu(s.props.children,i));return}s.type!==Lr&&He(!1),!s.props.index||!s.props.children||He(!1);let a={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(a.children=Yu(s.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ju(){return Ju=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Ju.apply(this,arguments)}function tS(e,t){if(e==null)return{};var r={},s=Object.keys(e),n,i;for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&(r[n]=e[n]);return r}function rS(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function sS(e,t){return e.button===0&&(!t||t==="_self")&&!rS(e)}const nS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],iS="6";try{window.__reactRouterVersion=iS}catch{}const oS="startTransition",Ep=ri[oS];function aS(e){let{basename:t,children:r,future:s,window:n}=e,i=k.useRef();i.current==null&&(i.current=dx({window:n,v5Compat:!0}));let a=i.current,[o,l]=k.useState({action:a.action,location:a.location}),{v7_startTransition:p}=s||{},g=k.useCallback(h=>{p&&Ep?Ep(()=>l(h)):l(h)},[l,p]);return k.useLayoutEffect(()=>a.listen(g),[a,g]),k.useEffect(()=>Jx(s),[s]),k.createElement(Zx,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:a,future:s})}const lS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ui=k.forwardRef(function(t,r){let{onClick:s,relative:n,reloadDocument:i,replace:a,state:o,target:l,to:p,preventScrollReset:g,viewTransition:h}=t,_=tS(t,nS),{basename:S}=k.useContext(Bs),x,v=!1;if(typeof p=="string"&&cS.test(p)&&(x=p,lS))try{let d=new URL(window.location.href),y=p.startsWith("//")?new URL(d.protocol+p):new URL(p),w=Rh(y.pathname,S);y.origin===d.origin&&w!=null?p=w+y.search+y.hash:v=!0}catch{}let c=Ix(p,{relative:n}),f=uS(p,{replace:a,state:o,target:l,preventScrollReset:g,relative:n,viewTransition:h});function u(d){s&&s(d),d.defaultPrevented||f(d)}return k.createElement("a",Ju({},_,{href:x||c,onClick:v||i?s:u,ref:r,target:l}))});var kp;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(kp||(kp={}));var Rp;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Rp||(Rp={}));function uS(e,t){let{target:r,replace:s,state:n,preventScrollReset:i,relative:a,viewTransition:o}=t===void 0?{}:t,l=Gl(),p=_i(),g=ev(e,{relative:a});return k.useCallback(h=>{if(sS(h,r)){h.preventDefault();let _=s!==void 0?s:gl(p)===gl(g);l(e,{replace:_,state:n,preventScrollReset:i,relative:a,viewTransition:o})}},[p,l,g,s,n,r,e,i,a,o])}var yi=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},dS={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},as,Td,bm,hS=(bm=class{constructor(){ae(this,as,dS);ae(this,Td,!1)}setTimeoutProvider(e){se(this,as,e)}setTimeout(e,t){return I(this,as).setTimeout(e,t)}clearTimeout(e){I(this,as).clearTimeout(e)}setInterval(e,t){return I(this,as).setInterval(e,t)}clearInterval(e){I(this,as).clearInterval(e)}},as=new WeakMap,Td=new WeakMap,bm),qs=new hS;function fS(e){setTimeout(e,0)}var pn=typeof window>"u"||"Deno"in globalThis;function xt(){}function pS(e,t){return typeof e=="function"?e(t):e}function Zu(e){return typeof e=="number"&&e>=0&&e!==1/0}function sv(e,t){return Math.max(e+(t||0)-Date.now(),0)}function js(e,t){return typeof e=="function"?e(t):e}function zt(e,t){return typeof e=="function"?e(t):e}function Lp(e,t){const{type:r="all",exact:s,fetchStatus:n,predicate:i,queryKey:a,stale:o}=e;if(a){if(s){if(t.queryHash!==Dh(a,t.options))return!1}else if(!Eo(t.queryKey,a))return!1}if(r!=="all"){const l=t.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||n&&n!==t.state.fetchStatus||i&&!i(t))}function Np(e,t){const{exact:r,status:s,predicate:n,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(mn(t.options.mutationKey)!==mn(i))return!1}else if(!Eo(t.options.mutationKey,i))return!1}return!(s&&t.state.status!==s||n&&!n(t))}function Dh(e,t){return((t==null?void 0:t.queryKeyHashFn)||mn)(e)}function mn(e){return JSON.stringify(e,(t,r)=>ed(r)?Object.keys(r).sort().reduce((s,n)=>(s[n]=r[n],s),{}):r)}function Eo(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Eo(e[r],t[r])):!1}var mS=Object.prototype.hasOwnProperty;function nv(e,t){if(e===t)return e;const r=jp(e)&&jp(t);if(!r&&!(ed(e)&&ed(t)))return t;const n=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),a=i.length,o=r?new Array(a):{};let l=0;for(let p=0;p<a;p++){const g=r?p:i[p],h=e[g],_=t[g];if(h===_){o[g]=h,(r?p<n:mS.call(e,g))&&l++;continue}if(h===null||_===null||typeof h!="object"||typeof _!="object"){o[g]=_;continue}const S=nv(h,_);o[g]=S,S===h&&l++}return n===a&&l===n?e:o}function _l(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function jp(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function ed(e){if(!Dp(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Dp(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Dp(e){return Object.prototype.toString.call(e)==="[object Object]"}function gS(e){return new Promise(t=>{qs.setTimeout(t,e)})}function td(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?nv(e,t):t}function vS(e,t,r=0){const s=[...e,t];return r&&s.length>r?s.slice(1):s}function _S(e,t,r=0){const s=[t,...e];return r&&s.length>r?s.slice(0,-1):s}var Th=Symbol();function iv(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Th?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function ov(e,t){return typeof e=="function"?e(...t):!!e}var Xs,ls,Wn,Cm,yS=(Cm=class extends yi{constructor(){super();ae(this,Xs,void 0);ae(this,ls,void 0);ae(this,Wn,void 0);se(this,Wn,t=>{if(!pn&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){I(this,ls)||this.setEventListener(I(this,Wn))}onUnsubscribe(){var t;this.hasListeners()||((t=I(this,ls))==null||t.call(this),se(this,ls,void 0))}setEventListener(t){var r;se(this,Wn,t),(r=I(this,ls))==null||r.call(this),se(this,ls,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){I(this,Xs)!==t&&(se(this,Xs,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof I(this,Xs)=="boolean"?I(this,Xs):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Xs=new WeakMap,ls=new WeakMap,Wn=new WeakMap,Cm),Ph=new yS;function rd(){let e,t;const r=new Promise((n,i)=>{e=n,t=i});r.status="pending",r.catch(()=>{});function s(n){Object.assign(r,n),delete r.resolve,delete r.reject}return r.resolve=n=>{s({status:"fulfilled",value:n}),e(n)},r.reject=n=>{s({status:"rejected",reason:n}),t(n)},r}var xS=fS;function SS(){let e=[],t=0,r=o=>{o()},s=o=>{o()},n=xS;const i=o=>{t?e.push(o):n(()=>{r(o)})},a=()=>{const o=e;e=[],o.length&&n(()=>{s(()=>{o.forEach(l=>{r(l)})})})};return{batch:o=>{let l;t++;try{l=o()}finally{t--,t||a()}return l},batchCalls:o=>(...l)=>{i(()=>{o(...l)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{s=o},setScheduler:o=>{n=o}}}var Ge=SS(),zn,cs,Vn,Em,wS=(Em=class extends yi{constructor(){super();ae(this,zn,!0);ae(this,cs,void 0);ae(this,Vn,void 0);se(this,Vn,t=>{if(!pn&&window.addEventListener){const r=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}})}onSubscribe(){I(this,cs)||this.setEventListener(I(this,Vn))}onUnsubscribe(){var t;this.hasListeners()||((t=I(this,cs))==null||t.call(this),se(this,cs,void 0))}setEventListener(t){var r;se(this,Vn,t),(r=I(this,cs))==null||r.call(this),se(this,cs,t(this.setOnline.bind(this)))}setOnline(t){I(this,zn)!==t&&(se(this,zn,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return I(this,zn)}},zn=new WeakMap,cs=new WeakMap,Vn=new WeakMap,Em),yl=new wS;function bS(e){return Math.min(1e3*2**e,3e4)}function av(e){return(e??"online")==="online"?yl.isOnline():!0}var sd=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function lv(e){let t=!1,r=0,s;const n=rd(),i=()=>n.status!=="pending",a=v=>{var c;if(!i()){const f=new sd(v);_(f),(c=e.onCancel)==null||c.call(e,f)}},o=()=>{t=!0},l=()=>{t=!1},p=()=>Ph.isFocused()&&(e.networkMode==="always"||yl.isOnline())&&e.canRun(),g=()=>av(e.networkMode)&&e.canRun(),h=v=>{i()||(s==null||s(),n.resolve(v))},_=v=>{i()||(s==null||s(),n.reject(v))},S=()=>new Promise(v=>{var c;s=f=>{(i()||p())&&v(f)},(c=e.onPause)==null||c.call(e)}).then(()=>{var v;s=void 0,i()||(v=e.onContinue)==null||v.call(e)}),x=()=>{if(i())return;let v;const c=r===0?e.initialPromise:void 0;try{v=c??e.fn()}catch(f){v=Promise.reject(f)}Promise.resolve(v).then(h).catch(f=>{var C;if(i())return;const u=e.retry??(pn?0:3),d=e.retryDelay??bS,y=typeof d=="function"?d(r,f):d,w=u===!0||typeof u=="number"&&r<u||typeof u=="function"&&u(r,f);if(t||!w){_(f);return}r++,(C=e.onFail)==null||C.call(e,r,f),gS(y).then(()=>p()?void 0:S()).then(()=>{t?_(f):x()})})};return{promise:n,status:()=>n.status,cancel:a,continue:()=>(s==null||s(),n),cancelRetry:o,continueRetry:l,canStart:g,start:()=>(g()?x():S().then(x),n)}}var Ys,km,cv=(km=class{constructor(){ae(this,Ys,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Zu(this.gcTime)&&se(this,Ys,qs.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(pn?1/0:5*60*1e3))}clearGcTimeout(){I(this,Ys)&&(qs.clearTimeout(I(this,Ys)),se(this,Ys,void 0))}},Ys=new WeakMap,km),Js,qn,Wt,Zs,et,No,en,Zt,Nr,Rm,CS=(Rm=class extends cv{constructor(t){super();ae(this,Zt);ae(this,Js,void 0);ae(this,qn,void 0);ae(this,Wt,void 0);ae(this,Zs,void 0);ae(this,et,void 0);ae(this,No,void 0);ae(this,en,void 0);se(this,en,!1),se(this,No,t.defaultOptions),this.setOptions(t.options),this.observers=[],se(this,Zs,t.client),se(this,Wt,I(this,Zs).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,se(this,Js,Tp(this.options)),this.state=t.state??I(this,Js),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=I(this,et))==null?void 0:t.promise}setOptions(t){if(this.options={...I(this,No),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=Tp(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),se(this,Js,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&I(this,Wt).remove(this)}setData(t,r){const s=td(this.state.data,t,this.options);return pe(this,Zt,Nr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(t,r){pe(this,Zt,Nr).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var s,n;const r=(s=I(this,et))==null?void 0:s.promise;return(n=I(this,et))==null||n.cancel(t),r?r.then(xt).catch(xt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(I(this,Js))}isActive(){return this.observers.some(t=>zt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Th||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>js(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!sv(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=I(this,et))==null||r.continue()}onOnline(){var r;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=I(this,et))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),I(this,Wt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(I(this,et)&&(I(this,en)?I(this,et).cancel({revert:!0}):I(this,et).cancelRetry()),this.scheduleGc()),I(this,Wt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||pe(this,Zt,Nr).call(this,{type:"invalidate"})}async fetch(t,r){var l,p,g,h,_,S,x,v,c,f,u,d;if(this.state.fetchStatus!=="idle"&&((l=I(this,et))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(I(this,et))return I(this,et).continueRetry(),I(this,et).promise}if(t&&this.setOptions(t),!this.options.queryFn){const y=this.observers.find(w=>w.options.queryFn);y&&this.setOptions(y.options)}const s=new AbortController,n=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(se(this,en,!0),s.signal)})},i=()=>{const y=iv(this.options,r),C=(()=>{const R={client:I(this,Zs),queryKey:this.queryKey,meta:this.meta};return n(R),R})();return se(this,en,!1),this.options.persister?this.options.persister(y,C,this):y(C)},o=(()=>{const y={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:I(this,Zs),state:this.state,fetchFn:i};return n(y),y})();(p=this.options.behavior)==null||p.onFetch(o,this),se(this,qn,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((g=o.fetchOptions)==null?void 0:g.meta))&&pe(this,Zt,Nr).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta}),se(this,et,lv({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,onCancel:y=>{y instanceof sd&&y.revert&&this.setState({...I(this,qn),fetchStatus:"idle"}),s.abort()},onFail:(y,w)=>{pe(this,Zt,Nr).call(this,{type:"failed",failureCount:y,error:w})},onPause:()=>{pe(this,Zt,Nr).call(this,{type:"pause"})},onContinue:()=>{pe(this,Zt,Nr).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const y=await I(this,et).start();if(y===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(y),(S=(_=I(this,Wt).config).onSuccess)==null||S.call(_,y,this),(v=(x=I(this,Wt).config).onSettled)==null||v.call(x,y,this.state.error,this),y}catch(y){if(y instanceof sd){if(y.silent)return I(this,et).promise;if(y.revert){if(this.state.data===void 0)throw y;return this.state.data}}throw pe(this,Zt,Nr).call(this,{type:"error",error:y}),(f=(c=I(this,Wt).config).onError)==null||f.call(c,y,this),(d=(u=I(this,Wt).config).onSettled)==null||d.call(u,this.state.data,y,this),y}finally{this.scheduleGc()}}},Js=new WeakMap,qn=new WeakMap,Wt=new WeakMap,Zs=new WeakMap,et=new WeakMap,No=new WeakMap,en=new WeakMap,Zt=new WeakSet,Nr=function(t){const r=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...uv(s.data,this.options),fetchMeta:t.meta??null};case"success":const n={...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return se(this,qn,t.manual?n:void 0),n;case"error":const i=t.error;return{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=r(this.state),Ge.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),I(this,Wt).notify({query:this,type:"updated",action:t})})},Rm);function uv(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:av(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Tp(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,s=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var kt,ye,jo,vt,tn,Kn,Tr,us,Do,Qn,Gn,rn,sn,ds,Xn,nn,Wi,To,nd,Po,id,Ao,od,Oo,ad,Mo,ld,Io,cd,Bo,ud,Dl,dv,Lm,ES=(Lm=class extends yi{constructor(t,r){super();ae(this,nn);ae(this,To);ae(this,Po);ae(this,Ao);ae(this,Oo);ae(this,Mo);ae(this,Io);ae(this,Bo);ae(this,Dl);ae(this,kt,void 0);ae(this,ye,void 0);ae(this,jo,void 0);ae(this,vt,void 0);ae(this,tn,void 0);ae(this,Kn,void 0);ae(this,Tr,void 0);ae(this,us,void 0);ae(this,Do,void 0);ae(this,Qn,void 0);ae(this,Gn,void 0);ae(this,rn,void 0);ae(this,sn,void 0);ae(this,ds,void 0);ae(this,Xn,new Set);this.options=r,se(this,kt,t),se(this,us,null),se(this,Tr,rd()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(I(this,ye).addObserver(this),Pp(I(this,ye),this.options)?pe(this,nn,Wi).call(this):this.updateResult(),pe(this,Oo,ad).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return dd(I(this,ye),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return dd(I(this,ye),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,pe(this,Mo,ld).call(this),pe(this,Io,cd).call(this),I(this,ye).removeObserver(this)}setOptions(t){const r=this.options,s=I(this,ye);if(this.options=I(this,kt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof zt(this.options.enabled,I(this,ye))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");pe(this,Bo,ud).call(this),I(this,ye).setOptions(this.options),r._defaulted&&!_l(this.options,r)&&I(this,kt).getQueryCache().notify({type:"observerOptionsUpdated",query:I(this,ye),observer:this});const n=this.hasListeners();n&&Ap(I(this,ye),s,this.options,r)&&pe(this,nn,Wi).call(this),this.updateResult(),n&&(I(this,ye)!==s||zt(this.options.enabled,I(this,ye))!==zt(r.enabled,I(this,ye))||js(this.options.staleTime,I(this,ye))!==js(r.staleTime,I(this,ye)))&&pe(this,To,nd).call(this);const i=pe(this,Po,id).call(this);n&&(I(this,ye)!==s||zt(this.options.enabled,I(this,ye))!==zt(r.enabled,I(this,ye))||i!==I(this,ds))&&pe(this,Ao,od).call(this,i)}getOptimisticResult(t){const r=I(this,kt).getQueryCache().build(I(this,kt),t),s=this.createResult(r,t);return RS(this,s)&&(se(this,vt,s),se(this,Kn,this.options),se(this,tn,I(this,ye).state)),s}getCurrentResult(){return I(this,vt)}trackResult(t,r){return new Proxy(t,{get:(s,n)=>(this.trackProp(n),r==null||r(n),n==="promise"&&!this.options.experimental_prefetchInRender&&I(this,Tr).status==="pending"&&I(this,Tr).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(s,n))})}trackProp(t){I(this,Xn).add(t)}getCurrentQuery(){return I(this,ye)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=I(this,kt).defaultQueryOptions(t),s=I(this,kt).getQueryCache().build(I(this,kt),r);return s.fetch().then(()=>this.createResult(s,r))}fetch(t){return pe(this,nn,Wi).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),I(this,vt)))}createResult(t,r){var E;const s=I(this,ye),n=this.options,i=I(this,vt),a=I(this,tn),o=I(this,Kn),p=t!==s?t.state:I(this,jo),{state:g}=t;let h={...g},_=!1,S;if(r._optimisticResults){const D=this.hasListeners(),O=!D&&Pp(t,r),N=D&&Ap(t,s,r,n);(O||N)&&(h={...h,...uv(g.data,t.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:x,errorUpdatedAt:v,status:c}=h;S=h.data;let f=!1;if(r.placeholderData!==void 0&&S===void 0&&c==="pending"){let D;i!=null&&i.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(D=i.data,f=!0):D=typeof r.placeholderData=="function"?r.placeholderData((E=I(this,Gn))==null?void 0:E.state.data,I(this,Gn)):r.placeholderData,D!==void 0&&(c="success",S=td(i==null?void 0:i.data,D,r),_=!0)}if(r.select&&S!==void 0&&!f)if(i&&S===(a==null?void 0:a.data)&&r.select===I(this,Do))S=I(this,Qn);else try{se(this,Do,r.select),S=r.select(S),S=td(i==null?void 0:i.data,S,r),se(this,Qn,S),se(this,us,null)}catch(D){se(this,us,D)}I(this,us)&&(x=I(this,us),S=I(this,Qn),v=Date.now(),c="error");const u=h.fetchStatus==="fetching",d=c==="pending",y=c==="error",w=d&&u,C=S!==void 0,b={status:c,fetchStatus:h.fetchStatus,isPending:d,isSuccess:c==="success",isError:y,isInitialLoading:w,isLoading:w,data:S,dataUpdatedAt:h.dataUpdatedAt,error:x,errorUpdatedAt:v,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>p.dataUpdateCount||h.errorUpdateCount>p.errorUpdateCount,isFetching:u,isRefetching:u&&!d,isLoadingError:y&&!C,isPaused:h.fetchStatus==="paused",isPlaceholderData:_,isRefetchError:y&&C,isStale:Ah(t,r),refetch:this.refetch,promise:I(this,Tr),isEnabled:zt(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const D=A=>{b.status==="error"?A.reject(b.error):b.data!==void 0&&A.resolve(b.data)},O=()=>{const A=se(this,Tr,b.promise=rd());D(A)},N=I(this,Tr);switch(N.status){case"pending":t.queryHash===s.queryHash&&D(N);break;case"fulfilled":(b.status==="error"||b.data!==N.value)&&O();break;case"rejected":(b.status!=="error"||b.error!==N.reason)&&O();break}}return b}updateResult(){const t=I(this,vt),r=this.createResult(I(this,ye),this.options);if(se(this,tn,I(this,ye).state),se(this,Kn,this.options),I(this,tn).data!==void 0&&se(this,Gn,I(this,ye)),_l(r,t))return;se(this,vt,r);const s=()=>{if(!t)return!0;const{notifyOnChangeProps:n}=this.options,i=typeof n=="function"?n():n;if(i==="all"||!i&&!I(this,Xn).size)return!0;const a=new Set(i??I(this,Xn));return this.options.throwOnError&&a.add("error"),Object.keys(I(this,vt)).some(o=>{const l=o;return I(this,vt)[l]!==t[l]&&a.has(l)})};pe(this,Dl,dv).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&pe(this,Oo,ad).call(this)}},kt=new WeakMap,ye=new WeakMap,jo=new WeakMap,vt=new WeakMap,tn=new WeakMap,Kn=new WeakMap,Tr=new WeakMap,us=new WeakMap,Do=new WeakMap,Qn=new WeakMap,Gn=new WeakMap,rn=new WeakMap,sn=new WeakMap,ds=new WeakMap,Xn=new WeakMap,nn=new WeakSet,Wi=function(t){pe(this,Bo,ud).call(this);let r=I(this,ye).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(xt)),r},To=new WeakSet,nd=function(){pe(this,Mo,ld).call(this);const t=js(this.options.staleTime,I(this,ye));if(pn||I(this,vt).isStale||!Zu(t))return;const s=sv(I(this,vt).dataUpdatedAt,t)+1;se(this,rn,qs.setTimeout(()=>{I(this,vt).isStale||this.updateResult()},s))},Po=new WeakSet,id=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(I(this,ye)):this.options.refetchInterval)??!1},Ao=new WeakSet,od=function(t){pe(this,Io,cd).call(this),se(this,ds,t),!(pn||zt(this.options.enabled,I(this,ye))===!1||!Zu(I(this,ds))||I(this,ds)===0)&&se(this,sn,qs.setInterval(()=>{(this.options.refetchIntervalInBackground||Ph.isFocused())&&pe(this,nn,Wi).call(this)},I(this,ds)))},Oo=new WeakSet,ad=function(){pe(this,To,nd).call(this),pe(this,Ao,od).call(this,pe(this,Po,id).call(this))},Mo=new WeakSet,ld=function(){I(this,rn)&&(qs.clearTimeout(I(this,rn)),se(this,rn,void 0))},Io=new WeakSet,cd=function(){I(this,sn)&&(qs.clearInterval(I(this,sn)),se(this,sn,void 0))},Bo=new WeakSet,ud=function(){const t=I(this,kt).getQueryCache().build(I(this,kt),this.options);if(t===I(this,ye))return;const r=I(this,ye);se(this,ye,t),se(this,jo,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},Dl=new WeakSet,dv=function(t){Ge.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(I(this,vt))}),I(this,kt).getQueryCache().notify({query:I(this,ye),type:"observerResultsUpdated"})})},Lm);function kS(e,t){return zt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Pp(e,t){return kS(e,t)||e.state.data!==void 0&&dd(e,t,t.refetchOnMount)}function dd(e,t,r){if(zt(t.enabled,e)!==!1&&js(t.staleTime,e)!=="static"){const s=typeof r=="function"?r(e):r;return s==="always"||s!==!1&&Ah(e,t)}return!1}function Ap(e,t,r,s){return(e!==t||zt(s.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Ah(e,r)}function Ah(e,t){return zt(t.enabled,e)!==!1&&e.isStaleByTime(js(t.staleTime,e))}function RS(e,t){return!_l(e.getCurrentResult(),t)}function Op(e){return{onFetch:(t,r)=>{var g,h,_,S,x;const s=t.options,n=(_=(h=(g=t.fetchOptions)==null?void 0:g.meta)==null?void 0:h.fetchMore)==null?void 0:_.direction,i=((S=t.state.data)==null?void 0:S.pages)||[],a=((x=t.state.data)==null?void 0:x.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const p=async()=>{let v=!1;const c=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},f=iv(t.options,t.fetchOptions),u=async(d,y,w)=>{if(v)return Promise.reject();if(y==null&&d.pages.length)return Promise.resolve(d);const R=(()=>{const O={client:t.client,queryKey:t.queryKey,pageParam:y,direction:w?"backward":"forward",meta:t.options.meta};return c(O),O})(),b=await f(R),{maxPages:E}=t.options,D=w?_S:vS;return{pages:D(d.pages,b,E),pageParams:D(d.pageParams,y,E)}};if(n&&i.length){const d=n==="backward",y=d?LS:Mp,w={pages:i,pageParams:a},C=y(s,w);o=await u(w,C,d)}else{const d=e??i.length;do{const y=l===0?a[0]??s.initialPageParam:Mp(s,o);if(l>0&&y==null)break;o=await u(o,y),l++}while(l<d)}return o};t.options.persister?t.fetchFn=()=>{var v,c;return(c=(v=t.options).persister)==null?void 0:c.call(v,p,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=p}}}function Mp(e,{pages:t,pageParams:r}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,r[s],r):void 0}function LS(e,{pages:t,pageParams:r}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,r[0],r):void 0}var _r,_t,on,yr,Zr,Nm,NS=(Nm=class extends cv{constructor(t){super();ae(this,yr);ae(this,_r,void 0);ae(this,_t,void 0);ae(this,on,void 0);this.mutationId=t.mutationId,se(this,_t,t.mutationCache),se(this,_r,[]),this.state=t.state||hv(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){I(this,_r).includes(t)||(I(this,_r).push(t),this.clearGcTimeout(),I(this,_t).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){se(this,_r,I(this,_r).filter(r=>r!==t)),this.scheduleGc(),I(this,_t).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){I(this,_r).length||(this.state.status==="pending"?this.scheduleGc():I(this,_t).remove(this))}continue(){var t;return((t=I(this,on))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,a,o,l,p,g,h,_,S,x,v,c,f,u,d,y,w,C,R,b;const r=()=>{pe(this,yr,Zr).call(this,{type:"continue"})};se(this,on,lv({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(E,D)=>{pe(this,yr,Zr).call(this,{type:"failed",failureCount:E,error:D})},onPause:()=>{pe(this,yr,Zr).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>I(this,_t).canRun(this)}));const s=this.state.status==="pending",n=!I(this,on).canStart();try{if(s)r();else{pe(this,yr,Zr).call(this,{type:"pending",variables:t,isPaused:n}),await((a=(i=I(this,_t).config).onMutate)==null?void 0:a.call(i,t,this));const D=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));D!==this.state.context&&pe(this,yr,Zr).call(this,{type:"pending",context:D,variables:t,isPaused:n})}const E=await I(this,on).start();return await((g=(p=I(this,_t).config).onSuccess)==null?void 0:g.call(p,E,t,this.state.context,this)),await((_=(h=this.options).onSuccess)==null?void 0:_.call(h,E,t,this.state.context)),await((x=(S=I(this,_t).config).onSettled)==null?void 0:x.call(S,E,null,this.state.variables,this.state.context,this)),await((c=(v=this.options).onSettled)==null?void 0:c.call(v,E,null,t,this.state.context)),pe(this,yr,Zr).call(this,{type:"success",data:E}),E}catch(E){try{throw await((u=(f=I(this,_t).config).onError)==null?void 0:u.call(f,E,t,this.state.context,this)),await((y=(d=this.options).onError)==null?void 0:y.call(d,E,t,this.state.context)),await((C=(w=I(this,_t).config).onSettled)==null?void 0:C.call(w,void 0,E,this.state.variables,this.state.context,this)),await((b=(R=this.options).onSettled)==null?void 0:b.call(R,void 0,E,t,this.state.context)),E}finally{pe(this,yr,Zr).call(this,{type:"error",error:E})}}finally{I(this,_t).runNext(this)}}},_r=new WeakMap,_t=new WeakMap,on=new WeakMap,yr=new WeakSet,Zr=function(t){const r=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ge.batch(()=>{I(this,_r).forEach(s=>{s.onMutationUpdate(t)}),I(this,_t).notify({mutation:this,type:"updated",action:t})})},Nm);function hv(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Pr,er,Fo,jm,jS=(jm=class extends yi{constructor(t={}){super();ae(this,Pr,void 0);ae(this,er,void 0);ae(this,Fo,void 0);this.config=t,se(this,Pr,new Set),se(this,er,new Map),se(this,Fo,0)}build(t,r,s){const n=new NS({mutationCache:this,mutationId:++ra(this,Fo)._,options:t.defaultMutationOptions(r),state:s});return this.add(n),n}add(t){I(this,Pr).add(t);const r=xa(t);if(typeof r=="string"){const s=I(this,er).get(r);s?s.push(t):I(this,er).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(I(this,Pr).delete(t)){const r=xa(t);if(typeof r=="string"){const s=I(this,er).get(r);if(s)if(s.length>1){const n=s.indexOf(t);n!==-1&&s.splice(n,1)}else s[0]===t&&I(this,er).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=xa(t);if(typeof r=="string"){const s=I(this,er).get(r),n=s==null?void 0:s.find(i=>i.state.status==="pending");return!n||n===t}else return!0}runNext(t){var s;const r=xa(t);if(typeof r=="string"){const n=(s=I(this,er).get(r))==null?void 0:s.find(i=>i!==t&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ge.batch(()=>{I(this,Pr).forEach(t=>{this.notify({type:"removed",mutation:t})}),I(this,Pr).clear(),I(this,er).clear()})}getAll(){return Array.from(I(this,Pr))}find(t){const r={exact:!0,...t};return this.getAll().find(s=>Np(r,s))}findAll(t={}){return this.getAll().filter(r=>Np(t,r))}notify(t){Ge.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Ge.batch(()=>Promise.all(t.map(r=>r.continue().catch(xt))))}},Pr=new WeakMap,er=new WeakMap,Fo=new WeakMap,jm);function xa(e){var t;return(t=e.options.scope)==null?void 0:t.id}var hs,fs,Rt,Ar,Yn,Ba,$o,hd,Dm,DS=(Dm=class extends yi{constructor(r,s){super();ae(this,Yn);ae(this,$o);ae(this,hs,void 0);ae(this,fs,void 0);ae(this,Rt,void 0);ae(this,Ar,void 0);se(this,hs,r),this.setOptions(s),this.bindMethods(),pe(this,Yn,Ba).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var n;const s=this.options;this.options=I(this,hs).defaultMutationOptions(r),_l(this.options,s)||I(this,hs).getMutationCache().notify({type:"observerOptionsUpdated",mutation:I(this,Rt),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&mn(s.mutationKey)!==mn(this.options.mutationKey)?this.reset():((n=I(this,Rt))==null?void 0:n.state.status)==="pending"&&I(this,Rt).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=I(this,Rt))==null||r.removeObserver(this)}onMutationUpdate(r){pe(this,Yn,Ba).call(this),pe(this,$o,hd).call(this,r)}getCurrentResult(){return I(this,fs)}reset(){var r;(r=I(this,Rt))==null||r.removeObserver(this),se(this,Rt,void 0),pe(this,Yn,Ba).call(this),pe(this,$o,hd).call(this)}mutate(r,s){var n;return se(this,Ar,s),(n=I(this,Rt))==null||n.removeObserver(this),se(this,Rt,I(this,hs).getMutationCache().build(I(this,hs),this.options)),I(this,Rt).addObserver(this),I(this,Rt).execute(r)}},hs=new WeakMap,fs=new WeakMap,Rt=new WeakMap,Ar=new WeakMap,Yn=new WeakSet,Ba=function(){var s;const r=((s=I(this,Rt))==null?void 0:s.state)??hv();se(this,fs,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},$o=new WeakSet,hd=function(r){Ge.batch(()=>{var s,n,i,a,o,l,p,g;if(I(this,Ar)&&this.hasListeners()){const h=I(this,fs).variables,_=I(this,fs).context;(r==null?void 0:r.type)==="success"?((n=(s=I(this,Ar)).onSuccess)==null||n.call(s,r.data,h,_),(a=(i=I(this,Ar)).onSettled)==null||a.call(i,r.data,null,h,_)):(r==null?void 0:r.type)==="error"&&((l=(o=I(this,Ar)).onError)==null||l.call(o,r.error,h,_),(g=(p=I(this,Ar)).onSettled)==null||g.call(p,void 0,r.error,h,_))}this.listeners.forEach(h=>{h(I(this,fs))})})},Dm),xr,Tm,TS=(Tm=class extends yi{constructor(t={}){super();ae(this,xr,void 0);this.config=t,se(this,xr,new Map)}build(t,r,s){const n=r.queryKey,i=r.queryHash??Dh(n,r);let a=this.get(i);return a||(a=new CS({client:t,queryKey:n,queryHash:i,options:t.defaultQueryOptions(r),state:s,defaultOptions:t.getQueryDefaults(n)}),this.add(a)),a}add(t){I(this,xr).has(t.queryHash)||(I(this,xr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=I(this,xr).get(t.queryHash);r&&(t.destroy(),r===t&&I(this,xr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ge.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return I(this,xr).get(t)}getAll(){return[...I(this,xr).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(s=>Lp(r,s))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(s=>Lp(t,s)):r}notify(t){Ge.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Ge.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ge.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},xr=new WeakMap,Tm),Oe,ps,ms,Jn,Zn,gs,ei,ti,Pm,PS=(Pm=class{constructor(e={}){ae(this,Oe,void 0);ae(this,ps,void 0);ae(this,ms,void 0);ae(this,Jn,void 0);ae(this,Zn,void 0);ae(this,gs,void 0);ae(this,ei,void 0);ae(this,ti,void 0);se(this,Oe,e.queryCache||new TS),se(this,ps,e.mutationCache||new jS),se(this,ms,e.defaultOptions||{}),se(this,Jn,new Map),se(this,Zn,new Map),se(this,gs,0)}mount(){ra(this,gs)._++,I(this,gs)===1&&(se(this,ei,Ph.subscribe(async e=>{e&&(await this.resumePausedMutations(),I(this,Oe).onFocus())})),se(this,ti,yl.subscribe(async e=>{e&&(await this.resumePausedMutations(),I(this,Oe).onOnline())})))}unmount(){var e,t;ra(this,gs)._--,I(this,gs)===0&&((e=I(this,ei))==null||e.call(this),se(this,ei,void 0),(t=I(this,ti))==null||t.call(this),se(this,ti,void 0))}isFetching(e){return I(this,Oe).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return I(this,ps).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=I(this,Oe).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=I(this,Oe).build(this,t),s=r.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(js(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return I(this,Oe).findAll(e).map(({queryKey:t,state:r})=>{const s=r.data;return[t,s]})}setQueryData(e,t,r){const s=this.defaultQueryOptions({queryKey:e}),n=I(this,Oe).get(s.queryHash),i=n==null?void 0:n.state.data,a=pS(t,i);if(a!==void 0)return I(this,Oe).build(this,s).setData(a,{...r,manual:!0})}setQueriesData(e,t,r){return Ge.batch(()=>I(this,Oe).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=I(this,Oe).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=I(this,Oe);Ge.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=I(this,Oe);return Ge.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},s=Ge.batch(()=>I(this,Oe).findAll(e).map(n=>n.cancel(r)));return Promise.all(s).then(xt).catch(xt)}invalidateQueries(e,t={}){return Ge.batch(()=>(I(this,Oe).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},s=Ge.batch(()=>I(this,Oe).findAll(e).filter(n=>!n.isDisabled()&&!n.isStatic()).map(n=>{let i=n.fetch(void 0,r);return r.throwOnError||(i=i.catch(xt)),n.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(xt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=I(this,Oe).build(this,t);return r.isStaleByTime(js(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(xt).catch(xt)}fetchInfiniteQuery(e){return e.behavior=Op(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(xt).catch(xt)}ensureInfiniteQueryData(e){return e.behavior=Op(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return yl.isOnline()?I(this,ps).resumePausedMutations():Promise.resolve()}getQueryCache(){return I(this,Oe)}getMutationCache(){return I(this,ps)}getDefaultOptions(){return I(this,ms)}setDefaultOptions(e){se(this,ms,e)}setQueryDefaults(e,t){I(this,Jn).set(mn(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...I(this,Jn).values()],r={};return t.forEach(s=>{Eo(e,s.queryKey)&&Object.assign(r,s.defaultOptions)}),r}setMutationDefaults(e,t){I(this,Zn).set(mn(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...I(this,Zn).values()],r={};return t.forEach(s=>{Eo(e,s.mutationKey)&&Object.assign(r,s.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...I(this,ms).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Dh(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Th&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...I(this,ms).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){I(this,Oe).clear(),I(this,ps).clear()}},Oe=new WeakMap,ps=new WeakMap,ms=new WeakMap,Jn=new WeakMap,Zn=new WeakMap,gs=new WeakMap,ei=new WeakMap,ti=new WeakMap,Pm),fv=k.createContext(void 0),Fs=e=>{const t=k.useContext(fv);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},AS=({client:e,children:t})=>(k.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),m.jsx(fv.Provider,{value:e,children:t})),pv=k.createContext(!1),OS=()=>k.useContext(pv);pv.Provider;function MS(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var IS=k.createContext(MS()),BS=()=>k.useContext(IS),FS=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},$S=e=>{k.useEffect(()=>{e.clearReset()},[e])},HS=({result:e,errorResetBoundary:t,throwOnError:r,query:s,suspense:n})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(n&&e.data===void 0||ov(r,[e.error,s])),US=e=>{if(e.suspense){const r=n=>n==="static"?n:Math.max(n??1e3,1e3),s=e.staleTime;e.staleTime=typeof s=="function"?(...n)=>r(s(...n)):r(s),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},WS=(e,t)=>e.isLoading&&e.isFetching&&!t,zS=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Ip=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function VS(e,t,r){var h,_,S,x,v;const s=OS(),n=BS(),i=Fs(r),a=i.defaultQueryOptions(e);(_=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||_.call(h,a),a._optimisticResults=s?"isRestoring":"optimistic",US(a),FS(a,n),$S(n);const o=!i.getQueryCache().get(a.queryHash),[l]=k.useState(()=>new t(i,a)),p=l.getOptimisticResult(a),g=!s&&e.subscribed!==!1;if(k.useSyncExternalStore(k.useCallback(c=>{const f=g?l.subscribe(Ge.batchCalls(c)):xt;return l.updateResult(),f},[l,g]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),k.useEffect(()=>{l.setOptions(a)},[a,l]),zS(a,p))throw Ip(a,l,n);if(HS({result:p,errorResetBoundary:n,throwOnError:a.throwOnError,query:i.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw p.error;if((x=(S=i.getDefaultOptions().queries)==null?void 0:S._experimental_afterQuery)==null||x.call(S,a,p),a.experimental_prefetchInRender&&!pn&&WS(p,s)){const c=o?Ip(a,l,n):(v=i.getQueryCache().get(a.queryHash))==null?void 0:v.promise;c==null||c.catch(xt).finally(()=>{l.updateResult()})}return a.notifyOnChangeProps?p:l.trackResult(p)}function st(e,t){return VS(e,ES,t)}function At(e,t){const r=Fs(t),[s]=k.useState(()=>new DS(r,e));k.useEffect(()=>{s.setOptions(e)},[s,e]);const n=k.useSyncExternalStore(k.useCallback(a=>s.subscribe(Ge.batchCalls(a)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),i=k.useCallback((a,o)=>{s.mutate(a,o).catch(xt)},[s]);if(n.error&&ov(s.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:i,mutateAsync:n.mutate}}var qS=function(){return null};let KS={data:""},QS=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||KS,GS=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,XS=/\/\*[^]*?\*\/|  +/g,Bp=/\n+/g,ns=(e,t)=>{let r="",s="",n="";for(let i in e){let a=e[i];i[0]=="@"?i[1]=="i"?r=i+" "+a+";":s+=i[1]=="f"?ns(a,i):i+"{"+ns(a,i[1]=="k"?"":t)+"}":typeof a=="object"?s+=ns(a,t?t.replace(/([^,])+/g,o=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,o):o?o+" "+l:l)):i):a!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),n+=ns.p?ns.p(i,a):i+":"+a+";")}return r+(t&&n?t+"{"+n+"}":n)+s},kr={},mv=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+mv(e[r]);return t}return e},YS=(e,t,r,s,n)=>{let i=mv(e),a=kr[i]||(kr[i]=(l=>{let p=0,g=11;for(;p<l.length;)g=101*g+l.charCodeAt(p++)>>>0;return"go"+g})(i));if(!kr[a]){let l=i!==e?e:(p=>{let g,h,_=[{}];for(;g=GS.exec(p.replace(XS,""));)g[4]?_.shift():g[3]?(h=g[3].replace(Bp," ").trim(),_.unshift(_[0][h]=_[0][h]||{})):_[0][g[1]]=g[2].replace(Bp," ").trim();return _[0]})(e);kr[a]=ns(n?{["@keyframes "+a]:l}:l,r?"":"."+a)}let o=r&&kr.g?kr.g:null;return r&&(kr.g=kr[a]),((l,p,g,h)=>{h?p.data=p.data.replace(h,l):p.data.indexOf(l)===-1&&(p.data=g?l+p.data:p.data+l)})(kr[a],t,s,o),a},JS=(e,t,r)=>e.reduce((s,n,i)=>{let a=t[i];if(a&&a.call){let o=a(r),l=o&&o.props&&o.props.className||/^go/.test(o)&&o;a=l?"."+l:o&&typeof o=="object"?o.props?"":ns(o,""):o===!1?"":o}return s+n+(a??"")},"");function Xl(e){let t=this||{},r=e.call?e(t.p):e;return YS(r.unshift?r.raw?JS(r,[].slice.call(arguments,1),t.p):r.reduce((s,n)=>Object.assign(s,n&&n.call?n(t.p):n),{}):r,QS(t.target),t.g,t.o,t.k)}let gv,fd,pd;Xl.bind({g:1});let qr=Xl.bind({k:1});function ZS(e,t,r,s){ns.p=t,gv=e,fd=r,pd=s}function $s(e,t){let r=this||{};return function(){let s=arguments;function n(i,a){let o=Object.assign({},i),l=o.className||n.className;r.p=Object.assign({theme:fd&&fd()},o),r.o=/ *go\d+/.test(l),o.className=Xl.apply(r,s)+(l?" "+l:""),t&&(o.ref=a);let p=e;return e[0]&&(p=o.as||e,delete o.as),pd&&p[0]&&pd(o),gv(p,o)}return t?t(n):n}}var ew=e=>typeof e=="function",xl=(e,t)=>ew(e)?e(t):e,tw=(()=>{let e=0;return()=>(++e).toString()})(),vv=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),rw=20,Oh="default",_v=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(a=>a.id===t.toast.id?{...a,...t.toast}:a)};case 2:let{toast:s}=t;return _v(e,{type:e.toasts.find(a=>a.id===s.id)?1:0,toast:s});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(a=>a.id===n||n===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(a=>a.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},Fa=[],yv={toasts:[],pausedAt:void 0,settings:{toastLimit:rw}},wr={},xv=(e,t=Oh)=>{wr[t]=_v(wr[t]||yv,e),Fa.forEach(([r,s])=>{r===t&&s(wr[t])})},Sv=e=>Object.keys(wr).forEach(t=>xv(e,t)),sw=e=>Object.keys(wr).find(t=>wr[t].toasts.some(r=>r.id===e)),Yl=(e=Oh)=>t=>{xv(t,e)},nw={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},iw=(e={},t=Oh)=>{let[r,s]=k.useState(wr[t]||yv),n=k.useRef(wr[t]);k.useEffect(()=>(n.current!==wr[t]&&s(wr[t]),Fa.push([t,s]),()=>{let a=Fa.findIndex(([o])=>o===t);a>-1&&Fa.splice(a,1)}),[t]);let i=r.toasts.map(a=>{var o,l,p;return{...e,...e[a.type],...a,removeDelay:a.removeDelay||((o=e[a.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:a.duration||((l=e[a.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||nw[a.type],style:{...e.style,...(p=e[a.type])==null?void 0:p.style,...a.style}}});return{...r,toasts:i}},ow=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||tw()}),qo=e=>(t,r)=>{let s=ow(t,e,r);return Yl(s.toasterId||sw(s.id))({type:2,toast:s}),s.id},Xe=(e,t)=>qo("blank")(e,t);Xe.error=qo("error");Xe.success=qo("success");Xe.loading=qo("loading");Xe.custom=qo("custom");Xe.dismiss=(e,t)=>{let r={type:3,toastId:e};t?Yl(t)(r):Sv(r)};Xe.dismissAll=e=>Xe.dismiss(void 0,e);Xe.remove=(e,t)=>{let r={type:4,toastId:e};t?Yl(t)(r):Sv(r)};Xe.removeAll=e=>Xe.remove(void 0,e);Xe.promise=(e,t,r)=>{let s=Xe.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(n=>{let i=t.success?xl(t.success,n):void 0;return i?Xe.success(i,{id:s,...r,...r==null?void 0:r.success}):Xe.dismiss(s),n}).catch(n=>{let i=t.error?xl(t.error,n):void 0;i?Xe.error(i,{id:s,...r,...r==null?void 0:r.error}):Xe.dismiss(s)}),e};var aw=1e3,lw=(e,t="default")=>{let{toasts:r,pausedAt:s}=iw(e,t),n=k.useRef(new Map).current,i=k.useCallback((h,_=aw)=>{if(n.has(h))return;let S=setTimeout(()=>{n.delete(h),a({type:4,toastId:h})},_);n.set(h,S)},[]);k.useEffect(()=>{if(s)return;let h=Date.now(),_=r.map(S=>{if(S.duration===1/0)return;let x=(S.duration||0)+S.pauseDuration-(h-S.createdAt);if(x<0){S.visible&&Xe.dismiss(S.id);return}return setTimeout(()=>Xe.dismiss(S.id,t),x)});return()=>{_.forEach(S=>S&&clearTimeout(S))}},[r,s,t]);let a=k.useCallback(Yl(t),[t]),o=k.useCallback(()=>{a({type:5,time:Date.now()})},[a]),l=k.useCallback((h,_)=>{a({type:1,toast:{id:h,height:_}})},[a]),p=k.useCallback(()=>{s&&a({type:6,time:Date.now()})},[s,a]),g=k.useCallback((h,_)=>{let{reverseOrder:S=!1,gutter:x=8,defaultPosition:v}=_||{},c=r.filter(d=>(d.position||v)===(h.position||v)&&d.height),f=c.findIndex(d=>d.id===h.id),u=c.filter((d,y)=>y<f&&d.visible).length;return c.filter(d=>d.visible).slice(...S?[u+1]:[0,u]).reduce((d,y)=>d+(y.height||0)+x,0)},[r]);return k.useEffect(()=>{r.forEach(h=>{if(h.dismissed)i(h.id,h.removeDelay);else{let _=n.get(h.id);_&&(clearTimeout(_),n.delete(h.id))}})},[r,i]),{toasts:r,handlers:{updateHeight:l,startPause:o,endPause:p,calculateOffset:g}}},cw=qr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,uw=qr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,dw=qr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,hw=$s("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${cw} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${uw} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${dw} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,fw=qr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,pw=$s("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${fw} 1s linear infinite;
`,mw=qr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,gw=qr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,vw=$s("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${mw} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${gw} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,_w=$s("div")`
  position: absolute;
`,yw=$s("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,xw=qr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Sw=$s("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${xw} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,ww=({toast:e})=>{let{icon:t,type:r,iconTheme:s}=e;return t!==void 0?typeof t=="string"?k.createElement(Sw,null,t):t:r==="blank"?null:k.createElement(yw,null,k.createElement(pw,{...s}),r!=="loading"&&k.createElement(_w,null,r==="error"?k.createElement(hw,{...s}):k.createElement(vw,{...s})))},bw=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Cw=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,Ew="0%{opacity:0;} 100%{opacity:1;}",kw="0%{opacity:1;} 100%{opacity:0;}",Rw=$s("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Lw=$s("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Nw=(e,t)=>{let r=e.includes("top")?1:-1,[s,n]=vv()?[Ew,kw]:[bw(r),Cw(r)];return{animation:t?`${qr(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${qr(n)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},jw=k.memo(({toast:e,position:t,style:r,children:s})=>{let n=e.height?Nw(e.position||t||"top-center",e.visible):{opacity:0},i=k.createElement(ww,{toast:e}),a=k.createElement(Lw,{...e.ariaProps},xl(e.message,e));return k.createElement(Rw,{className:e.className,style:{...n,...r,...e.style}},typeof s=="function"?s({icon:i,message:a}):k.createElement(k.Fragment,null,i,a))});ZS(k.createElement);var Dw=({id:e,className:t,style:r,onHeightUpdate:s,children:n})=>{let i=k.useCallback(a=>{if(a){let o=()=>{let l=a.getBoundingClientRect().height;s(e,l)};o(),new MutationObserver(o).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[e,s]);return k.createElement("div",{ref:i,className:t,style:r},n)},Tw=(e,t)=>{let r=e.includes("top"),s=r?{top:0}:{bottom:0},n=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:vv()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...s,...n}},Pw=Xl`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Sa=16,Aw=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:s,children:n,toasterId:i,containerStyle:a,containerClassName:o})=>{let{toasts:l,handlers:p}=lw(r,i);return k.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:Sa,left:Sa,right:Sa,bottom:Sa,pointerEvents:"none",...a},className:o,onMouseEnter:p.startPause,onMouseLeave:p.endPause},l.map(g=>{let h=g.position||t,_=p.calculateOffset(g,{reverseOrder:e,gutter:s,defaultPosition:t}),S=Tw(h,_);return k.createElement(Dw,{id:g.id,key:g.id,onHeightUpdate:p.updateHeight,className:g.visible?Pw:"",style:S},g.type==="custom"?xl(g.message,g):n?n(g):k.createElement(jw,{toast:g,position:h}))}))},Ie=Xe;function wv(e,t){return function(){return e.apply(t,arguments)}}const{toString:Ow}=Object.prototype,{getPrototypeOf:Mh}=Object,{iterator:Jl,toStringTag:bv}=Symbol,Zl=(e=>t=>{const r=Ow.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),hr=e=>(e=e.toLowerCase(),t=>Zl(t)===e),ec=e=>t=>typeof t===e,{isArray:xi}=Array,ko=ec("undefined");function Ko(e){return e!==null&&!ko(e)&&e.constructor!==null&&!ko(e.constructor)&&Ot(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Cv=hr("ArrayBuffer");function Mw(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Cv(e.buffer),t}const Iw=ec("string"),Ot=ec("function"),Ev=ec("number"),Qo=e=>e!==null&&typeof e=="object",Bw=e=>e===!0||e===!1,$a=e=>{if(Zl(e)!=="object")return!1;const t=Mh(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(bv in e)&&!(Jl in e)},Fw=e=>{if(!Qo(e)||Ko(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},$w=hr("Date"),Hw=hr("File"),Uw=hr("Blob"),Ww=hr("FileList"),zw=e=>Qo(e)&&Ot(e.pipe),Vw=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ot(e.append)&&((t=Zl(e))==="formdata"||t==="object"&&Ot(e.toString)&&e.toString()==="[object FormData]"))},qw=hr("URLSearchParams"),[Kw,Qw,Gw,Xw]=["ReadableStream","Request","Response","Headers"].map(hr),Yw=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Go(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let s,n;if(typeof e!="object"&&(e=[e]),xi(e))for(s=0,n=e.length;s<n;s++)t.call(null,e[s],s,e);else{if(Ko(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),a=i.length;let o;for(s=0;s<a;s++)o=i[s],t.call(null,e[o],o,e)}}function kv(e,t){if(Ko(e))return null;t=t.toLowerCase();const r=Object.keys(e);let s=r.length,n;for(;s-- >0;)if(n=r[s],t===n.toLowerCase())return n;return null}const Ks=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis)(),Rv=e=>!ko(e)&&e!==Ks;function md(){const{caseless:e}=Rv(this)&&this||{},t={},r=(s,n)=>{const i=e&&kv(t,n)||n;$a(t[i])&&$a(s)?t[i]=md(t[i],s):$a(s)?t[i]=md({},s):xi(s)?t[i]=s.slice():t[i]=s};for(let s=0,n=arguments.length;s<n;s++)arguments[s]&&Go(arguments[s],r);return t}const Jw=(e,t,r,{allOwnKeys:s}={})=>(Go(t,(n,i)=>{r&&Ot(n)?e[i]=wv(n,r):e[i]=n},{allOwnKeys:s}),e),Zw=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),eb=(e,t,r,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},tb=(e,t,r,s)=>{let n,i,a;const o={};if(t=t||{},e==null)return t;do{for(n=Object.getOwnPropertyNames(e),i=n.length;i-- >0;)a=n[i],(!s||s(a,e,t))&&!o[a]&&(t[a]=e[a],o[a]=!0);e=r!==!1&&Mh(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},rb=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const s=e.indexOf(t,r);return s!==-1&&s===r},sb=e=>{if(!e)return null;if(xi(e))return e;let t=e.length;if(!Ev(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},nb=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Mh(Uint8Array)),ib=(e,t)=>{const s=(e&&e[Jl]).call(e);let n;for(;(n=s.next())&&!n.done;){const i=n.value;t.call(e,i[0],i[1])}},ob=(e,t)=>{let r;const s=[];for(;(r=e.exec(t))!==null;)s.push(r);return s},ab=hr("HTMLFormElement"),lb=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,n){return s.toUpperCase()+n}),Fp=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),cb=hr("RegExp"),Lv=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),s={};Go(r,(n,i)=>{let a;(a=t(n,i,e))!==!1&&(s[i]=a||n)}),Object.defineProperties(e,s)},ub=e=>{Lv(e,(t,r)=>{if(Ot(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=e[r];if(Ot(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},db=(e,t)=>{const r={},s=n=>{n.forEach(i=>{r[i]=!0})};return xi(e)?s(e):s(String(e).split(t)),r},hb=()=>{},fb=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function pb(e){return!!(e&&Ot(e.append)&&e[bv]==="FormData"&&e[Jl])}const mb=e=>{const t=new Array(10),r=(s,n)=>{if(Qo(s)){if(t.indexOf(s)>=0)return;if(Ko(s))return s;if(!("toJSON"in s)){t[n]=s;const i=xi(s)?[]:{};return Go(s,(a,o)=>{const l=r(a,n+1);!ko(l)&&(i[o]=l)}),t[n]=void 0,i}}return s};return r(e,0)},gb=hr("AsyncFunction"),vb=e=>e&&(Qo(e)||Ot(e))&&Ot(e.then)&&Ot(e.catch),Nv=((e,t)=>e?setImmediate:t?((r,s)=>(Ks.addEventListener("message",({source:n,data:i})=>{n===Ks&&i===r&&s.length&&s.shift()()},!1),n=>{s.push(n),Ks.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Ot(Ks.postMessage)),_b=typeof queueMicrotask<"u"?queueMicrotask.bind(Ks):typeof process<"u"&&process.nextTick||Nv,yb=e=>e!=null&&Ot(e[Jl]),U={isArray:xi,isArrayBuffer:Cv,isBuffer:Ko,isFormData:Vw,isArrayBufferView:Mw,isString:Iw,isNumber:Ev,isBoolean:Bw,isObject:Qo,isPlainObject:$a,isEmptyObject:Fw,isReadableStream:Kw,isRequest:Qw,isResponse:Gw,isHeaders:Xw,isUndefined:ko,isDate:$w,isFile:Hw,isBlob:Uw,isRegExp:cb,isFunction:Ot,isStream:zw,isURLSearchParams:qw,isTypedArray:nb,isFileList:Ww,forEach:Go,merge:md,extend:Jw,trim:Yw,stripBOM:Zw,inherits:eb,toFlatObject:tb,kindOf:Zl,kindOfTest:hr,endsWith:rb,toArray:sb,forEachEntry:ib,matchAll:ob,isHTMLForm:ab,hasOwnProperty:Fp,hasOwnProp:Fp,reduceDescriptors:Lv,freezeMethods:ub,toObjectSet:db,toCamelCase:lb,noop:hb,toFiniteNumber:fb,findKey:kv,globalThis:Ks,isContextDefined:Rv,isSpecCompliantForm:pb,toJSONObject:mb,isAsyncFn:gb,isThenable:vb,setImmediate:Nv,asap:_b,isIterable:yb};function he(e,t,r,s,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),s&&(this.request=s),n&&(this.response=n,this.status=n.status?n.status:null)}U.inherits(he,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:U.toJSONObject(this.config),code:this.code,status:this.status}}});const jv=he.prototype,Dv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Dv[e]={value:e}});Object.defineProperties(he,Dv);Object.defineProperty(jv,"isAxiosError",{value:!0});he.from=(e,t,r,s,n,i)=>{const a=Object.create(jv);return U.toFlatObject(e,a,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),he.call(a,e.message,t,r,s,n),a.cause=e,a.name=e.name,i&&Object.assign(a,i),a};const xb=null;function gd(e){return U.isPlainObject(e)||U.isArray(e)}function Tv(e){return U.endsWith(e,"[]")?e.slice(0,-2):e}function $p(e,t,r){return e?e.concat(t).map(function(n,i){return n=Tv(n),!r&&i?"["+n+"]":n}).join(r?".":""):t}function Sb(e){return U.isArray(e)&&!e.some(gd)}const wb=U.toFlatObject(U,{},null,function(t){return/^is[A-Z]/.test(t)});function tc(e,t,r){if(!U.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=U.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,c){return!U.isUndefined(c[v])});const s=r.metaTokens,n=r.visitor||g,i=r.dots,a=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&U.isSpecCompliantForm(t);if(!U.isFunction(n))throw new TypeError("visitor must be a function");function p(x){if(x===null)return"";if(U.isDate(x))return x.toISOString();if(U.isBoolean(x))return x.toString();if(!l&&U.isBlob(x))throw new he("Blob is not supported. Use a Buffer instead.");return U.isArrayBuffer(x)||U.isTypedArray(x)?l&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function g(x,v,c){let f=x;if(x&&!c&&typeof x=="object"){if(U.endsWith(v,"{}"))v=s?v:v.slice(0,-2),x=JSON.stringify(x);else if(U.isArray(x)&&Sb(x)||(U.isFileList(x)||U.endsWith(v,"[]"))&&(f=U.toArray(x)))return v=Tv(v),f.forEach(function(d,y){!(U.isUndefined(d)||d===null)&&t.append(a===!0?$p([v],y,i):a===null?v:v+"[]",p(d))}),!1}return gd(x)?!0:(t.append($p(c,v,i),p(x)),!1)}const h=[],_=Object.assign(wb,{defaultVisitor:g,convertValue:p,isVisitable:gd});function S(x,v){if(!U.isUndefined(x)){if(h.indexOf(x)!==-1)throw Error("Circular reference detected in "+v.join("."));h.push(x),U.forEach(x,function(f,u){(!(U.isUndefined(f)||f===null)&&n.call(t,f,U.isString(u)?u.trim():u,v,_))===!0&&S(f,v?v.concat(u):[u])}),h.pop()}}if(!U.isObject(e))throw new TypeError("data must be an object");return S(e),t}function Hp(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function Ih(e,t){this._pairs=[],e&&tc(e,this,t)}const Pv=Ih.prototype;Pv.append=function(t,r){this._pairs.push([t,r])};Pv.toString=function(t){const r=t?function(s){return t.call(this,s,Hp)}:Hp;return this._pairs.map(function(n){return r(n[0])+"="+r(n[1])},"").join("&")};function bb(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Av(e,t,r){if(!t)return e;const s=r&&r.encode||bb;U.isFunction(r)&&(r={serialize:r});const n=r&&r.serialize;let i;if(n?i=n(t,r):i=U.isURLSearchParams(t)?t.toString():new Ih(t,r).toString(s),i){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Cb{constructor(){this.handlers=[]}use(t,r,s){return this.handlers.push({fulfilled:t,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){U.forEach(this.handlers,function(s){s!==null&&t(s)})}}const Up=Cb,Ov={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Eb=typeof URLSearchParams<"u"?URLSearchParams:Ih,kb=typeof FormData<"u"?FormData:null,Rb=typeof Blob<"u"?Blob:null,Lb={isBrowser:!0,classes:{URLSearchParams:Eb,FormData:kb,Blob:Rb},protocols:["http","https","file","blob","url","data"]},Bh=typeof window<"u"&&typeof document<"u",vd=typeof navigator=="object"&&navigator||void 0,Nb=Bh&&(!vd||["ReactNative","NativeScript","NS"].indexOf(vd.product)<0),jb=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Db=Bh&&window.location.href||"http://localhost",Tb=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Bh,hasStandardBrowserEnv:Nb,hasStandardBrowserWebWorkerEnv:jb,navigator:vd,origin:Db},Symbol.toStringTag,{value:"Module"})),pt={...Tb,...Lb};function Pb(e,t){return tc(e,new pt.classes.URLSearchParams,{visitor:function(r,s,n,i){return pt.isNode&&U.isBuffer(r)?(this.append(s,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function Ab(e){return U.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Ob(e){const t={},r=Object.keys(e);let s;const n=r.length;let i;for(s=0;s<n;s++)i=r[s],t[i]=e[i];return t}function Mv(e){function t(r,s,n,i){let a=r[i++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=i>=r.length;return a=!a&&U.isArray(n)?n.length:a,l?(U.hasOwnProp(n,a)?n[a]=[n[a],s]:n[a]=s,!o):((!n[a]||!U.isObject(n[a]))&&(n[a]=[]),t(r,s,n[a],i)&&U.isArray(n[a])&&(n[a]=Ob(n[a])),!o)}if(U.isFormData(e)&&U.isFunction(e.entries)){const r={};return U.forEachEntry(e,(s,n)=>{t(Ab(s),n,r,0)}),r}return null}function Mb(e,t,r){if(U.isString(e))try{return(t||JSON.parse)(e),U.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(e)}const Fh={transitional:Ov,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const s=r.getContentType()||"",n=s.indexOf("application/json")>-1,i=U.isObject(t);if(i&&U.isHTMLForm(t)&&(t=new FormData(t)),U.isFormData(t))return n?JSON.stringify(Mv(t)):t;if(U.isArrayBuffer(t)||U.isBuffer(t)||U.isStream(t)||U.isFile(t)||U.isBlob(t)||U.isReadableStream(t))return t;if(U.isArrayBufferView(t))return t.buffer;if(U.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return Pb(t,this.formSerializer).toString();if((o=U.isFileList(t))||s.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return tc(o?{"files[]":t}:t,l&&new l,this.formSerializer)}}return i||n?(r.setContentType("application/json",!1),Mb(t)):t}],transformResponse:[function(t){const r=this.transitional||Fh.transitional,s=r&&r.forcedJSONParsing,n=this.responseType==="json";if(U.isResponse(t)||U.isReadableStream(t))return t;if(t&&U.isString(t)&&(s&&!this.responseType||n)){const a=!(r&&r.silentJSONParsing)&&n;try{return JSON.parse(t)}catch(o){if(a)throw o.name==="SyntaxError"?he.from(o,he.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:pt.classes.FormData,Blob:pt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};U.forEach(["delete","get","head","post","put","patch"],e=>{Fh.headers[e]={}});const $h=Fh,Ib=U.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Bb=e=>{const t={};let r,s,n;return e&&e.split(`
`).forEach(function(a){n=a.indexOf(":"),r=a.substring(0,n).trim().toLowerCase(),s=a.substring(n+1).trim(),!(!r||t[r]&&Ib[r])&&(r==="set-cookie"?t[r]?t[r].push(s):t[r]=[s]:t[r]=t[r]?t[r]+", "+s:s)}),t},Wp=Symbol("internals");function Pi(e){return e&&String(e).trim().toLowerCase()}function Ha(e){return e===!1||e==null?e:U.isArray(e)?e.map(Ha):String(e)}function Fb(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(e);)t[s[1]]=s[2];return t}const $b=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Uc(e,t,r,s,n){if(U.isFunction(s))return s.call(this,t,r);if(n&&(t=r),!!U.isString(t)){if(U.isString(s))return t.indexOf(s)!==-1;if(U.isRegExp(s))return s.test(t)}}function Hb(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,s)=>r.toUpperCase()+s)}function Ub(e,t){const r=U.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+r,{value:function(n,i,a){return this[s].call(this,t,n,i,a)},configurable:!0})})}class rc{constructor(t){t&&this.set(t)}set(t,r,s){const n=this;function i(o,l,p){const g=Pi(l);if(!g)throw new Error("header name must be a non-empty string");const h=U.findKey(n,g);(!h||n[h]===void 0||p===!0||p===void 0&&n[h]!==!1)&&(n[h||l]=Ha(o))}const a=(o,l)=>U.forEach(o,(p,g)=>i(p,g,l));if(U.isPlainObject(t)||t instanceof this.constructor)a(t,r);else if(U.isString(t)&&(t=t.trim())&&!$b(t))a(Bb(t),r);else if(U.isObject(t)&&U.isIterable(t)){let o={},l,p;for(const g of t){if(!U.isArray(g))throw TypeError("Object iterator must return a key-value pair");o[p=g[0]]=(l=o[p])?U.isArray(l)?[...l,g[1]]:[l,g[1]]:g[1]}a(o,r)}else t!=null&&i(r,t,s);return this}get(t,r){if(t=Pi(t),t){const s=U.findKey(this,t);if(s){const n=this[s];if(!r)return n;if(r===!0)return Fb(n);if(U.isFunction(r))return r.call(this,n,s);if(U.isRegExp(r))return r.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Pi(t),t){const s=U.findKey(this,t);return!!(s&&this[s]!==void 0&&(!r||Uc(this,this[s],s,r)))}return!1}delete(t,r){const s=this;let n=!1;function i(a){if(a=Pi(a),a){const o=U.findKey(s,a);o&&(!r||Uc(s,s[o],o,r))&&(delete s[o],n=!0)}}return U.isArray(t)?t.forEach(i):i(t),n}clear(t){const r=Object.keys(this);let s=r.length,n=!1;for(;s--;){const i=r[s];(!t||Uc(this,this[i],i,t,!0))&&(delete this[i],n=!0)}return n}normalize(t){const r=this,s={};return U.forEach(this,(n,i)=>{const a=U.findKey(s,i);if(a){r[a]=Ha(n),delete r[i];return}const o=t?Hb(i):String(i).trim();o!==i&&delete r[i],r[o]=Ha(n),s[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return U.forEach(this,(s,n)=>{s!=null&&s!==!1&&(r[n]=t&&U.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const s=new this(t);return r.forEach(n=>s.set(n)),s}static accessor(t){const s=(this[Wp]=this[Wp]={accessors:{}}).accessors,n=this.prototype;function i(a){const o=Pi(a);s[o]||(Ub(n,a),s[o]=!0)}return U.isArray(t)?t.forEach(i):i(t),this}}rc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);U.reduceDescriptors(rc.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[r]=s}}});U.freezeMethods(rc);const cr=rc;function Wc(e,t){const r=this||$h,s=t||r,n=cr.from(s.headers);let i=s.data;return U.forEach(e,function(o){i=o.call(r,i,n.normalize(),t?t.status:void 0)}),n.normalize(),i}function Iv(e){return!!(e&&e.__CANCEL__)}function Si(e,t,r){he.call(this,e??"canceled",he.ERR_CANCELED,t,r),this.name="CanceledError"}U.inherits(Si,he,{__CANCEL__:!0});function Bv(e,t,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?e(r):t(new he("Request failed with status code "+r.status,[he.ERR_BAD_REQUEST,he.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Wb(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function zb(e,t){e=e||10;const r=new Array(e),s=new Array(e);let n=0,i=0,a;return t=t!==void 0?t:1e3,function(l){const p=Date.now(),g=s[i];a||(a=p),r[n]=l,s[n]=p;let h=i,_=0;for(;h!==n;)_+=r[h++],h=h%e;if(n=(n+1)%e,n===i&&(i=(i+1)%e),p-a<t)return;const S=g&&p-g;return S?Math.round(_*1e3/S):void 0}}function Vb(e,t){let r=0,s=1e3/t,n,i;const a=(p,g=Date.now())=>{r=g,n=null,i&&(clearTimeout(i),i=null),e(...p)};return[(...p)=>{const g=Date.now(),h=g-r;h>=s?a(p,g):(n=p,i||(i=setTimeout(()=>{i=null,a(n)},s-h)))},()=>n&&a(n)]}const Sl=(e,t,r=3)=>{let s=0;const n=zb(50,250);return Vb(i=>{const a=i.loaded,o=i.lengthComputable?i.total:void 0,l=a-s,p=n(l),g=a<=o;s=a;const h={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:p||void 0,estimated:p&&o&&g?(o-a)/p:void 0,event:i,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(h)},r)},zp=(e,t)=>{const r=e!=null;return[s=>t[0]({lengthComputable:r,total:e,loaded:s}),t[1]]},Vp=e=>(...t)=>U.asap(()=>e(...t)),qb=pt.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,pt.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(pt.origin),pt.navigator&&/(msie|trident)/i.test(pt.navigator.userAgent)):()=>!0,Kb=pt.hasStandardBrowserEnv?{write(e,t,r,s,n,i){const a=[e+"="+encodeURIComponent(t)];U.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),U.isString(s)&&a.push("path="+s),U.isString(n)&&a.push("domain="+n),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Qb(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Gb(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Fv(e,t,r){let s=!Qb(t);return e&&(s||r==!1)?Gb(e,t):t}const qp=e=>e instanceof cr?{...e}:e;function gn(e,t){t=t||{};const r={};function s(p,g,h,_){return U.isPlainObject(p)&&U.isPlainObject(g)?U.merge.call({caseless:_},p,g):U.isPlainObject(g)?U.merge({},g):U.isArray(g)?g.slice():g}function n(p,g,h,_){if(U.isUndefined(g)){if(!U.isUndefined(p))return s(void 0,p,h,_)}else return s(p,g,h,_)}function i(p,g){if(!U.isUndefined(g))return s(void 0,g)}function a(p,g){if(U.isUndefined(g)){if(!U.isUndefined(p))return s(void 0,p)}else return s(void 0,g)}function o(p,g,h){if(h in t)return s(p,g);if(h in e)return s(void 0,p)}const l={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(p,g,h)=>n(qp(p),qp(g),h,!0)};return U.forEach(Object.keys({...e,...t}),function(g){const h=l[g]||n,_=h(e[g],t[g],g);U.isUndefined(_)&&h!==o||(r[g]=_)}),r}const $v=e=>{const t=gn({},e);let{data:r,withXSRFToken:s,xsrfHeaderName:n,xsrfCookieName:i,headers:a,auth:o}=t;t.headers=a=cr.from(a),t.url=Av(Fv(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(U.isFormData(r)){if(pt.hasStandardBrowserEnv||pt.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((l=a.getContentType())!==!1){const[p,...g]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];a.setContentType([p||"multipart/form-data",...g].join("; "))}}if(pt.hasStandardBrowserEnv&&(s&&U.isFunction(s)&&(s=s(t)),s||s!==!1&&qb(t.url))){const p=n&&i&&Kb.read(i);p&&a.set(n,p)}return t},Xb=typeof XMLHttpRequest<"u",Yb=Xb&&function(e){return new Promise(function(r,s){const n=$v(e);let i=n.data;const a=cr.from(n.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:p}=n,g,h,_,S,x;function v(){S&&S(),x&&x(),n.cancelToken&&n.cancelToken.unsubscribe(g),n.signal&&n.signal.removeEventListener("abort",g)}let c=new XMLHttpRequest;c.open(n.method.toUpperCase(),n.url,!0),c.timeout=n.timeout;function f(){if(!c)return;const d=cr.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),w={data:!o||o==="text"||o==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:d,config:e,request:c};Bv(function(R){r(R),v()},function(R){s(R),v()},w),c=null}"onloadend"in c?c.onloadend=f:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(f)},c.onabort=function(){c&&(s(new he("Request aborted",he.ECONNABORTED,e,c)),c=null)},c.onerror=function(){s(new he("Network Error",he.ERR_NETWORK,e,c)),c=null},c.ontimeout=function(){let y=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const w=n.transitional||Ov;n.timeoutErrorMessage&&(y=n.timeoutErrorMessage),s(new he(y,w.clarifyTimeoutError?he.ETIMEDOUT:he.ECONNABORTED,e,c)),c=null},i===void 0&&a.setContentType(null),"setRequestHeader"in c&&U.forEach(a.toJSON(),function(y,w){c.setRequestHeader(w,y)}),U.isUndefined(n.withCredentials)||(c.withCredentials=!!n.withCredentials),o&&o!=="json"&&(c.responseType=n.responseType),p&&([_,x]=Sl(p,!0),c.addEventListener("progress",_)),l&&c.upload&&([h,S]=Sl(l),c.upload.addEventListener("progress",h),c.upload.addEventListener("loadend",S)),(n.cancelToken||n.signal)&&(g=d=>{c&&(s(!d||d.type?new Si(null,e,c):d),c.abort(),c=null)},n.cancelToken&&n.cancelToken.subscribe(g),n.signal&&(n.signal.aborted?g():n.signal.addEventListener("abort",g)));const u=Wb(n.url);if(u&&pt.protocols.indexOf(u)===-1){s(new he("Unsupported protocol "+u+":",he.ERR_BAD_REQUEST,e));return}c.send(i||null)})},Jb=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let s=new AbortController,n;const i=function(p){if(!n){n=!0,o();const g=p instanceof Error?p:this.reason;s.abort(g instanceof he?g:new Si(g instanceof Error?g.message:g))}};let a=t&&setTimeout(()=>{a=null,i(new he(`timeout ${t} of ms exceeded`,he.ETIMEDOUT))},t);const o=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(p=>{p.unsubscribe?p.unsubscribe(i):p.removeEventListener("abort",i)}),e=null)};e.forEach(p=>p.addEventListener("abort",i));const{signal:l}=s;return l.unsubscribe=()=>U.asap(o),l}},Zb=Jb,eC=function*(e,t){let r=e.byteLength;if(!t||r<t){yield e;return}let s=0,n;for(;s<r;)n=s+t,yield e.slice(s,n),s=n},tC=async function*(e,t){for await(const r of rC(e))yield*eC(r,t)},rC=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:s}=await t.read();if(r)break;yield s}}finally{await t.cancel()}},Kp=(e,t,r,s)=>{const n=tC(e,t);let i=0,a,o=l=>{a||(a=!0,s&&s(l))};return new ReadableStream({async pull(l){try{const{done:p,value:g}=await n.next();if(p){o(),l.close();return}let h=g.byteLength;if(r){let _=i+=h;r(_)}l.enqueue(new Uint8Array(g))}catch(p){throw o(p),p}},cancel(l){return o(l),n.return()}},{highWaterMark:2})},sc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Hv=sc&&typeof ReadableStream=="function",sC=sc&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Uv=(e,...t)=>{try{return!!e(...t)}catch{return!1}},nC=Hv&&Uv(()=>{let e=!1;const t=new Request(pt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Qp=64*1024,_d=Hv&&Uv(()=>U.isReadableStream(new Response("").body)),wl={stream:_d&&(e=>e.body)};sc&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!wl[t]&&(wl[t]=U.isFunction(e[t])?r=>r[t]():(r,s)=>{throw new he(`Response type '${t}' is not supported`,he.ERR_NOT_SUPPORT,s)})})})(new Response);const iC=async e=>{if(e==null)return 0;if(U.isBlob(e))return e.size;if(U.isSpecCompliantForm(e))return(await new Request(pt.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(U.isArrayBufferView(e)||U.isArrayBuffer(e))return e.byteLength;if(U.isURLSearchParams(e)&&(e=e+""),U.isString(e))return(await sC(e)).byteLength},oC=async(e,t)=>{const r=U.toFiniteNumber(e.getContentLength());return r??iC(t)},aC=sc&&(async e=>{let{url:t,method:r,data:s,signal:n,cancelToken:i,timeout:a,onDownloadProgress:o,onUploadProgress:l,responseType:p,headers:g,withCredentials:h="same-origin",fetchOptions:_}=$v(e);p=p?(p+"").toLowerCase():"text";let S=Zb([n,i&&i.toAbortSignal()],a),x;const v=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let c;try{if(l&&nC&&r!=="get"&&r!=="head"&&(c=await oC(g,s))!==0){let w=new Request(t,{method:"POST",body:s,duplex:"half"}),C;if(U.isFormData(s)&&(C=w.headers.get("content-type"))&&g.setContentType(C),w.body){const[R,b]=zp(c,Sl(Vp(l)));s=Kp(w.body,Qp,R,b)}}U.isString(h)||(h=h?"include":"omit");const f="credentials"in Request.prototype;x=new Request(t,{..._,signal:S,method:r.toUpperCase(),headers:g.normalize().toJSON(),body:s,duplex:"half",credentials:f?h:void 0});let u=await fetch(x,_);const d=_d&&(p==="stream"||p==="response");if(_d&&(o||d&&v)){const w={};["status","statusText","headers"].forEach(E=>{w[E]=u[E]});const C=U.toFiniteNumber(u.headers.get("content-length")),[R,b]=o&&zp(C,Sl(Vp(o),!0))||[];u=new Response(Kp(u.body,Qp,R,()=>{b&&b(),v&&v()}),w)}p=p||"text";let y=await wl[U.findKey(wl,p)||"text"](u,e);return!d&&v&&v(),await new Promise((w,C)=>{Bv(w,C,{data:y,headers:cr.from(u.headers),status:u.status,statusText:u.statusText,config:e,request:x})})}catch(f){throw v&&v(),f&&f.name==="TypeError"&&/Load failed|fetch/i.test(f.message)?Object.assign(new he("Network Error",he.ERR_NETWORK,e,x),{cause:f.cause||f}):he.from(f,f&&f.code,e,x)}}),yd={http:xb,xhr:Yb,fetch:aC};U.forEach(yd,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Gp=e=>`- ${e}`,lC=e=>U.isFunction(e)||e===null||e===!1,Wv={getAdapter:e=>{e=U.isArray(e)?e:[e];const{length:t}=e;let r,s;const n={};for(let i=0;i<t;i++){r=e[i];let a;if(s=r,!lC(r)&&(s=yd[(a=String(r)).toLowerCase()],s===void 0))throw new he(`Unknown adapter '${a}'`);if(s)break;n[a||"#"+i]=s}if(!s){const i=Object.entries(n).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build"));let a=t?i.length>1?`since :
`+i.map(Gp).join(`
`):" "+Gp(i[0]):"as no adapter specified";throw new he("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return s},adapters:yd};function zc(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Si(null,e)}function Xp(e){return zc(e),e.headers=cr.from(e.headers),e.data=Wc.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Wv.getAdapter(e.adapter||$h.adapter)(e).then(function(s){return zc(e),s.data=Wc.call(e,e.transformResponse,s),s.headers=cr.from(s.headers),s},function(s){return Iv(s)||(zc(e),s&&s.response&&(s.response.data=Wc.call(e,e.transformResponse,s.response),s.response.headers=cr.from(s.response.headers))),Promise.reject(s)})}const zv="1.11.0",nc={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{nc[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const Yp={};nc.transitional=function(t,r,s){function n(i,a){return"[Axios v"+zv+"] Transitional option '"+i+"'"+a+(s?". "+s:"")}return(i,a,o)=>{if(t===!1)throw new he(n(a," has been removed"+(r?" in "+r:"")),he.ERR_DEPRECATED);return r&&!Yp[a]&&(Yp[a]=!0,console.warn(n(a," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,a,o):!0}};nc.spelling=function(t){return(r,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function cC(e,t,r){if(typeof e!="object")throw new he("options must be an object",he.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let n=s.length;for(;n-- >0;){const i=s[n],a=t[i];if(a){const o=e[i],l=o===void 0||a(o,i,e);if(l!==!0)throw new he("option "+i+" must be "+l,he.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new he("Unknown option "+i,he.ERR_BAD_OPTION)}}const Ua={assertOptions:cC,validators:nc},mr=Ua.validators;class bl{constructor(t){this.defaults=t||{},this.interceptors={request:new Up,response:new Up}}async request(t,r){try{return await this._request(t,r)}catch(s){if(s instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=gn(this.defaults,r);const{transitional:s,paramsSerializer:n,headers:i}=r;s!==void 0&&Ua.assertOptions(s,{silentJSONParsing:mr.transitional(mr.boolean),forcedJSONParsing:mr.transitional(mr.boolean),clarifyTimeoutError:mr.transitional(mr.boolean)},!1),n!=null&&(U.isFunction(n)?r.paramsSerializer={serialize:n}:Ua.assertOptions(n,{encode:mr.function,serialize:mr.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Ua.assertOptions(r,{baseUrl:mr.spelling("baseURL"),withXsrfToken:mr.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=i&&U.merge(i.common,i[r.method]);i&&U.forEach(["delete","get","head","post","put","patch","common"],x=>{delete i[x]}),r.headers=cr.concat(a,i);const o=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(r)===!1||(l=l&&v.synchronous,o.unshift(v.fulfilled,v.rejected))});const p=[];this.interceptors.response.forEach(function(v){p.push(v.fulfilled,v.rejected)});let g,h=0,_;if(!l){const x=[Xp.bind(this),void 0];for(x.unshift(...o),x.push(...p),_=x.length,g=Promise.resolve(r);h<_;)g=g.then(x[h++],x[h++]);return g}_=o.length;let S=r;for(h=0;h<_;){const x=o[h++],v=o[h++];try{S=x(S)}catch(c){v.call(this,c);break}}try{g=Xp.call(this,S)}catch(x){return Promise.reject(x)}for(h=0,_=p.length;h<_;)g=g.then(p[h++],p[h++]);return g}getUri(t){t=gn(this.defaults,t);const r=Fv(t.baseURL,t.url,t.allowAbsoluteUrls);return Av(r,t.params,t.paramsSerializer)}}U.forEach(["delete","get","head","options"],function(t){bl.prototype[t]=function(r,s){return this.request(gn(s||{},{method:t,url:r,data:(s||{}).data}))}});U.forEach(["post","put","patch"],function(t){function r(s){return function(i,a,o){return this.request(gn(o||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}bl.prototype[t]=r(),bl.prototype[t+"Form"]=r(!0)});const Wa=bl;class Hh{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const s=this;this.promise.then(n=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](n);s._listeners=null}),this.promise.then=n=>{let i;const a=new Promise(o=>{s.subscribe(o),i=o}).then(n);return a.cancel=function(){s.unsubscribe(i)},a},t(function(i,a,o){s.reason||(s.reason=new Si(i,a,o),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=s=>{t.abort(s)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Hh(function(n){t=n}),cancel:t}}}const uC=Hh;function dC(e){return function(r){return e.apply(null,r)}}function hC(e){return U.isObject(e)&&e.isAxiosError===!0}const xd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(xd).forEach(([e,t])=>{xd[t]=e});const fC=xd;function Vv(e){const t=new Wa(e),r=wv(Wa.prototype.request,t);return U.extend(r,Wa.prototype,t,{allOwnKeys:!0}),U.extend(r,t,null,{allOwnKeys:!0}),r.create=function(n){return Vv(gn(e,n))},r}const qe=Vv($h);qe.Axios=Wa;qe.CanceledError=Si;qe.CancelToken=uC;qe.isCancel=Iv;qe.VERSION=zv;qe.toFormData=tc;qe.AxiosError=he;qe.Cancel=qe.CanceledError;qe.all=function(t){return Promise.all(t)};qe.spread=dC;qe.isAxiosError=hC;qe.mergeConfig=gn;qe.AxiosHeaders=cr;qe.formToJSON=e=>Mv(U.isHTMLForm(e)?new FormData(e):e);qe.getAdapter=Wv.getAdapter;qe.HttpStatusCode=fC;qe.default=qe;const pC=qe,mC="http://localhost:8000",be=pC.create({baseURL:`${mC}/api/v1`,timeout:3e4});be.interceptors.request.use(e=>{const t=localStorage.getItem("auth_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});be.interceptors.response.use(e=>e,e=>{var r,s,n,i;((r=e.response)==null?void 0:r.status)===401&&(localStorage.removeItem("auth_token"),window.location.href="/login");const t=((n=(s=e.response)==null?void 0:s.data)==null?void 0:n.error)||e.message||"An error occurred";return console.error("API Error:",e),((i=e.response)==null?void 0:i.status)!==401&&Ie.error(t),Promise.reject(e)});const qv={login:e=>be.post("/auth/login",new URLSearchParams({username:e.username,password:e.password}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}),getProfile:()=>be.get("/auth/me")},Un={list:(e=!1)=>be.get("/vps",{params:{active_only:e}}),get:e=>be.get(`/vps/${e}`),onboard:e=>be.post("/vps/onboard",e),bootstrap:e=>be.post(`/vps/${e}/bootstrap`),checkHealth:e=>be.post(`/vps/${e}/health`),delete:e=>be.delete(`/vps/${e}`)},Ai={listConfigs:e=>be.get(`/vps/${e}/nginx/configs`),getConfig:(e,t,r=!0)=>be.get(`/vps/${e}/nginx/configs/${t}`,{params:{mask_sensitive:r}}),previewConfig:(e,t)=>be.post(`/vps/${e}/nginx/preview`,t),createConfig:(e,t)=>be.post(`/vps/${e}/nginx/configs`,t),applyConfig:(e,t)=>be.post(`/vps/${e}/nginx/apply`,t),revertConfig:(e,t)=>be.post(`/vps/${e}/nginx/revert`,t),getStatus:e=>be.get(`/vps/${e}/nginx/status`),getTemplates:()=>be.get("/nginx/templates")},eo={getMetrics:()=>be.get("/monitoring/metrics"),getSystemMetrics:()=>be.get("/monitoring/system-metrics"),sendAlert:e=>be.post("/monitoring/alerts/send",e),testAlerts:()=>be.get("/monitoring/alerts/test"),getHealth:()=>be.get("/monitoring/health"),getRecentAuditLogs:(e={})=>be.get("/monitoring/audit/recent",{params:e})},rr={get:(e,t)=>be.get(e,{params:t}),post:(e,t)=>be.post(e,t),put:(e,t)=>be.put(e,t),delete:e=>be.delete(e)};var Xo=e=>e.type==="checkbox",Qs=e=>e instanceof Date,St=e=>e==null;const Kv=e=>typeof e=="object";var Ue=e=>!St(e)&&!Array.isArray(e)&&Kv(e)&&!Qs(e),gC=e=>Ue(e)&&e.target?Xo(e.target)?e.target.checked:e.target.value:e,vC=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,_C=(e,t)=>e.has(vC(t)),yC=e=>{const t=e.constructor&&e.constructor.prototype;return Ue(t)&&t.hasOwnProperty("isPrototypeOf")},Uh=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ze(e){let t;const r=Array.isArray(e),s=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Uh&&(e instanceof Blob||s))&&(r||Ue(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!yC(e))t=e;else for(const n in e)e.hasOwnProperty(n)&&(t[n]=Ze(e[n]));else return e;return t}var ic=e=>/^\w*$/.test(e),ze=e=>e===void 0,Wh=e=>Array.isArray(e)?e.filter(Boolean):[],zh=e=>Wh(e.replace(/["|']|\]/g,"").split(/\.|\[/)),le=(e,t,r)=>{if(!t||!Ue(e))return r;const s=(ic(t)?[t]:zh(t)).reduce((n,i)=>St(n)?n:n[i],e);return ze(s)||s===e?ze(e[t])?r:e[t]:s},vr=e=>typeof e=="boolean",Ne=(e,t,r)=>{let s=-1;const n=ic(t)?[t]:zh(t),i=n.length,a=i-1;for(;++s<i;){const o=n[s];let l=r;if(s!==a){const p=e[o];l=Ue(p)||Array.isArray(p)?p:isNaN(+n[s+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;e[o]=l,e=e[o]}};const Jp={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},nr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Rr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},xC=ue.createContext(null);xC.displayName="HookFormContext";var SC=(e,t,r,s=!0)=>{const n={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(n,i,{get:()=>{const a=i;return t._proxyFormState[a]!==nr.all&&(t._proxyFormState[a]=!s||nr.all),r&&(r[a]=!0),e[a]}});return n};const wC=typeof window<"u"?ue.useLayoutEffect:ue.useEffect;var br=e=>typeof e=="string",bC=(e,t,r,s,n)=>br(e)?(s&&t.watch.add(e),le(r,e,n)):Array.isArray(e)?e.map(i=>(s&&t.watch.add(i),le(r,i))):(s&&(t.watchAll=!0),r),Sd=e=>St(e)||!Kv(e);function is(e,t,r=new WeakSet){if(Sd(e)||Sd(t))return e===t;if(Qs(e)&&Qs(t))return e.getTime()===t.getTime();const s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of s){const a=e[i];if(!n.includes(i))return!1;if(i!=="ref"){const o=t[i];if(Qs(a)&&Qs(o)||Ue(a)&&Ue(o)||Array.isArray(a)&&Array.isArray(o)?!is(a,o,r):a!==o)return!1}}return!0}var CC=(e,t,r,s,n)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[s]:n||!0}}:{},to=e=>Array.isArray(e)?e:[e],Zp=()=>{let e=[];return{get observers(){return e},next:n=>{for(const i of e)i.next&&i.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(i=>i!==n)}}),unsubscribe:()=>{e=[]}}},Lt=e=>Ue(e)&&!Object.keys(e).length,Vh=e=>e.type==="file",ir=e=>typeof e=="function",Cl=e=>{if(!Uh)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Qv=e=>e.type==="select-multiple",qh=e=>e.type==="radio",EC=e=>qh(e)||Xo(e),Vc=e=>Cl(e)&&e.isConnected;function kC(e,t){const r=t.slice(0,-1).length;let s=0;for(;s<r;)e=ze(e)?s++:e[t[s++]];return e}function RC(e){for(const t in e)if(e.hasOwnProperty(t)&&!ze(e[t]))return!1;return!0}function We(e,t){const r=Array.isArray(t)?t:ic(t)?[t]:zh(t),s=r.length===1?e:kC(e,r),n=r.length-1,i=r[n];return s&&delete s[i],n!==0&&(Ue(s)&&Lt(s)||Array.isArray(s)&&RC(s))&&We(e,r.slice(0,-1)),e}var Gv=e=>{for(const t in e)if(ir(e[t]))return!0;return!1};function El(e,t={}){const r=Array.isArray(e);if(Ue(e)||r)for(const s in e)Array.isArray(e[s])||Ue(e[s])&&!Gv(e[s])?(t[s]=Array.isArray(e[s])?[]:{},El(e[s],t[s])):St(e[s])||(t[s]=!0);return t}function Xv(e,t,r){const s=Array.isArray(e);if(Ue(e)||s)for(const n in e)Array.isArray(e[n])||Ue(e[n])&&!Gv(e[n])?ze(t)||Sd(r[n])?r[n]=Array.isArray(e[n])?El(e[n],[]):{...El(e[n])}:Xv(e[n],St(t)?{}:t[n],r[n]):r[n]=!is(e[n],t[n]);return r}var Oi=(e,t)=>Xv(e,t,El(t));const em={value:!1,isValid:!1},tm={value:!0,isValid:!0};var Yv=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ze(e[0].attributes.value)?ze(e[0].value)||e[0].value===""?tm:{value:e[0].value,isValid:!0}:tm:em}return em},Jv=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:s})=>ze(e)?e:t?e===""?NaN:e&&+e:r&&br(e)?new Date(e):s?s(e):e;const rm={isValid:!1,value:null};var Zv=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,rm):rm;function sm(e){const t=e.ref;return Vh(t)?t.files:qh(t)?Zv(e.refs).value:Qv(t)?[...t.selectedOptions].map(({value:r})=>r):Xo(t)?Yv(e.refs).value:Jv(ze(t.value)?e.ref.value:t.value,e)}var LC=(e,t,r,s)=>{const n={};for(const i of e){const a=le(t,i);a&&Ne(n,i,a._f)}return{criteriaMode:r,names:[...e],fields:n,shouldUseNativeValidation:s}},kl=e=>e instanceof RegExp,Mi=e=>ze(e)?e:kl(e)?e.source:Ue(e)?kl(e.value)?e.value.source:e.value:e,nm=e=>({isOnSubmit:!e||e===nr.onSubmit,isOnBlur:e===nr.onBlur,isOnChange:e===nr.onChange,isOnAll:e===nr.all,isOnTouch:e===nr.onTouched});const im="AsyncFunction";var NC=e=>!!e&&!!e.validate&&!!(ir(e.validate)&&e.validate.constructor.name===im||Ue(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===im)),jC=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),om=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const ro=(e,t,r,s)=>{for(const n of r||Object.keys(e)){const i=le(e,n);if(i){const{_f:a,...o}=i;if(a){if(a.refs&&a.refs[0]&&t(a.refs[0],n)&&!s)return!0;if(a.ref&&t(a.ref,a.name)&&!s)return!0;if(ro(o,t))break}else if(Ue(o)&&ro(o,t))break}}};function am(e,t,r){const s=le(e,r);if(s||ic(r))return{error:s,name:r};const n=r.split(".");for(;n.length;){const i=n.join("."),a=le(t,i),o=le(e,i);if(a&&!Array.isArray(a)&&r!==i)return{name:r};if(o&&o.type)return{name:i,error:o};if(o&&o.root&&o.root.type)return{name:`${i}.root`,error:o.root};n.pop()}return{name:r}}var DC=(e,t,r,s)=>{r(e);const{name:n,...i}=e;return Lt(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(a=>t[a]===(!s||nr.all))},TC=(e,t,r)=>!e||!t||e===t||to(e).some(s=>s&&(r?s===t:s.startsWith(t)||t.startsWith(s))),PC=(e,t,r,s,n)=>n.isOnAll?!1:!r&&n.isOnTouch?!(t||e):(r?s.isOnBlur:n.isOnBlur)?!e:(r?s.isOnChange:n.isOnChange)?e:!0,AC=(e,t)=>!Wh(le(e,t)).length&&We(e,t),OC=(e,t,r)=>{const s=to(le(e,r));return Ne(s,"root",t[r]),Ne(e,r,s),e},za=e=>br(e);function lm(e,t,r="validate"){if(za(e)||Array.isArray(e)&&e.every(za)||vr(e)&&!e)return{type:r,message:za(e)?e:"",ref:t}}var wn=e=>Ue(e)&&!kl(e)?e:{value:e,message:""},cm=async(e,t,r,s,n,i)=>{const{ref:a,refs:o,required:l,maxLength:p,minLength:g,min:h,max:_,pattern:S,validate:x,name:v,valueAsNumber:c,mount:f}=e._f,u=le(r,v);if(!f||t.has(v))return{};const d=o?o[0]:a,y=N=>{n&&d.reportValidity&&(d.setCustomValidity(vr(N)?"":N||""),d.reportValidity())},w={},C=qh(a),R=Xo(a),b=C||R,E=(c||Vh(a))&&ze(a.value)&&ze(u)||Cl(a)&&a.value===""||u===""||Array.isArray(u)&&!u.length,D=CC.bind(null,v,s,w),O=(N,A,H,W=Rr.maxLength,K=Rr.minLength)=>{const z=N?A:H;w[v]={type:N?W:K,message:z,ref:a,...D(N?W:K,z)}};if(i?!Array.isArray(u)||!u.length:l&&(!b&&(E||St(u))||vr(u)&&!u||R&&!Yv(o).isValid||C&&!Zv(o).isValid)){const{value:N,message:A}=za(l)?{value:!!l,message:l}:wn(l);if(N&&(w[v]={type:Rr.required,message:A,ref:d,...D(Rr.required,A)},!s))return y(A),w}if(!E&&(!St(h)||!St(_))){let N,A;const H=wn(_),W=wn(h);if(!St(u)&&!isNaN(u)){const K=a.valueAsNumber||u&&+u;St(H.value)||(N=K>H.value),St(W.value)||(A=K<W.value)}else{const K=a.valueAsDate||new Date(u),z=P=>new Date(new Date().toDateString()+" "+P),L=a.type=="time",T=a.type=="week";br(H.value)&&u&&(N=L?z(u)>z(H.value):T?u>H.value:K>new Date(H.value)),br(W.value)&&u&&(A=L?z(u)<z(W.value):T?u<W.value:K<new Date(W.value))}if((N||A)&&(O(!!N,H.message,W.message,Rr.max,Rr.min),!s))return y(w[v].message),w}if((p||g)&&!E&&(br(u)||i&&Array.isArray(u))){const N=wn(p),A=wn(g),H=!St(N.value)&&u.length>+N.value,W=!St(A.value)&&u.length<+A.value;if((H||W)&&(O(H,N.message,A.message),!s))return y(w[v].message),w}if(S&&!E&&br(u)){const{value:N,message:A}=wn(S);if(kl(N)&&!u.match(N)&&(w[v]={type:Rr.pattern,message:A,ref:a,...D(Rr.pattern,A)},!s))return y(A),w}if(x){if(ir(x)){const N=await x(u,r),A=lm(N,d);if(A&&(w[v]={...A,...D(Rr.validate,A.message)},!s))return y(A.message),w}else if(Ue(x)){let N={};for(const A in x){if(!Lt(N)&&!s)break;const H=lm(await x[A](u,r),d,A);H&&(N={...H,...D(A,H.message)},y(H.message),s&&(w[v]=N))}if(!Lt(N)&&(w[v]={ref:d,...N},!s))return w}}return y(!0),w};const MC={mode:nr.onSubmit,reValidateMode:nr.onChange,shouldFocusError:!0};function IC(e={}){let t={...MC,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:ir(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},n=Ue(t.defaultValues)||Ue(t.values)?Ze(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Ze(n),a={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,p=0;const g={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...g};const _={array:Zp(),state:Zp()},S=t.criteriaMode===nr.all,x=B=>$=>{clearTimeout(p),p=setTimeout(B,$)},v=async B=>{if(!t.disabled&&(g.isValid||h.isValid||B)){const $=t.resolver?Lt((await R()).errors):await E(s,!0);$!==r.isValid&&_.state.next({isValid:$})}},c=(B,$)=>{!t.disabled&&(g.isValidating||g.validatingFields||h.isValidating||h.validatingFields)&&((B||Array.from(o.mount)).forEach(q=>{q&&($?Ne(r.validatingFields,q,$):We(r.validatingFields,q))}),_.state.next({validatingFields:r.validatingFields,isValidating:!Lt(r.validatingFields)}))},f=(B,$=[],q,Z,ee=!0,X=!0)=>{if(Z&&q&&!t.disabled){if(a.action=!0,X&&Array.isArray(le(s,B))){const ce=q(le(s,B),Z.argA,Z.argB);ee&&Ne(s,B,ce)}if(X&&Array.isArray(le(r.errors,B))){const ce=q(le(r.errors,B),Z.argA,Z.argB);ee&&Ne(r.errors,B,ce),AC(r.errors,B)}if((g.touchedFields||h.touchedFields)&&X&&Array.isArray(le(r.touchedFields,B))){const ce=q(le(r.touchedFields,B),Z.argA,Z.argB);ee&&Ne(r.touchedFields,B,ce)}(g.dirtyFields||h.dirtyFields)&&(r.dirtyFields=Oi(n,i)),_.state.next({name:B,isDirty:O(B,$),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ne(i,B,$)},u=(B,$)=>{Ne(r.errors,B,$),_.state.next({errors:r.errors})},d=B=>{r.errors=B,_.state.next({errors:r.errors,isValid:!1})},y=(B,$,q,Z)=>{const ee=le(s,B);if(ee){const X=le(i,B,ze(q)?le(n,B):q);ze(X)||Z&&Z.defaultChecked||$?Ne(i,B,$?X:sm(ee._f)):H(B,X),a.mount&&v()}},w=(B,$,q,Z,ee)=>{let X=!1,ce=!1;const xe={name:B};if(!t.disabled){if(!q||Z){(g.isDirty||h.isDirty)&&(ce=r.isDirty,r.isDirty=xe.isDirty=O(),X=ce!==xe.isDirty);const _e=is(le(n,B),$);ce=!!le(r.dirtyFields,B),_e?We(r.dirtyFields,B):Ne(r.dirtyFields,B,!0),xe.dirtyFields=r.dirtyFields,X=X||(g.dirtyFields||h.dirtyFields)&&ce!==!_e}if(q){const _e=le(r.touchedFields,B);_e||(Ne(r.touchedFields,B,q),xe.touchedFields=r.touchedFields,X=X||(g.touchedFields||h.touchedFields)&&_e!==q)}X&&ee&&_.state.next(xe)}return X?xe:{}},C=(B,$,q,Z)=>{const ee=le(r.errors,B),X=(g.isValid||h.isValid)&&vr($)&&r.isValid!==$;if(t.delayError&&q?(l=x(()=>u(B,q)),l(t.delayError)):(clearTimeout(p),l=null,q?Ne(r.errors,B,q):We(r.errors,B)),(q?!is(ee,q):ee)||!Lt(Z)||X){const ce={...Z,...X&&vr($)?{isValid:$}:{},errors:r.errors,name:B};r={...r,...ce},_.state.next(ce)}},R=async B=>{c(B,!0);const $=await t.resolver(i,t.context,LC(B||o.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return c(B),$},b=async B=>{const{errors:$}=await R(B);if(B)for(const q of B){const Z=le($,q);Z?Ne(r.errors,q,Z):We(r.errors,q)}else r.errors=$;return $},E=async(B,$,q={valid:!0})=>{for(const Z in B){const ee=B[Z];if(ee){const{_f:X,...ce}=ee;if(X){const xe=o.array.has(X.name),_e=ee._f&&NC(ee._f);_e&&g.validatingFields&&c([Z],!0);const ut=await cm(ee,o.disabled,i,S,t.shouldUseNativeValidation&&!$,xe);if(_e&&g.validatingFields&&c([Z]),ut[X.name]&&(q.valid=!1,$))break;!$&&(le(ut,X.name)?xe?OC(r.errors,ut,X.name):Ne(r.errors,X.name,ut[X.name]):We(r.errors,X.name))}!Lt(ce)&&await E(ce,$,q)}}return q.valid},D=()=>{for(const B of o.unMount){const $=le(s,B);$&&($._f.refs?$._f.refs.every(q=>!Vc(q)):!Vc($._f.ref))&&j(B)}o.unMount=new Set},O=(B,$)=>!t.disabled&&(B&&$&&Ne(i,B,$),!is(P(),n)),N=(B,$,q)=>bC(B,o,{...a.mount?i:ze($)?n:br(B)?{[B]:$}:$},q,$),A=B=>Wh(le(a.mount?i:n,B,t.shouldUnregister?le(n,B,[]):[])),H=(B,$,q={})=>{const Z=le(s,B);let ee=$;if(Z){const X=Z._f;X&&(!X.disabled&&Ne(i,B,Jv($,X)),ee=Cl(X.ref)&&St($)?"":$,Qv(X.ref)?[...X.ref.options].forEach(ce=>ce.selected=ee.includes(ce.value)):X.refs?Xo(X.ref)?X.refs.forEach(ce=>{(!ce.defaultChecked||!ce.disabled)&&(Array.isArray(ee)?ce.checked=!!ee.find(xe=>xe===ce.value):ce.checked=ee===ce.value||!!ee)}):X.refs.forEach(ce=>ce.checked=ce.value===ee):Vh(X.ref)?X.ref.value="":(X.ref.value=ee,X.ref.type||_.state.next({name:B,values:Ze(i)})))}(q.shouldDirty||q.shouldTouch)&&w(B,ee,q.shouldTouch,q.shouldDirty,!0),q.shouldValidate&&T(B)},W=(B,$,q)=>{for(const Z in $){if(!$.hasOwnProperty(Z))return;const ee=$[Z],X=B+"."+Z,ce=le(s,X);(o.array.has(B)||Ue(ee)||ce&&!ce._f)&&!Qs(ee)?W(X,ee,q):H(X,ee,q)}},K=(B,$,q={})=>{const Z=le(s,B),ee=o.array.has(B),X=Ze($);Ne(i,B,X),ee?(_.array.next({name:B,values:Ze(i)}),(g.isDirty||g.dirtyFields||h.isDirty||h.dirtyFields)&&q.shouldDirty&&_.state.next({name:B,dirtyFields:Oi(n,i),isDirty:O(B,X)})):Z&&!Z._f&&!St(X)?W(B,X,q):H(B,X,q),om(B,o)&&_.state.next({...r,name:B}),_.state.next({name:a.mount?B:void 0,values:Ze(i)})},z=async B=>{a.mount=!0;const $=B.target;let q=$.name,Z=!0;const ee=le(s,q),X=_e=>{Z=Number.isNaN(_e)||Qs(_e)&&isNaN(_e.getTime())||is(_e,le(i,q,_e))},ce=nm(t.mode),xe=nm(t.reValidateMode);if(ee){let _e,ut;const Mt=$.type?sm(ee._f):gC(B),Et=B.type===Jp.BLUR||B.type===Jp.FOCUS_OUT,ke=!jC(ee._f)&&!t.resolver&&!le(r.errors,q)&&!ee._f.deps||PC(Et,le(r.touchedFields,q),r.isSubmitted,xe,ce),Ci=om(q,o,Et);Ne(i,q,Mt),Et?(!$||!$.readOnly)&&(ee._f.onBlur&&ee._f.onBlur(B),l&&l(0)):ee._f.onChange&&ee._f.onChange(B);const fc=w(q,Mt,Et),M_=!Lt(fc)||Ci;if(!Et&&_.state.next({name:q,type:B.type,values:Ze(i)}),ke)return(g.isValid||h.isValid)&&(t.mode==="onBlur"?Et&&v():Et||v()),M_&&_.state.next({name:q,...Ci?{}:fc});if(!Et&&Ci&&_.state.next({...r}),t.resolver){const{errors:af}=await R([q]);if(X(Mt),Z){const I_=am(r.errors,s,q),lf=am(af,s,I_.name||q);_e=lf.error,q=lf.name,ut=Lt(af)}}else c([q],!0),_e=(await cm(ee,o.disabled,i,S,t.shouldUseNativeValidation))[q],c([q]),X(Mt),Z&&(_e?ut=!1:(g.isValid||h.isValid)&&(ut=await E(s,!0)));Z&&(ee._f.deps&&T(ee._f.deps),C(q,ut,_e,fc))}},L=(B,$)=>{if(le(r.errors,$)&&B.focus)return B.focus(),1},T=async(B,$={})=>{let q,Z;const ee=to(B);if(t.resolver){const X=await b(ze(B)?B:ee);q=Lt(X),Z=B?!ee.some(ce=>le(X,ce)):q}else B?(Z=(await Promise.all(ee.map(async X=>{const ce=le(s,X);return await E(ce&&ce._f?{[X]:ce}:ce)}))).every(Boolean),!(!Z&&!r.isValid)&&v()):Z=q=await E(s);return _.state.next({...!br(B)||(g.isValid||h.isValid)&&q!==r.isValid?{}:{name:B},...t.resolver||!B?{isValid:q}:{},errors:r.errors}),$.shouldFocus&&!Z&&ro(s,L,B?ee:o.mount),Z},P=B=>{const $={...a.mount?i:n};return ze(B)?$:br(B)?le($,B):B.map(q=>le($,q))},M=(B,$)=>({invalid:!!le(($||r).errors,B),isDirty:!!le(($||r).dirtyFields,B),error:le(($||r).errors,B),isValidating:!!le(r.validatingFields,B),isTouched:!!le(($||r).touchedFields,B)}),V=B=>{B&&to(B).forEach($=>We(r.errors,$)),_.state.next({errors:B?r.errors:{}})},J=(B,$,q)=>{const Z=(le(s,B,{_f:{}})._f||{}).ref,ee=le(r.errors,B)||{},{ref:X,message:ce,type:xe,..._e}=ee;Ne(r.errors,B,{..._e,...$,ref:Z}),_.state.next({name:B,errors:r.errors,isValid:!1}),q&&q.shouldFocus&&Z&&Z.focus&&Z.focus()},re=(B,$)=>ir(B)?_.state.subscribe({next:q=>"values"in q&&B(N(void 0,$),q)}):N(B,$,!0),ne=B=>_.state.subscribe({next:$=>{TC(B.name,$.name,B.exact)&&DC($,B.formState||g,me,B.reRenderRoot)&&B.callback({values:{...i},...r,...$,defaultValues:n})}}).unsubscribe,ve=B=>(a.mount=!0,h={...h,...B.formState},ne({...B,formState:h})),j=(B,$={})=>{for(const q of B?to(B):o.mount)o.mount.delete(q),o.array.delete(q),$.keepValue||(We(s,q),We(i,q)),!$.keepError&&We(r.errors,q),!$.keepDirty&&We(r.dirtyFields,q),!$.keepTouched&&We(r.touchedFields,q),!$.keepIsValidating&&We(r.validatingFields,q),!t.shouldUnregister&&!$.keepDefaultValue&&We(n,q);_.state.next({values:Ze(i)}),_.state.next({...r,...$.keepDirty?{isDirty:O()}:{}}),!$.keepIsValid&&v()},F=({disabled:B,name:$})=>{(vr(B)&&a.mount||B||o.disabled.has($))&&(B?o.disabled.add($):o.disabled.delete($))},G=(B,$={})=>{let q=le(s,B);const Z=vr($.disabled)||vr(t.disabled);return Ne(s,B,{...q||{},_f:{...q&&q._f?q._f:{ref:{name:B}},name:B,mount:!0,...$}}),o.mount.add(B),q?F({disabled:vr($.disabled)?$.disabled:t.disabled,name:B}):y(B,!0,$.value),{...Z?{disabled:$.disabled||t.disabled}:{},...t.progressive?{required:!!$.required,min:Mi($.min),max:Mi($.max),minLength:Mi($.minLength),maxLength:Mi($.maxLength),pattern:Mi($.pattern)}:{},name:B,onChange:z,onBlur:z,ref:ee=>{if(ee){G(B,$),q=le(s,B);const X=ze(ee.value)&&ee.querySelectorAll&&ee.querySelectorAll("input,select,textarea")[0]||ee,ce=EC(X),xe=q._f.refs||[];if(ce?xe.find(_e=>_e===X):X===q._f.ref)return;Ne(s,B,{_f:{...q._f,...ce?{refs:[...xe.filter(Vc),X,...Array.isArray(le(n,B))?[{}]:[]],ref:{type:X.type,name:B}}:{ref:X}}}),y(B,!1,void 0,X)}else q=le(s,B,{}),q._f&&(q._f.mount=!1),(t.shouldUnregister||$.shouldUnregister)&&!(_C(o.array,B)&&a.action)&&o.unMount.add(B)}}},Q=()=>t.shouldFocusError&&ro(s,L,o.mount),ie=B=>{vr(B)&&(_.state.next({disabled:B}),ro(s,($,q)=>{const Z=le(s,q);Z&&($.disabled=Z._f.disabled||B,Array.isArray(Z._f.refs)&&Z._f.refs.forEach(ee=>{ee.disabled=Z._f.disabled||B}))},0,!1))},te=(B,$)=>async q=>{let Z;q&&(q.preventDefault&&q.preventDefault(),q.persist&&q.persist());let ee=Ze(i);if(_.state.next({isSubmitting:!0}),t.resolver){const{errors:X,values:ce}=await R();r.errors=X,ee=Ze(ce)}else await E(s);if(o.disabled.size)for(const X of o.disabled)We(ee,X);if(We(r.errors,"root"),Lt(r.errors)){_.state.next({errors:{}});try{await B(ee,q)}catch(X){Z=X}}else $&&await $({...r.errors},q),Q(),setTimeout(Q);if(_.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Lt(r.errors)&&!Z,submitCount:r.submitCount+1,errors:r.errors}),Z)throw Z},de=(B,$={})=>{le(s,B)&&(ze($.defaultValue)?K(B,Ze(le(n,B))):(K(B,$.defaultValue),Ne(n,B,Ze($.defaultValue))),$.keepTouched||We(r.touchedFields,B),$.keepDirty||(We(r.dirtyFields,B),r.isDirty=$.defaultValue?O(B,Ze(le(n,B))):O()),$.keepError||(We(r.errors,B),g.isValid&&v()),_.state.next({...r}))},Ee=(B,$={})=>{const q=B?Ze(B):n,Z=Ze(q),ee=Lt(B),X=ee?n:Z;if($.keepDefaultValues||(n=q),!$.keepValues){if($.keepDirtyValues){const ce=new Set([...o.mount,...Object.keys(Oi(n,i))]);for(const xe of Array.from(ce))le(r.dirtyFields,xe)?Ne(X,xe,le(i,xe)):K(xe,le(X,xe))}else{if(Uh&&ze(B))for(const ce of o.mount){const xe=le(s,ce);if(xe&&xe._f){const _e=Array.isArray(xe._f.refs)?xe._f.refs[0]:xe._f.ref;if(Cl(_e)){const ut=_e.closest("form");if(ut){ut.reset();break}}}}if($.keepFieldsRef)for(const ce of o.mount)K(ce,le(X,ce));else s={}}i=t.shouldUnregister?$.keepDefaultValues?Ze(n):{}:Ze(X),_.array.next({values:{...X}}),_.state.next({values:{...X}})}o={mount:$.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!g.isValid||!!$.keepIsValid||!!$.keepDirtyValues,a.watch=!!t.shouldUnregister,_.state.next({submitCount:$.keepSubmitCount?r.submitCount:0,isDirty:ee?!1:$.keepDirty?r.isDirty:!!($.keepDefaultValues&&!is(B,n)),isSubmitted:$.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ee?{}:$.keepDirtyValues?$.keepDefaultValues&&i?Oi(n,i):r.dirtyFields:$.keepDefaultValues&&B?Oi(n,B):$.keepDirty?r.dirtyFields:{},touchedFields:$.keepTouched?r.touchedFields:{},errors:$.keepErrors?r.errors:{},isSubmitSuccessful:$.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:n})},ot=(B,$)=>Ee(ir(B)?B(i):B,$),Xr=(B,$={})=>{const q=le(s,B),Z=q&&q._f;if(Z){const ee=Z.refs?Z.refs[0]:Z.ref;ee.focus&&(ee.focus(),$.shouldSelect&&ir(ee.select)&&ee.select())}},me=B=>{r={...r,...B}},xn={control:{register:G,unregister:j,getFieldState:M,handleSubmit:te,setError:J,_subscribe:ne,_runSchema:R,_focusError:Q,_getWatch:N,_getDirty:O,_setValid:v,_setFieldArray:f,_setDisabledField:F,_setErrors:d,_getFieldArray:A,_reset:Ee,_resetDefaultValues:()=>ir(t.defaultValues)&&t.defaultValues().then(B=>{ot(B,t.resetOptions),_.state.next({isLoading:!1})}),_removeUnmounted:D,_disableForm:ie,_subjects:_,_proxyFormState:g,get _fields(){return s},get _formValues(){return i},get _state(){return a},set _state(B){a=B},get _defaultValues(){return n},get _names(){return o},set _names(B){o=B},get _formState(){return r},get _options(){return t},set _options(B){t={...t,...B}}},subscribe:ve,trigger:T,register:G,handleSubmit:te,watch:re,setValue:K,getValues:P,reset:ot,resetField:de,clearErrors:V,unregister:j,setError:J,setFocus:Xr,getFieldState:M};return{...xn,formControl:xn}}function BC(e={}){const t=ue.useRef(void 0),r=ue.useRef(void 0),[s,n]=ue.useState({isDirty:!1,isValidating:!1,isLoading:ir(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:ir(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:s},e.defaultValues&&!ir(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:a,...o}=IC(e);t.current={...o,formState:s}}const i=t.current.control;return i._options=e,wC(()=>{const a=i._subscribe({formState:i._proxyFormState,callback:()=>n({...i._formState}),reRenderRoot:!0});return n(o=>({...o,isReady:!0})),i._formState.isReady=!0,a},[i]),ue.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),ue.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),ue.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),ue.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),ue.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==s.isDirty&&i._subjects.state.next({isDirty:a})}},[i,s.isDirty]),ue.useEffect(()=>{e.values&&!is(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,n(a=>({...a}))):i._resetDefaultValues()},[i,e.values]),ue.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=SC(s,i),t.current}function mt({size:e="md",className:t=""}){const r={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"};return m.jsx("div",{className:`animate-spin rounded-full border-b-2 border-primary-600 ${r[e]} ${t}`})}function FC(){const[e,t]=k.useState(!1),{register:r,handleSubmit:s,formState:{errors:n}}=BC(),i=At({mutationFn:qv.login,onSuccess:o=>{localStorage.setItem("auth_token",o.data.access_token),Ie.success("Login successful"),window.location.reload()},onError:()=>{Ie.error("Invalid credentials")},onSettled:()=>{t(!1)}}),a=o=>{t(!0),i.mutate(o)};return m.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:m.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:m.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[m.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md mb-8",children:[m.jsx("h2",{className:"text-center text-3xl font-extrabold text-gray-900",children:"SaaS Orchestrator"}),m.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Admin Dashboard"})]}),m.jsxs("form",{className:"space-y-6",onSubmit:s(a),children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Email address"}),m.jsxs("div",{className:"mt-1",children:[m.jsx("input",{id:"username",type:"email",autoComplete:"email",required:!0,className:"form-input",...r("username",{required:"Email is required"})}),n.username&&m.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.username.message})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),m.jsxs("div",{className:"mt-1",children:[m.jsx("input",{id:"password",type:"password",autoComplete:"current-password",required:!0,className:"form-input",...r("password",{required:"Password is required"})}),n.password&&m.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.password.message})]})]}),m.jsx("div",{children:m.jsx("button",{type:"submit",disabled:e,className:"btn-primary w-full flex justify-center",children:e?m.jsx(mt,{size:"sm"}):"Sign in"})})]}),m.jsxs("div",{className:"mt-6",children:[m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-0 flex items-center",children:m.jsx("div",{className:"w-full border-t border-gray-300"})}),m.jsx("div",{className:"relative flex justify-center text-sm",children:m.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Demo Credentials"})})]}),m.jsxs("div",{className:"mt-4 text-sm text-gray-600 bg-gray-50 p-3 rounded",children:[m.jsxs("p",{children:[m.jsx("strong",{children:"Email:"})," admin@yourdomain.com"]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Password:"})," secure-admin-password"]})]})]})]})})})}var $C=Object.defineProperty,HC=(e,t,r)=>t in e?$C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,qc=(e,t,r)=>(HC(e,typeof t!="symbol"?t+"":t,r),r);let UC=class{constructor(){qc(this,"current",this.detect()),qc(this,"handoffState","pending"),qc(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},$r=new UC,nt=(e,t)=>{$r.isServer?k.useEffect(e,t):k.useLayoutEffect(e,t)};function Hr(e){let t=k.useRef(e);return nt(()=>{t.current=e},[e]),t}let fe=function(e){let t=Hr(e);return ue.useCallback((...r)=>t.current(...r),[t])};function oc(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function dr(){let e=[],t={addEventListener(r,s,n,i){return r.addEventListener(s,n,i),t.add(()=>r.removeEventListener(s,n,i))},requestAnimationFrame(...r){let s=requestAnimationFrame(...r);return t.add(()=>cancelAnimationFrame(s))},nextFrame(...r){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...r))},setTimeout(...r){let s=setTimeout(...r);return t.add(()=>clearTimeout(s))},microTask(...r){let s={current:!0};return oc(()=>{s.current&&r[0]()}),t.add(()=>{s.current=!1})},style(r,s,n){let i=r.style.getPropertyValue(s);return Object.assign(r.style,{[s]:n}),this.add(()=>{Object.assign(r.style,{[s]:i})})},group(r){let s=dr();return r(s),this.add(()=>s.dispose())},add(r){return e.push(r),()=>{let s=e.indexOf(r);if(s>=0)for(let n of e.splice(s,1))n()}},dispose(){for(let r of e.splice(0))r()}};return t}function Yo(){let[e]=k.useState(dr);return k.useEffect(()=>()=>e.dispose(),[e]),e}function WC(){let e=typeof document>"u";return"useSyncExternalStore"in ri?(t=>t.useSyncExternalStore)(ri)(()=>()=>{},()=>!1,()=>!e):!1}function wi(){let e=WC(),[t,r]=k.useState($r.isHandoffComplete);return t&&$r.isHandoffComplete===!1&&r(!1),k.useEffect(()=>{t!==!0&&r(!0)},[t]),k.useEffect(()=>$r.handoff(),[]),e?!1:t}var um;let fr=(um=ue.useId)!=null?um:function(){let e=wi(),[t,r]=ue.useState(e?()=>$r.nextId():null);return nt(()=>{t===null&&r($r.nextId())},[t]),t!=null?""+t:void 0};function $e(e,t,...r){if(e in t){let n=t[e];return typeof n=="function"?n(...r):n}let s=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(n=>`"${n}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,$e),s}function Jo(e){return $r.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let wd=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Or=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(Or||{}),e_=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(e_||{}),zC=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(zC||{});function t_(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(wd)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var Kh=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Kh||{});function Qh(e,t=0){var r;return e===((r=Jo(e))==null?void 0:r.body)?!1:$e(t,{0(){return e.matches(wd)},1(){let s=e;for(;s!==null;){if(s.matches(wd))return!0;s=s.parentElement}return!1}})}function r_(e){let t=Jo(e);dr().nextFrame(()=>{t&&!Qh(t.activeElement,0)&&Ds(e)})}var VC=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(VC||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Ds(e){e==null||e.focus({preventScroll:!0})}let qC=["textarea","input"].join(",");function KC(e){var t,r;return(r=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,qC))!=null?r:!1}function s_(e,t=r=>r){return e.slice().sort((r,s)=>{let n=t(r),i=t(s);if(n===null||i===null)return 0;let a=n.compareDocumentPosition(i);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function QC(e,t){return so(t_(),t,{relativeTo:e})}function so(e,t,{sorted:r=!0,relativeTo:s=null,skipElements:n=[]}={}){let i=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,a=Array.isArray(e)?r?s_(e):e:t_(e);n.length>0&&a.length>1&&(a=a.filter(S=>!n.includes(S))),s=s??i.activeElement;let o=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,a.indexOf(s))-1;if(t&4)return Math.max(0,a.indexOf(s))+1;if(t&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),p=t&32?{preventScroll:!0}:{},g=0,h=a.length,_;do{if(g>=h||g+h<=0)return 0;let S=l+g;if(t&16)S=(S+h)%h;else{if(S<0)return 3;if(S>=h)return 1}_=a[S],_==null||_.focus(p),g+=o}while(_!==i.activeElement);return t&6&&KC(_)&&_.select(),2}function n_(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function GC(){return/Android/gi.test(window.navigator.userAgent)}function XC(){return n_()||GC()}function wa(e,t,r){let s=Hr(t);k.useEffect(()=>{function n(i){s.current(i)}return document.addEventListener(e,n,r),()=>document.removeEventListener(e,n,r)},[e,r])}function i_(e,t,r){let s=Hr(t);k.useEffect(()=>{function n(i){s.current(i)}return window.addEventListener(e,n,r),()=>window.removeEventListener(e,n,r)},[e,r])}function o_(e,t,r=!0){let s=k.useRef(!1);k.useEffect(()=>{requestAnimationFrame(()=>{s.current=r})},[r]);function n(a,o){if(!s.current||a.defaultPrevented)return;let l=o(a);if(l===null||!l.getRootNode().contains(l)||!l.isConnected)return;let p=function g(h){return typeof h=="function"?g(h()):Array.isArray(h)||h instanceof Set?h:[h]}(e);for(let g of p){if(g===null)continue;let h=g instanceof HTMLElement?g:g.current;if(h!=null&&h.contains(l)||a.composed&&a.composedPath().includes(h))return}return!Qh(l,Kh.Loose)&&l.tabIndex!==-1&&a.preventDefault(),t(a,l)}let i=k.useRef(null);wa("pointerdown",a=>{var o,l;s.current&&(i.current=((l=(o=a.composedPath)==null?void 0:o.call(a))==null?void 0:l[0])||a.target)},!0),wa("mousedown",a=>{var o,l;s.current&&(i.current=((l=(o=a.composedPath)==null?void 0:o.call(a))==null?void 0:l[0])||a.target)},!0),wa("click",a=>{XC()||i.current&&(n(a,()=>i.current),i.current=null)},!0),wa("touchend",a=>n(a,()=>a.target instanceof HTMLElement?a.target:null),!0),i_("blur",a=>n(a,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function bi(...e){return k.useMemo(()=>Jo(...e),[...e])}function dm(e){var t;if(e.type)return e.type;let r=(t=e.as)!=null?t:"button";if(typeof r=="string"&&r.toLowerCase()==="button")return"button"}function a_(e,t){let[r,s]=k.useState(()=>dm(e));return nt(()=>{s(dm(e))},[e.type,e.as]),nt(()=>{r||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&s("button")},[r,t]),r}let l_=Symbol();function c_(e,t=!0){return Object.assign(e,{[l_]:t})}function it(...e){let t=k.useRef(e);k.useEffect(()=>{t.current=e},[e]);let r=fe(s=>{for(let n of t.current)n!=null&&(typeof n=="function"?n(s):n.current=s)});return e.every(s=>s==null||(s==null?void 0:s[l_]))?void 0:r}function hm(e){return[e.screenX,e.screenY]}function YC(){let e=k.useRef([-1,-1]);return{wasMoved(t){let r=hm(t);return e.current[0]===r[0]&&e.current[1]===r[1]?!1:(e.current=r,!0)},update(t){e.current=hm(t)}}}function JC({container:e,accept:t,walk:r,enabled:s=!0}){let n=k.useRef(t),i=k.useRef(r);k.useEffect(()=>{n.current=t,i.current=r},[t,r]),nt(()=>{if(!e||!s)return;let a=Jo(e);if(!a)return;let o=n.current,l=i.current,p=Object.assign(h=>o(h),{acceptNode:o}),g=a.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,p,!1);for(;g.nextNode();)l(g.currentNode)},[e,s,n,i])}function Gh(e,t){let r=k.useRef([]),s=fe(e);k.useEffect(()=>{let n=[...r.current];for(let[i,a]of t.entries())if(r.current[i]!==a){let o=s(t,n);return r.current=t,o}},[s,...t])}function Rl(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}var As=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(As||{}),xs=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(xs||{});function Je({ourProps:e,theirProps:t,slot:r,defaultTag:s,features:n,visible:i=!0,name:a,mergeRefs:o}){o=o??ZC;let l=d_(t,e);if(i)return ba(l,r,s,a,o);let p=n??0;if(p&2){let{static:g=!1,...h}=l;if(g)return ba(h,r,s,a,o)}if(p&1){let{unmount:g=!0,...h}=l;return $e(g?0:1,{0(){return null},1(){return ba({...h,hidden:!0,style:{display:"none"}},r,s,a,o)}})}return ba(l,r,s,a,o)}function ba(e,t={},r,s,n){let{as:i=r,children:a,refName:o="ref",...l}=Kc(e,["unmount","static"]),p=e.ref!==void 0?{[o]:e.ref}:{},g=typeof a=="function"?a(t):a;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(t));let h={};if(t){let _=!1,S=[];for(let[x,v]of Object.entries(t))typeof v=="boolean"&&(_=!0),v===!0&&S.push(x);_&&(h["data-headlessui-state"]=S.join(" "))}if(i===k.Fragment&&Object.keys(fm(l)).length>0){if(!k.isValidElement(g)||Array.isArray(g)&&g.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${s} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(l).map(v=>`  - ${v}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(v=>`  - ${v}`).join(`
`)].join(`
`));let _=g.props,S=typeof(_==null?void 0:_.className)=="function"?(...v)=>Rl(_==null?void 0:_.className(...v),l.className):Rl(_==null?void 0:_.className,l.className),x=S?{className:S}:{};return k.cloneElement(g,Object.assign({},d_(g.props,fm(Kc(l,["ref"]))),h,p,{ref:n(g.ref,p.ref)},x))}return k.createElement(i,Object.assign({},Kc(l,["ref"]),i!==k.Fragment&&p,i!==k.Fragment&&h),g)}function u_(){let e=k.useRef([]),t=k.useCallback(r=>{for(let s of e.current)s!=null&&(typeof s=="function"?s(r):s.current=r)},[]);return(...r)=>{if(!r.every(s=>s==null))return e.current=r,t}}function ZC(...e){return e.every(t=>t==null)?void 0:t=>{for(let r of e)r!=null&&(typeof r=="function"?r(t):r.current=t)}}function d_(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let s of e)for(let n in s)n.startsWith("on")&&typeof s[n]=="function"?(r[n]!=null||(r[n]=[]),r[n].push(s[n])):t[n]=s[n];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(r).map(s=>[s,void 0])));for(let s in r)Object.assign(t,{[s](n,...i){let a=r[s];for(let o of a){if((n instanceof Event||(n==null?void 0:n.nativeEvent)instanceof Event)&&n.defaultPrevented)return;o(n,...i)}}});return t}function Ke(e){var t;return Object.assign(k.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function fm(e){let t=Object.assign({},e);for(let r in t)t[r]===void 0&&delete t[r];return t}function Kc(e,t=[]){let r=Object.assign({},e);for(let s of t)s in r&&delete r[s];return r}let e2="div";var Ll=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Ll||{});function t2(e,t){var r;let{features:s=1,...n}=e,i={ref:t,"aria-hidden":(s&2)===2?!0:(r=n["aria-hidden"])!=null?r:void 0,hidden:(s&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(s&4)===4&&(s&2)!==2&&{display:"none"}}};return Je({ourProps:i,theirProps:n,slot:{},defaultTag:e2,name:"Hidden"})}let bd=Ke(t2),Xh=k.createContext(null);Xh.displayName="OpenClosedContext";var Fe=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Fe||{});function Zo(){return k.useContext(Xh)}function Yh({value:e,children:t}){return ue.createElement(Xh.Provider,{value:e},t)}function r2(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let os=[];r2(()=>{function e(t){t.target instanceof HTMLElement&&t.target!==document.body&&os[0]!==t.target&&(os.unshift(t.target),os=os.filter(r=>r!=null&&r.isConnected),os.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function Jh(e){let t=e.parentElement,r=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(r=t),t=t.parentElement;let s=(t==null?void 0:t.getAttribute("disabled"))==="";return s&&s2(r)?!1:s}function s2(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}function n2(e){throw new Error("Unexpected object: "+e)}var or=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(or||{});function i2(e,t){let r=t.resolveItems();if(r.length<=0)return null;let s=t.resolveActiveIndex(),n=s??-1;switch(e.focus){case 0:{for(let i=0;i<r.length;++i)if(!t.resolveDisabled(r[i],i,r))return i;return s}case 1:{for(let i=n-1;i>=0;--i)if(!t.resolveDisabled(r[i],i,r))return i;return s}case 2:{for(let i=n+1;i<r.length;++i)if(!t.resolveDisabled(r[i],i,r))return i;return s}case 3:{for(let i=r.length-1;i>=0;--i)if(!t.resolveDisabled(r[i],i,r))return i;return s}case 4:{for(let i=0;i<r.length;++i)if(t.resolveId(r[i],i,r)===e.id)return i;return s}case 5:return null;default:n2(e)}}var De=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(De||{});function h_(e,t,r,s){let n=Hr(r);k.useEffect(()=>{e=e??window;function i(a){n.current(a)}return e.addEventListener(t,i,s),()=>e.removeEventListener(t,i,s)},[e,t,s])}function ea(){let e=k.useRef(!1);return nt(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function f_(e){let t=fe(e),r=k.useRef(!1);k.useEffect(()=>(r.current=!1,()=>{r.current=!0,oc(()=>{r.current&&t()})}),[t])}var zi=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(zi||{});function o2(){let e=k.useRef(0);return i_("keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function p_(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let r of e.current)r.current instanceof HTMLElement&&t.add(r.current);return t}let a2="div";var m_=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(m_||{});function l2(e,t){let r=k.useRef(null),s=it(r,t),{initialFocus:n,containers:i,features:a=30,...o}=e;wi()||(a=1);let l=bi(r);d2({ownerDocument:l},!!(a&16));let p=h2({ownerDocument:l,container:r,initialFocus:n},!!(a&2));f2({ownerDocument:l,container:r,containers:i,previousActiveElement:p},!!(a&8));let g=o2(),h=fe(v=>{let c=r.current;c&&(f=>f())(()=>{$e(g.current,{[zi.Forwards]:()=>{so(c,Or.First,{skipElements:[v.relatedTarget]})},[zi.Backwards]:()=>{so(c,Or.Last,{skipElements:[v.relatedTarget]})}})})}),_=Yo(),S=k.useRef(!1),x={ref:s,onKeyDown(v){v.key=="Tab"&&(S.current=!0,_.requestAnimationFrame(()=>{S.current=!1}))},onBlur(v){let c=p_(i);r.current instanceof HTMLElement&&c.add(r.current);let f=v.relatedTarget;f instanceof HTMLElement&&f.dataset.headlessuiFocusGuard!=="true"&&(g_(c,f)||(S.current?so(r.current,$e(g.current,{[zi.Forwards]:()=>Or.Next,[zi.Backwards]:()=>Or.Previous})|Or.WrapAround,{relativeTo:v.target}):v.target instanceof HTMLElement&&Ds(v.target)))}};return ue.createElement(ue.Fragment,null,!!(a&4)&&ue.createElement(bd,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:Ll.Focusable}),Je({ourProps:x,theirProps:o,defaultTag:a2,name:"FocusTrap"}),!!(a&4)&&ue.createElement(bd,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:Ll.Focusable}))}let c2=Ke(l2),Ii=Object.assign(c2,{features:m_});function u2(e=!0){let t=k.useRef(os.slice());return Gh(([r],[s])=>{s===!0&&r===!1&&oc(()=>{t.current.splice(0)}),s===!1&&r===!0&&(t.current=os.slice())},[e,os,t]),fe(()=>{var r;return(r=t.current.find(s=>s!=null&&s.isConnected))!=null?r:null})}function d2({ownerDocument:e},t){let r=u2(t);Gh(()=>{t||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&Ds(r())},[t]),f_(()=>{t&&Ds(r())})}function h2({ownerDocument:e,container:t,initialFocus:r},s){let n=k.useRef(null),i=ea();return Gh(()=>{if(!s)return;let a=t.current;a&&oc(()=>{if(!i.current)return;let o=e==null?void 0:e.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===o){n.current=o;return}}else if(a.contains(o)){n.current=o;return}r!=null&&r.current?Ds(r.current):so(a,Or.First)===e_.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),n.current=e==null?void 0:e.activeElement})},[s]),n}function f2({ownerDocument:e,container:t,containers:r,previousActiveElement:s},n){let i=ea();h_(e==null?void 0:e.defaultView,"focus",a=>{if(!n||!i.current)return;let o=p_(r);t.current instanceof HTMLElement&&o.add(t.current);let l=s.current;if(!l)return;let p=a.target;p&&p instanceof HTMLElement?g_(o,p)?(s.current=p,Ds(p)):(a.preventDefault(),a.stopPropagation(),Ds(l)):Ds(s.current)},!0)}function g_(e,t){for(let r of e)if(r.contains(t))return!0;return!1}let v_=k.createContext(!1);function p2(){return k.useContext(v_)}function Cd(e){return ue.createElement(v_.Provider,{value:e.force},e.children)}function m2(e){let t=p2(),r=k.useContext(__),s=bi(e),[n,i]=k.useState(()=>{if(!t&&r!==null||$r.isServer)return null;let a=s==null?void 0:s.getElementById("headlessui-portal-root");if(a)return a;if(s===null)return null;let o=s.createElement("div");return o.setAttribute("id","headlessui-portal-root"),s.body.appendChild(o)});return k.useEffect(()=>{n!==null&&(s!=null&&s.body.contains(n)||s==null||s.body.appendChild(n))},[n,s]),k.useEffect(()=>{t||r!==null&&i(r.current)},[r,i,t]),n}let g2=k.Fragment;function v2(e,t){let r=e,s=k.useRef(null),n=it(c_(g=>{s.current=g}),t),i=bi(s),a=m2(s),[o]=k.useState(()=>{var g;return $r.isServer?null:(g=i==null?void 0:i.createElement("div"))!=null?g:null}),l=k.useContext(Ed),p=wi();return nt(()=>{!a||!o||a.contains(o)||(o.setAttribute("data-headlessui-portal",""),a.appendChild(o))},[a,o]),nt(()=>{if(o&&l)return l.register(o)},[l,o]),f_(()=>{var g;!a||!o||(o instanceof Node&&a.contains(o)&&a.removeChild(o),a.childNodes.length<=0&&((g=a.parentElement)==null||g.removeChild(a)))}),p?!a||!o?null:qg.createPortal(Je({ourProps:{ref:n},theirProps:r,defaultTag:g2,name:"Portal"}),o):null}let _2=k.Fragment,__=k.createContext(null);function y2(e,t){let{target:r,...s}=e,n={ref:it(t)};return ue.createElement(__.Provider,{value:r},Je({ourProps:n,theirProps:s,defaultTag:_2,name:"Popover.Group"}))}let Ed=k.createContext(null);function x2(){let e=k.useContext(Ed),t=k.useRef([]),r=fe(i=>(t.current.push(i),e&&e.register(i),()=>s(i))),s=fe(i=>{let a=t.current.indexOf(i);a!==-1&&t.current.splice(a,1),e&&e.unregister(i)}),n=k.useMemo(()=>({register:r,unregister:s,portals:t}),[r,s,t]);return[t,k.useMemo(()=>function({children:i}){return ue.createElement(Ed.Provider,{value:n},i)},[n])]}let S2=Ke(v2),w2=Ke(y2),kd=Object.assign(S2,{Group:w2});function b2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const C2=typeof Object.is=="function"?Object.is:b2,{useState:E2,useEffect:k2,useLayoutEffect:R2,useDebugValue:L2}=ri;function N2(e,t,r){const s=t(),[{inst:n},i]=E2({inst:{value:s,getSnapshot:t}});return R2(()=>{n.value=s,n.getSnapshot=t,Qc(n)&&i({inst:n})},[e,s,t]),k2(()=>(Qc(n)&&i({inst:n}),e(()=>{Qc(n)&&i({inst:n})})),[e]),L2(s),s}function Qc(e){const t=e.getSnapshot,r=e.value;try{const s=t();return!C2(r,s)}catch{return!0}}function j2(e,t,r){return t()}const D2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",T2=!D2,P2=T2?j2:N2,A2="useSyncExternalStore"in ri?(e=>e.useSyncExternalStore)(ri):P2;function O2(e){return A2(e.subscribe,e.getSnapshot,e.getSnapshot)}function M2(e,t){let r=e(),s=new Set;return{getSnapshot(){return r},subscribe(n){return s.add(n),()=>s.delete(n)},dispatch(n,...i){let a=t[n].call(r,...i);a&&(r=a,s.forEach(o=>o()))}}}function I2(){let e;return{before({doc:t}){var r;let s=t.documentElement;e=((r=t.defaultView)!=null?r:window).innerWidth-s.clientWidth},after({doc:t,d:r}){let s=t.documentElement,n=s.clientWidth-s.offsetWidth,i=e-n;r.style(s,"paddingRight",`${i}px`)}}}function B2(){return n_()?{before({doc:e,d:t,meta:r}){function s(n){return r.containers.flatMap(i=>i()).some(i=>i.contains(n))}t.microTask(()=>{var n;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let o=dr();o.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>o.dispose()))}let i=(n=window.scrollY)!=null?n:window.pageYOffset,a=null;t.addEventListener(e,"click",o=>{if(o.target instanceof HTMLElement)try{let l=o.target.closest("a");if(!l)return;let{hash:p}=new URL(l.href),g=e.querySelector(p);g&&!s(g)&&(a=g)}catch{}},!0),t.addEventListener(e,"touchstart",o=>{if(o.target instanceof HTMLElement)if(s(o.target)){let l=o.target;for(;l.parentElement&&s(l.parentElement);)l=l.parentElement;t.style(l,"overscrollBehavior","contain")}else t.style(o.target,"touchAction","none")}),t.addEventListener(e,"touchmove",o=>{if(o.target instanceof HTMLElement)if(s(o.target)){let l=o.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&o.preventDefault()}else o.preventDefault()},{passive:!1}),t.add(()=>{var o;let l=(o=window.scrollY)!=null?o:window.pageYOffset;i!==l&&window.scrollTo(0,i),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})})}}:{}}function F2(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function $2(e){let t={};for(let r of e)Object.assign(t,r(t));return t}let Gs=M2(()=>new Map,{PUSH(e,t){var r;let s=(r=this.get(e))!=null?r:{doc:e,count:0,d:dr(),meta:new Set};return s.count++,s.meta.add(t),this.set(e,s),this},POP(e,t){let r=this.get(e);return r&&(r.count--,r.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:r}){let s={doc:e,d:t,meta:$2(r)},n=[B2(),I2(),F2()];n.forEach(({before:i})=>i==null?void 0:i(s)),n.forEach(({after:i})=>i==null?void 0:i(s))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Gs.subscribe(()=>{let e=Gs.getSnapshot(),t=new Map;for(let[r]of e)t.set(r,r.documentElement.style.overflow);for(let r of e.values()){let s=t.get(r.doc)==="hidden",n=r.count!==0;(n&&!s||!n&&s)&&Gs.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&Gs.dispatch("TEARDOWN",r)}});function H2(e,t,r){let s=O2(Gs),n=e?s.get(e):void 0,i=n?n.count>0:!1;return nt(()=>{if(!(!e||!t))return Gs.dispatch("PUSH",e,r),()=>Gs.dispatch("POP",e,r)},[t,e]),i}let Gc=new Map,Bi=new Map;function pm(e,t=!0){nt(()=>{var r;if(!t)return;let s=typeof e=="function"?e():e.current;if(!s)return;function n(){var a;if(!s)return;let o=(a=Bi.get(s))!=null?a:1;if(o===1?Bi.delete(s):Bi.set(s,o-1),o!==1)return;let l=Gc.get(s);l&&(l["aria-hidden"]===null?s.removeAttribute("aria-hidden"):s.setAttribute("aria-hidden",l["aria-hidden"]),s.inert=l.inert,Gc.delete(s))}let i=(r=Bi.get(s))!=null?r:0;return Bi.set(s,i+1),i!==0||(Gc.set(s,{"aria-hidden":s.getAttribute("aria-hidden"),inert:s.inert}),s.setAttribute("aria-hidden","true"),s.inert=!0),n},[e,t])}function U2({defaultContainers:e=[],portals:t,mainTreeNodeRef:r}={}){var s;let n=k.useRef((s=r==null?void 0:r.current)!=null?s:null),i=bi(n),a=fe(()=>{var o,l,p;let g=[];for(let h of e)h!==null&&(h instanceof HTMLElement?g.push(h):"current"in h&&h.current instanceof HTMLElement&&g.push(h.current));if(t!=null&&t.current)for(let h of t.current)g.push(h);for(let h of(o=i==null?void 0:i.querySelectorAll("html > *, body > *"))!=null?o:[])h!==document.body&&h!==document.head&&h instanceof HTMLElement&&h.id!=="headlessui-portal-root"&&(h.contains(n.current)||h.contains((p=(l=n.current)==null?void 0:l.getRootNode())==null?void 0:p.host)||g.some(_=>h.contains(_))||g.push(h));return g});return{resolveContainers:a,contains:fe(o=>a().some(l=>l.contains(o))),mainTreeNodeRef:n,MainTreeNode:k.useMemo(()=>function(){return r!=null?null:ue.createElement(bd,{features:Ll.Hidden,ref:n})},[n,r])}}let Zh=k.createContext(()=>{});Zh.displayName="StackContext";var Rd=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(Rd||{});function W2(){return k.useContext(Zh)}function z2({children:e,onUpdate:t,type:r,element:s,enabled:n}){let i=W2(),a=fe((...o)=>{t==null||t(...o),i(...o)});return nt(()=>{let o=n===void 0||n===!0;return o&&a(0,r,s),()=>{o&&a(1,r,s)}},[a,r,s,n]),ue.createElement(Zh.Provider,{value:a},e)}let y_=k.createContext(null);function x_(){let e=k.useContext(y_);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,x_),t}return e}function V2(){let[e,t]=k.useState([]);return[e.length>0?e.join(" "):void 0,k.useMemo(()=>function(r){let s=fe(i=>(t(a=>[...a,i]),()=>t(a=>{let o=a.slice(),l=o.indexOf(i);return l!==-1&&o.splice(l,1),o}))),n=k.useMemo(()=>({register:s,slot:r.slot,name:r.name,props:r.props}),[s,r.slot,r.name,r.props]);return ue.createElement(y_.Provider,{value:n},r.children)},[t])]}let q2="p";function K2(e,t){let r=fr(),{id:s=`headlessui-description-${r}`,...n}=e,i=x_(),a=it(t);nt(()=>i.register(s),[s,i.register]);let o={ref:a,...i.props,id:s};return Je({ourProps:o,theirProps:n,slot:i.slot||{},defaultTag:q2,name:i.name||"Description"})}let Q2=Ke(K2),G2=Object.assign(Q2,{});var X2=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(X2||{}),Y2=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(Y2||{});let J2={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},Nl=k.createContext(null);Nl.displayName="DialogContext";function ta(e){let t=k.useContext(Nl);if(t===null){let r=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,ta),r}return t}function Z2(e,t,r=()=>[document.body]){H2(e,t,s=>{var n;return{containers:[...(n=s.containers)!=null?n:[],r]}})}function eE(e,t){return $e(t.type,J2,e,t)}let tE="div",rE=As.RenderStrategy|As.Static;function sE(e,t){let r=fr(),{id:s=`headlessui-dialog-${r}`,open:n,onClose:i,initialFocus:a,role:o="dialog",__demoMode:l=!1,...p}=e,[g,h]=k.useState(0),_=k.useRef(!1);o=function(){return o==="dialog"||o==="alertdialog"?o:(_.current||(_.current=!0,console.warn(`Invalid role [${o}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let S=Zo();n===void 0&&S!==null&&(n=(S&Fe.Open)===Fe.Open);let x=k.useRef(null),v=it(x,t),c=bi(x),f=e.hasOwnProperty("open")||S!==null,u=e.hasOwnProperty("onClose");if(!f&&!u)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!f)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!u)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof n!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${n}`);if(typeof i!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${i}`);let d=n?0:1,[y,w]=k.useReducer(eE,{titleId:null,descriptionId:null,panelRef:k.createRef()}),C=fe(()=>i(!1)),R=fe(ie=>w({type:0,id:ie})),b=wi()?l?!1:d===0:!1,E=g>1,D=k.useContext(Nl)!==null,[O,N]=x2(),A={get current(){var ie;return(ie=y.panelRef.current)!=null?ie:x.current}},{resolveContainers:H,mainTreeNodeRef:W,MainTreeNode:K}=U2({portals:O,defaultContainers:[A]}),z=E?"parent":"leaf",L=S!==null?(S&Fe.Closing)===Fe.Closing:!1,T=(()=>D||L?!1:b)(),P=k.useCallback(()=>{var ie,te;return(te=Array.from((ie=c==null?void 0:c.querySelectorAll("body > *"))!=null?ie:[]).find(de=>de.id==="headlessui-portal-root"?!1:de.contains(W.current)&&de instanceof HTMLElement))!=null?te:null},[W]);pm(P,T);let M=(()=>E?!0:b)(),V=k.useCallback(()=>{var ie,te;return(te=Array.from((ie=c==null?void 0:c.querySelectorAll("[data-headlessui-portal]"))!=null?ie:[]).find(de=>de.contains(W.current)&&de instanceof HTMLElement))!=null?te:null},[W]);pm(V,M);let J=(()=>!(!b||E))();o_(H,ie=>{ie.preventDefault(),C()},J);let re=(()=>!(E||d!==0))();h_(c==null?void 0:c.defaultView,"keydown",ie=>{re&&(ie.defaultPrevented||ie.key===De.Escape&&(ie.preventDefault(),ie.stopPropagation(),C()))});let ne=(()=>!(L||d!==0||D))();Z2(c,ne,H),k.useEffect(()=>{if(d!==0||!x.current)return;let ie=new ResizeObserver(te=>{for(let de of te){let Ee=de.target.getBoundingClientRect();Ee.x===0&&Ee.y===0&&Ee.width===0&&Ee.height===0&&C()}});return ie.observe(x.current),()=>ie.disconnect()},[d,x,C]);let[ve,j]=V2(),F=k.useMemo(()=>[{dialogState:d,close:C,setTitleId:R},y],[d,y,C,R]),G=k.useMemo(()=>({open:d===0}),[d]),Q={ref:v,id:s,role:o,"aria-modal":d===0?!0:void 0,"aria-labelledby":y.titleId,"aria-describedby":ve};return ue.createElement(z2,{type:"Dialog",enabled:d===0,element:x,onUpdate:fe((ie,te)=>{te==="Dialog"&&$e(ie,{[Rd.Add]:()=>h(de=>de+1),[Rd.Remove]:()=>h(de=>de-1)})})},ue.createElement(Cd,{force:!0},ue.createElement(kd,null,ue.createElement(Nl.Provider,{value:F},ue.createElement(kd.Group,{target:x},ue.createElement(Cd,{force:!1},ue.createElement(j,{slot:G,name:"Dialog.Description"},ue.createElement(Ii,{initialFocus:a,containers:H,features:b?$e(z,{parent:Ii.features.RestoreFocus,leaf:Ii.features.All&~Ii.features.FocusLock}):Ii.features.None},ue.createElement(N,null,Je({ourProps:Q,theirProps:p,slot:G,defaultTag:tE,features:rE,visible:d===0,name:"Dialog"}))))))))),ue.createElement(K,null))}let nE="div";function iE(e,t){let r=fr(),{id:s=`headlessui-dialog-overlay-${r}`,...n}=e,[{dialogState:i,close:a}]=ta("Dialog.Overlay"),o=it(t),l=fe(g=>{if(g.target===g.currentTarget){if(Jh(g.currentTarget))return g.preventDefault();g.preventDefault(),g.stopPropagation(),a()}}),p=k.useMemo(()=>({open:i===0}),[i]);return Je({ourProps:{ref:o,id:s,"aria-hidden":!0,onClick:l},theirProps:n,slot:p,defaultTag:nE,name:"Dialog.Overlay"})}let oE="div";function aE(e,t){let r=fr(),{id:s=`headlessui-dialog-backdrop-${r}`,...n}=e,[{dialogState:i},a]=ta("Dialog.Backdrop"),o=it(t);k.useEffect(()=>{if(a.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[a.panelRef]);let l=k.useMemo(()=>({open:i===0}),[i]);return ue.createElement(Cd,{force:!0},ue.createElement(kd,null,Je({ourProps:{ref:o,id:s,"aria-hidden":!0},theirProps:n,slot:l,defaultTag:oE,name:"Dialog.Backdrop"})))}let lE="div";function cE(e,t){let r=fr(),{id:s=`headlessui-dialog-panel-${r}`,...n}=e,[{dialogState:i},a]=ta("Dialog.Panel"),o=it(t,a.panelRef),l=k.useMemo(()=>({open:i===0}),[i]),p=fe(g=>{g.stopPropagation()});return Je({ourProps:{ref:o,id:s,onClick:p},theirProps:n,slot:l,defaultTag:lE,name:"Dialog.Panel"})}let uE="h2";function dE(e,t){let r=fr(),{id:s=`headlessui-dialog-title-${r}`,...n}=e,[{dialogState:i,setTitleId:a}]=ta("Dialog.Title"),o=it(t);k.useEffect(()=>(a(s),()=>a(null)),[s,a]);let l=k.useMemo(()=>({open:i===0}),[i]);return Je({ourProps:{ref:o,id:s},theirProps:n,slot:l,defaultTag:uE,name:"Dialog.Title"})}let hE=Ke(sE),fE=Ke(aE),pE=Ke(cE),mE=Ke(iE),gE=Ke(dE),Xc=Object.assign(hE,{Backdrop:fE,Panel:pE,Overlay:mE,Title:gE,Description:G2});var mm;let vE=(mm=ue.startTransition)!=null?mm:function(e){e()};var _E=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(_E||{}),yE=(e=>(e[e.ToggleDisclosure=0]="ToggleDisclosure",e[e.CloseDisclosure=1]="CloseDisclosure",e[e.SetButtonId=2]="SetButtonId",e[e.SetPanelId=3]="SetPanelId",e[e.LinkPanel=4]="LinkPanel",e[e.UnlinkPanel=5]="UnlinkPanel",e))(yE||{});let xE={0:e=>({...e,disclosureState:$e(e.disclosureState,{0:1,1:0})}),1:e=>e.disclosureState===1?e:{...e,disclosureState:1},4(e){return e.linkedPanel===!0?e:{...e,linkedPanel:!0}},5(e){return e.linkedPanel===!1?e:{...e,linkedPanel:!1}},2(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},3(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}}},ef=k.createContext(null);ef.displayName="DisclosureContext";function tf(e){let t=k.useContext(ef);if(t===null){let r=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,tf),r}return t}let rf=k.createContext(null);rf.displayName="DisclosureAPIContext";function S_(e){let t=k.useContext(rf);if(t===null){let r=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,S_),r}return t}let sf=k.createContext(null);sf.displayName="DisclosurePanelContext";function SE(){return k.useContext(sf)}function wE(e,t){return $e(t.type,xE,e,t)}let bE=k.Fragment;function CE(e,t){let{defaultOpen:r=!1,...s}=e,n=k.useRef(null),i=it(t,c_(c=>{n.current=c},e.as===void 0||e.as===k.Fragment)),a=k.useRef(null),o=k.useRef(null),l=k.useReducer(wE,{disclosureState:r?0:1,linkedPanel:!1,buttonRef:o,panelRef:a,buttonId:null,panelId:null}),[{disclosureState:p,buttonId:g},h]=l,_=fe(c=>{h({type:1});let f=Jo(n);if(!f||!g)return;let u=(()=>c?c instanceof HTMLElement?c:c.current instanceof HTMLElement?c.current:f.getElementById(g):f.getElementById(g))();u==null||u.focus()}),S=k.useMemo(()=>({close:_}),[_]),x=k.useMemo(()=>({open:p===0,close:_}),[p,_]),v={ref:i};return ue.createElement(ef.Provider,{value:l},ue.createElement(rf.Provider,{value:S},ue.createElement(Yh,{value:$e(p,{0:Fe.Open,1:Fe.Closed})},Je({ourProps:v,theirProps:s,slot:x,defaultTag:bE,name:"Disclosure"}))))}let EE="button";function kE(e,t){let r=fr(),{id:s=`headlessui-disclosure-button-${r}`,...n}=e,[i,a]=tf("Disclosure.Button"),o=SE(),l=o===null?!1:o===i.panelId,p=k.useRef(null),g=it(p,t,l?null:i.buttonRef),h=u_();k.useEffect(()=>{if(!l)return a({type:2,buttonId:s}),()=>{a({type:2,buttonId:null})}},[s,a,l]);let _=fe(u=>{var d;if(l){if(i.disclosureState===1)return;switch(u.key){case De.Space:case De.Enter:u.preventDefault(),u.stopPropagation(),a({type:0}),(d=i.buttonRef.current)==null||d.focus();break}}else switch(u.key){case De.Space:case De.Enter:u.preventDefault(),u.stopPropagation(),a({type:0});break}}),S=fe(u=>{switch(u.key){case De.Space:u.preventDefault();break}}),x=fe(u=>{var d;Jh(u.currentTarget)||e.disabled||(l?(a({type:0}),(d=i.buttonRef.current)==null||d.focus()):a({type:0}))}),v=k.useMemo(()=>({open:i.disclosureState===0}),[i]),c=a_(e,p),f=l?{ref:g,type:c,onKeyDown:_,onClick:x}:{ref:g,id:s,type:c,"aria-expanded":i.disclosureState===0,"aria-controls":i.linkedPanel?i.panelId:void 0,onKeyDown:_,onKeyUp:S,onClick:x};return Je({mergeRefs:h,ourProps:f,theirProps:n,slot:v,defaultTag:EE,name:"Disclosure.Button"})}let RE="div",LE=As.RenderStrategy|As.Static;function NE(e,t){let r=fr(),{id:s=`headlessui-disclosure-panel-${r}`,...n}=e,[i,a]=tf("Disclosure.Panel"),{close:o}=S_("Disclosure.Panel"),l=u_(),p=it(t,i.panelRef,x=>{vE(()=>a({type:x?4:5}))});k.useEffect(()=>(a({type:3,panelId:s}),()=>{a({type:3,panelId:null})}),[s,a]);let g=Zo(),h=(()=>g!==null?(g&Fe.Open)===Fe.Open:i.disclosureState===0)(),_=k.useMemo(()=>({open:i.disclosureState===0,close:o}),[i,o]),S={ref:p,id:s};return ue.createElement(sf.Provider,{value:i.panelId},Je({mergeRefs:l,ourProps:S,theirProps:n,slot:_,defaultTag:RE,features:LE,visible:h,name:"Disclosure.Panel"}))}let jE=Ke(CE),DE=Ke(kE),TE=Ke(NE),Ca=Object.assign(jE,{Button:DE,Panel:TE}),gm=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function vm(e){var t,r;let s=(t=e.innerText)!=null?t:"",n=e.cloneNode(!0);if(!(n instanceof HTMLElement))return s;let i=!1;for(let o of n.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))o.remove(),i=!0;let a=i?(r=n.innerText)!=null?r:"":s;return gm.test(a)&&(a=a.replace(gm,"")),a}function PE(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let r=e.getAttribute("aria-labelledby");if(r){let s=r.split(" ").map(n=>{let i=document.getElementById(n);if(i){let a=i.getAttribute("aria-label");return typeof a=="string"?a.trim():vm(i).trim()}return null}).filter(Boolean);if(s.length>0)return s.join(", ")}return vm(e).trim()}function AE(e){let t=k.useRef(""),r=k.useRef("");return fe(()=>{let s=e.current;if(!s)return"";let n=s.innerText;if(t.current===n)return r.current;let i=PE(s).trim().toLowerCase();return t.current=n,r.current=i,i})}var OE=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(OE||{}),ME=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(ME||{}),IE=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItem=5]="RegisterItem",e[e.UnregisterItem=6]="UnregisterItem",e))(IE||{});function Yc(e,t=r=>r){let r=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,s=s_(t(e.items.slice()),i=>i.dataRef.current.domRef.current),n=r?s.indexOf(r):null;return n===-1&&(n=null),{items:s,activeItemIndex:n}}let BE={1(e){return e.menuState===1?e:{...e,activeItemIndex:null,menuState:1}},0(e){return e.menuState===0?e:{...e,__demoMode:!1,menuState:0}},2:(e,t)=>{var r;let s=Yc(e),n=i2(t,{resolveItems:()=>s.items,resolveActiveIndex:()=>s.activeItemIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled});return{...e,...s,searchQuery:"",activeItemIndex:n,activationTrigger:(r=t.trigger)!=null?r:1}},3:(e,t)=>{let r=e.searchQuery!==""?0:1,s=e.searchQuery+t.value.toLowerCase(),n=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+r).concat(e.items.slice(0,e.activeItemIndex+r)):e.items).find(a=>{var o;return((o=a.dataRef.current.textValue)==null?void 0:o.startsWith(s))&&!a.dataRef.current.disabled}),i=n?e.items.indexOf(n):-1;return i===-1||i===e.activeItemIndex?{...e,searchQuery:s}:{...e,searchQuery:s,activeItemIndex:i,activationTrigger:1}},4(e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},5:(e,t)=>{let r=Yc(e,s=>[...s,{id:t.id,dataRef:t.dataRef}]);return{...e,...r}},6:(e,t)=>{let r=Yc(e,s=>{let n=s.findIndex(i=>i.id===t.id);return n!==-1&&s.splice(n,1),s});return{...e,...r,activationTrigger:1}}},nf=k.createContext(null);nf.displayName="MenuContext";function ac(e){let t=k.useContext(nf);if(t===null){let r=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,ac),r}return t}function FE(e,t){return $e(t.type,BE,e,t)}let $E=k.Fragment;function HE(e,t){let{__demoMode:r=!1,...s}=e,n=k.useReducer(FE,{__demoMode:r,menuState:r?0:1,buttonRef:k.createRef(),itemsRef:k.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:i,itemsRef:a,buttonRef:o},l]=n,p=it(t);o_([o,a],(S,x)=>{var v;l({type:1}),Qh(x,Kh.Loose)||(S.preventDefault(),(v=o.current)==null||v.focus())},i===0);let g=fe(()=>{l({type:1})}),h=k.useMemo(()=>({open:i===0,close:g}),[i,g]),_={ref:p};return ue.createElement(nf.Provider,{value:n},ue.createElement(Yh,{value:$e(i,{0:Fe.Open,1:Fe.Closed})},Je({ourProps:_,theirProps:s,slot:h,defaultTag:$E,name:"Menu"})))}let UE="button";function WE(e,t){var r;let s=fr(),{id:n=`headlessui-menu-button-${s}`,...i}=e,[a,o]=ac("Menu.Button"),l=it(a.buttonRef,t),p=Yo(),g=fe(v=>{switch(v.key){case De.Space:case De.Enter:case De.ArrowDown:v.preventDefault(),v.stopPropagation(),o({type:0}),p.nextFrame(()=>o({type:2,focus:or.First}));break;case De.ArrowUp:v.preventDefault(),v.stopPropagation(),o({type:0}),p.nextFrame(()=>o({type:2,focus:or.Last}));break}}),h=fe(v=>{switch(v.key){case De.Space:v.preventDefault();break}}),_=fe(v=>{if(Jh(v.currentTarget))return v.preventDefault();e.disabled||(a.menuState===0?(o({type:1}),p.nextFrame(()=>{var c;return(c=a.buttonRef.current)==null?void 0:c.focus({preventScroll:!0})})):(v.preventDefault(),o({type:0})))}),S=k.useMemo(()=>({open:a.menuState===0}),[a]),x={ref:l,id:n,type:a_(e,a.buttonRef),"aria-haspopup":"menu","aria-controls":(r=a.itemsRef.current)==null?void 0:r.id,"aria-expanded":a.menuState===0,onKeyDown:g,onKeyUp:h,onClick:_};return Je({ourProps:x,theirProps:i,slot:S,defaultTag:UE,name:"Menu.Button"})}let zE="div",VE=As.RenderStrategy|As.Static;function qE(e,t){var r,s;let n=fr(),{id:i=`headlessui-menu-items-${n}`,...a}=e,[o,l]=ac("Menu.Items"),p=it(o.itemsRef,t),g=bi(o.itemsRef),h=Yo(),_=Zo(),S=(()=>_!==null?(_&Fe.Open)===Fe.Open:o.menuState===0)();k.useEffect(()=>{let u=o.itemsRef.current;u&&o.menuState===0&&u!==(g==null?void 0:g.activeElement)&&u.focus({preventScroll:!0})},[o.menuState,o.itemsRef,g]),JC({container:o.itemsRef.current,enabled:o.menuState===0,accept(u){return u.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:u.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(u){u.setAttribute("role","none")}});let x=fe(u=>{var d,y;switch(h.dispose(),u.key){case De.Space:if(o.searchQuery!=="")return u.preventDefault(),u.stopPropagation(),l({type:3,value:u.key});case De.Enter:if(u.preventDefault(),u.stopPropagation(),l({type:1}),o.activeItemIndex!==null){let{dataRef:w}=o.items[o.activeItemIndex];(y=(d=w.current)==null?void 0:d.domRef.current)==null||y.click()}r_(o.buttonRef.current);break;case De.ArrowDown:return u.preventDefault(),u.stopPropagation(),l({type:2,focus:or.Next});case De.ArrowUp:return u.preventDefault(),u.stopPropagation(),l({type:2,focus:or.Previous});case De.Home:case De.PageUp:return u.preventDefault(),u.stopPropagation(),l({type:2,focus:or.First});case De.End:case De.PageDown:return u.preventDefault(),u.stopPropagation(),l({type:2,focus:or.Last});case De.Escape:u.preventDefault(),u.stopPropagation(),l({type:1}),dr().nextFrame(()=>{var w;return(w=o.buttonRef.current)==null?void 0:w.focus({preventScroll:!0})});break;case De.Tab:u.preventDefault(),u.stopPropagation(),l({type:1}),dr().nextFrame(()=>{QC(o.buttonRef.current,u.shiftKey?Or.Previous:Or.Next)});break;default:u.key.length===1&&(l({type:3,value:u.key}),h.setTimeout(()=>l({type:4}),350));break}}),v=fe(u=>{switch(u.key){case De.Space:u.preventDefault();break}}),c=k.useMemo(()=>({open:o.menuState===0}),[o]),f={"aria-activedescendant":o.activeItemIndex===null||(r=o.items[o.activeItemIndex])==null?void 0:r.id,"aria-labelledby":(s=o.buttonRef.current)==null?void 0:s.id,id:i,onKeyDown:x,onKeyUp:v,role:"menu",tabIndex:0,ref:p};return Je({ourProps:f,theirProps:a,slot:c,defaultTag:zE,features:VE,visible:S,name:"Menu.Items"})}let KE=k.Fragment;function QE(e,t){let r=fr(),{id:s=`headlessui-menu-item-${r}`,disabled:n=!1,...i}=e,[a,o]=ac("Menu.Item"),l=a.activeItemIndex!==null?a.items[a.activeItemIndex].id===s:!1,p=k.useRef(null),g=it(t,p);nt(()=>{if(a.__demoMode||a.menuState!==0||!l||a.activationTrigger===0)return;let w=dr();return w.requestAnimationFrame(()=>{var C,R;(R=(C=p.current)==null?void 0:C.scrollIntoView)==null||R.call(C,{block:"nearest"})}),w.dispose},[a.__demoMode,p,l,a.menuState,a.activationTrigger,a.activeItemIndex]);let h=AE(p),_=k.useRef({disabled:n,domRef:p,get textValue(){return h()}});nt(()=>{_.current.disabled=n},[_,n]),nt(()=>(o({type:5,id:s,dataRef:_}),()=>o({type:6,id:s})),[_,s]);let S=fe(()=>{o({type:1})}),x=fe(w=>{if(n)return w.preventDefault();o({type:1}),r_(a.buttonRef.current)}),v=fe(()=>{if(n)return o({type:2,focus:or.Nothing});o({type:2,focus:or.Specific,id:s})}),c=YC(),f=fe(w=>c.update(w)),u=fe(w=>{c.wasMoved(w)&&(n||l||o({type:2,focus:or.Specific,id:s,trigger:0}))}),d=fe(w=>{c.wasMoved(w)&&(n||l&&o({type:2,focus:or.Nothing}))}),y=k.useMemo(()=>({active:l,disabled:n,close:S}),[l,n,S]);return Je({ourProps:{id:s,ref:g,role:"menuitem",tabIndex:n===!0?void 0:-1,"aria-disabled":n===!0?!0:void 0,disabled:void 0,onClick:x,onFocus:v,onPointerEnter:f,onMouseEnter:f,onPointerMove:u,onMouseMove:u,onPointerLeave:d,onMouseLeave:d},theirProps:i,slot:y,defaultTag:KE,name:"Menu.Item"})}let GE=Ke(HE),XE=Ke(WE),YE=Ke(qE),JE=Ke(QE),Ea=Object.assign(GE,{Button:XE,Items:YE,Item:JE});function ZE(e=0){let[t,r]=k.useState(e),s=ea(),n=k.useCallback(l=>{s.current&&r(p=>p|l)},[t,s]),i=k.useCallback(l=>!!(t&l),[t]),a=k.useCallback(l=>{s.current&&r(p=>p&~l)},[r,s]),o=k.useCallback(l=>{s.current&&r(p=>p^l)},[r]);return{flags:t,addFlag:n,hasFlag:i,removeFlag:a,toggleFlag:o}}function ek(e){let t={called:!1};return(...r)=>{if(!t.called)return t.called=!0,e(...r)}}function Jc(e,...t){e&&t.length>0&&e.classList.add(...t)}function Zc(e,...t){e&&t.length>0&&e.classList.remove(...t)}function tk(e,t){let r=dr();if(!e)return r.dispose;let{transitionDuration:s,transitionDelay:n}=getComputedStyle(e),[i,a]=[s,n].map(l=>{let[p=0]=l.split(",").filter(Boolean).map(g=>g.includes("ms")?parseFloat(g):parseFloat(g)*1e3).sort((g,h)=>h-g);return p}),o=i+a;if(o!==0){r.group(p=>{p.setTimeout(()=>{t(),p.dispose()},o),p.addEventListener(e,"transitionrun",g=>{g.target===g.currentTarget&&p.dispose()})});let l=r.addEventListener(e,"transitionend",p=>{p.target===p.currentTarget&&(t(),l())})}else t();return r.add(()=>t()),r.dispose}function rk(e,t,r,s){let n=r?"enter":"leave",i=dr(),a=s!==void 0?ek(s):()=>{};n==="enter"&&(e.removeAttribute("hidden"),e.style.display="");let o=$e(n,{enter:()=>t.enter,leave:()=>t.leave}),l=$e(n,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),p=$e(n,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return Zc(e,...t.base,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),Jc(e,...t.base,...o,...p),i.nextFrame(()=>{Zc(e,...t.base,...o,...p),Jc(e,...t.base,...o,...l),tk(e,()=>(Zc(e,...t.base,...o),Jc(e,...t.base,...t.entered),a()))}),i.dispose}function sk({immediate:e,container:t,direction:r,classes:s,onStart:n,onStop:i}){let a=ea(),o=Yo(),l=Hr(r);nt(()=>{e&&(l.current="enter")},[e]),nt(()=>{let p=dr();o.add(p.dispose);let g=t.current;if(g&&l.current!=="idle"&&a.current)return p.dispose(),n.current(l.current),p.add(rk(g,s.current,l.current==="enter",()=>{p.dispose(),i.current(l.current)})),p.dispose},[r])}function Jr(e=""){return e.split(/\s+/).filter(t=>t.length>1)}let lc=k.createContext(null);lc.displayName="TransitionContext";var nk=(e=>(e.Visible="visible",e.Hidden="hidden",e))(nk||{});function ik(){let e=k.useContext(lc);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function ok(){let e=k.useContext(cc);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let cc=k.createContext(null);cc.displayName="NestingContext";function uc(e){return"children"in e?uc(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function w_(e,t){let r=Hr(e),s=k.useRef([]),n=ea(),i=Yo(),a=fe((S,x=xs.Hidden)=>{let v=s.current.findIndex(({el:c})=>c===S);v!==-1&&($e(x,{[xs.Unmount](){s.current.splice(v,1)},[xs.Hidden](){s.current[v].state="hidden"}}),i.microTask(()=>{var c;!uc(s)&&n.current&&((c=r.current)==null||c.call(r))}))}),o=fe(S=>{let x=s.current.find(({el:v})=>v===S);return x?x.state!=="visible"&&(x.state="visible"):s.current.push({el:S,state:"visible"}),()=>a(S,xs.Unmount)}),l=k.useRef([]),p=k.useRef(Promise.resolve()),g=k.useRef({enter:[],leave:[],idle:[]}),h=fe((S,x,v)=>{l.current.splice(0),t&&(t.chains.current[x]=t.chains.current[x].filter(([c])=>c!==S)),t==null||t.chains.current[x].push([S,new Promise(c=>{l.current.push(c)})]),t==null||t.chains.current[x].push([S,new Promise(c=>{Promise.all(g.current[x].map(([f,u])=>u)).then(()=>c())})]),x==="enter"?p.current=p.current.then(()=>t==null?void 0:t.wait.current).then(()=>v(x)):v(x)}),_=fe((S,x,v)=>{Promise.all(g.current[x].splice(0).map(([c,f])=>f)).then(()=>{var c;(c=l.current.shift())==null||c()}).then(()=>v(x))});return k.useMemo(()=>({children:s,register:o,unregister:a,onStart:h,onStop:_,wait:p,chains:g}),[o,a,s,h,_,g,p])}function ak(){}let lk=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function _m(e){var t;let r={};for(let s of lk)r[s]=(t=e[s])!=null?t:ak;return r}function ck(e){let t=k.useRef(_m(e));return k.useEffect(()=>{t.current=_m(e)},[e]),t}let uk="div",b_=As.RenderStrategy;function dk(e,t){var r,s;let{beforeEnter:n,afterEnter:i,beforeLeave:a,afterLeave:o,enter:l,enterFrom:p,enterTo:g,entered:h,leave:_,leaveFrom:S,leaveTo:x,...v}=e,c=k.useRef(null),f=it(c,t),u=(r=v.unmount)==null||r?xs.Unmount:xs.Hidden,{show:d,appear:y,initial:w}=ik(),[C,R]=k.useState(d?"visible":"hidden"),b=ok(),{register:E,unregister:D}=b;k.useEffect(()=>E(c),[E,c]),k.useEffect(()=>{if(u===xs.Hidden&&c.current){if(d&&C!=="visible"){R("visible");return}return $e(C,{hidden:()=>D(c),visible:()=>E(c)})}},[C,c,E,D,d,u]);let O=Hr({base:Jr(v.className),enter:Jr(l),enterFrom:Jr(p),enterTo:Jr(g),entered:Jr(h),leave:Jr(_),leaveFrom:Jr(S),leaveTo:Jr(x)}),N=ck({beforeEnter:n,afterEnter:i,beforeLeave:a,afterLeave:o}),A=wi();k.useEffect(()=>{if(A&&C==="visible"&&c.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[c,C,A]);let H=w&&!y,W=y&&d&&w,K=(()=>!A||H?"idle":d?"enter":"leave")(),z=ZE(0),L=fe(re=>$e(re,{enter:()=>{z.addFlag(Fe.Opening),N.current.beforeEnter()},leave:()=>{z.addFlag(Fe.Closing),N.current.beforeLeave()},idle:()=>{}})),T=fe(re=>$e(re,{enter:()=>{z.removeFlag(Fe.Opening),N.current.afterEnter()},leave:()=>{z.removeFlag(Fe.Closing),N.current.afterLeave()},idle:()=>{}})),P=w_(()=>{R("hidden"),D(c)},b),M=k.useRef(!1);sk({immediate:W,container:c,classes:O,direction:K,onStart:Hr(re=>{M.current=!0,P.onStart(c,re,L)}),onStop:Hr(re=>{M.current=!1,P.onStop(c,re,T),re==="leave"&&!uc(P)&&(R("hidden"),D(c))})});let V=v,J={ref:f};return W?V={...V,className:Rl(v.className,...O.current.enter,...O.current.enterFrom)}:M.current&&(V.className=Rl(v.className,(s=c.current)==null?void 0:s.className),V.className===""&&delete V.className),ue.createElement(cc.Provider,{value:P},ue.createElement(Yh,{value:$e(C,{visible:Fe.Open,hidden:Fe.Closed})|z.flags},Je({ourProps:J,theirProps:V,defaultTag:uk,features:b_,visible:C==="visible",name:"Transition.Child"})))}function hk(e,t){let{show:r,appear:s=!1,unmount:n=!0,...i}=e,a=k.useRef(null),o=it(a,t);wi();let l=Zo();if(r===void 0&&l!==null&&(r=(l&Fe.Open)===Fe.Open),![!0,!1].includes(r))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[p,g]=k.useState(r?"visible":"hidden"),h=w_(()=>{g("hidden")}),[_,S]=k.useState(!0),x=k.useRef([r]);nt(()=>{_!==!1&&x.current[x.current.length-1]!==r&&(x.current.push(r),S(!1))},[x,r]);let v=k.useMemo(()=>({show:r,appear:s,initial:_}),[r,s,_]);k.useEffect(()=>{if(r)g("visible");else if(!uc(h))g("hidden");else{let d=a.current;if(!d)return;let y=d.getBoundingClientRect();y.x===0&&y.y===0&&y.width===0&&y.height===0&&g("hidden")}},[r,h]);let c={unmount:n},f=fe(()=>{var d;_&&S(!1),(d=e.beforeEnter)==null||d.call(e)}),u=fe(()=>{var d;_&&S(!1),(d=e.beforeLeave)==null||d.call(e)});return ue.createElement(cc.Provider,{value:h},ue.createElement(lc.Provider,{value:v},Je({ourProps:{...c,as:k.Fragment,children:ue.createElement(C_,{ref:o,...c,...i,beforeEnter:f,beforeLeave:u})},theirProps:{},defaultTag:k.Fragment,features:b_,visible:p==="visible",name:"Transition"})))}function fk(e,t){let r=k.useContext(lc)!==null,s=Zo()!==null;return ue.createElement(ue.Fragment,null,!r&&s?ue.createElement(Ld,{ref:t,...e}):ue.createElement(C_,{ref:t,...e}))}let Ld=Ke(hk),C_=Ke(dk),pk=Ke(fk),Va=Object.assign(Ld,{Child:pk,Root:Ld});function mk({title:e,titleId:t,...r},s){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?k.createElement("title",{id:t},e):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const gk=k.forwardRef(mk),ym=gk;function vk({title:e,titleId:t,...r},s){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?k.createElement("title",{id:t},e):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3"}))}const _k=k.forwardRef(vk),yk=_k;function xk({title:e,titleId:t,...r},s){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?k.createElement("title",{id:t},e):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const Sk=k.forwardRef(xk),E_=Sk;function wk({title:e,titleId:t,...r},s){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?k.createElement("title",{id:t},e):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"}))}const bk=k.forwardRef(wk),Ck=bk;function Ek({title:e,titleId:t,...r},s){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?k.createElement("title",{id:t},e):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const kk=k.forwardRef(Ek),Nd=kk;function Rk({title:e,titleId:t,...r},s){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?k.createElement("title",{id:t},e):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const Lk=k.forwardRef(Rk),Nk=Lk;function jk({title:e,titleId:t,...r},s){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?k.createElement("title",{id:t},e):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const Dk=k.forwardRef(jk),no=Dk;function Tk({title:e,titleId:t,...r},s){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?k.createElement("title",{id:t},e):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Pk=k.forwardRef(Tk),di=Pk;function Ak({title:e,titleId:t,...r},s){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?k.createElement("title",{id:t},e):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Ok=k.forwardRef(Ak),dc=Ok;function Mk({title:e,titleId:t,...r},s){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?k.createElement("title",{id:t},e):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Ik=k.forwardRef(Mk),k_=Ik;function Bk({title:e,titleId:t,...r},s){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?k.createElement("title",{id:t},e):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m6.75 7.5 3 2.25-3 2.25m4.5 0h3m-9 8.25h13.5A2.25 2.25 0 0 0 21 18V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v12a2.25 2.25 0 0 0 2.25 2.25Z"}))}const Fk=k.forwardRef(Bk),jd=Fk;function $k({title:e,titleId:t,...r},s){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?k.createElement("title",{id:t},e):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 7.5-9-5.25L3 7.5m18 0-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"}))}const Hk=k.forwardRef($k),R_=Hk;function Uk({title:e,titleId:t,...r},s){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?k.createElement("title",{id:t},e):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Wk=k.forwardRef(Uk),zk=Wk;function Vk({title:e,titleId:t,...r},s){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?k.createElement("title",{id:t},e):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const qk=k.forwardRef(Vk),Kk=qk;function Qk({title:e,titleId:t,...r},s){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?k.createElement("title",{id:t},e):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const Gk=k.forwardRef(Qk),of=Gk;function Xk({title:e,titleId:t,...r},s){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?k.createElement("title",{id:t},e):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const Yk=k.forwardRef(Xk),Jk=Yk;function Zk({title:e,titleId:t,...r},s){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?k.createElement("title",{id:t},e):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const e5=k.forwardRef(Zk),L_=e5;function t5({title:e,titleId:t,...r},s){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?k.createElement("title",{id:t},e):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const r5=k.forwardRef(t5),s5=r5;function n5({title:e,titleId:t,...r},s){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?k.createElement("title",{id:t},e):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25v13.5m-7.5-13.5v13.5"}))}const i5=k.forwardRef(n5),Dd=i5;function o5({title:e,titleId:t,...r},s){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?k.createElement("title",{id:t},e):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const a5=k.forwardRef(o5),l5=a5;function c5({title:e,titleId:t,...r},s){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?k.createElement("title",{id:t},e):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const u5=k.forwardRef(c5),d5=u5;function h5({title:e,titleId:t,...r},s){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?k.createElement("title",{id:t},e):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const f5=k.forwardRef(h5),Br=f5;function p5({title:e,titleId:t,...r},s){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?k.createElement("title",{id:t},e):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const m5=k.forwardRef(p5),Ro=m5;function g5({title:e,titleId:t,...r},s){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?k.createElement("title",{id:t},e):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 17.25v-.228a4.5 4.5 0 0 0-.12-1.03l-2.268-9.64a3.375 3.375 0 0 0-3.285-2.602H7.923a3.375 3.375 0 0 0-3.285 2.602l-2.268 9.64a4.5 4.5 0 0 0-.12 1.03v.228m19.5 0a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3m19.5 0a3 3 0 0 0-3-3H5.25a3 3 0 0 0-3 3m16.5 0h.008v.008h-.008v-.008Zm-3 0h.008v.008h-.008v-.008Z"}))}const v5=k.forwardRef(g5),Kr=v5;function _5({title:e,titleId:t,...r},s){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?k.createElement("title",{id:t},e):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.429 9.75 2.25 12l4.179 2.25m0-4.5 5.571 3 5.571-3m-11.142 0L2.25 7.5 12 2.25l9.75 5.25-4.179 2.25m0 0L21.75 12l-4.179 2.25m0 0 4.179 2.25L12 21.75 2.25 16.5l4.179-2.25m11.142 0-5.571 3-5.571-3"}))}const y5=k.forwardRef(_5),x5=y5;function S5({title:e,titleId:t,...r},s){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?k.createElement("title",{id:t},e):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 7.5A2.25 2.25 0 0 1 7.5 5.25h9a2.25 2.25 0 0 1 2.25 2.25v9a2.25 2.25 0 0 1-2.25 2.25h-9a2.25 2.25 0 0 1-2.25-2.25v-9Z"}))}const w5=k.forwardRef(S5),jl=w5;function b5({title:e,titleId:t,...r},s){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?k.createElement("title",{id:t},e):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const C5=k.forwardRef(b5),hc=C5;function E5({title:e,titleId:t,...r},s){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?k.createElement("title",{id:t},e):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const k5=k.forwardRef(E5),xm=k5;function R5({title:e,titleId:t,...r},s){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?k.createElement("title",{id:t},e):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const L5=k.forwardRef(R5),eu=L5;function N5({title:e,titleId:t,...r},s){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?k.createElement("title",{id:t},e):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const j5=k.forwardRef(N5),hi=j5,Sm=[{name:"Dashboard",href:"/dashboard",icon:s5},{name:"VPS Management",href:"/vps",icon:Kr},{name:"Odoo Management",href:"/odoo",icon:Nd},{name:"Monitoring",href:"/monitoring",icon:no}];function tu(...e){return e.filter(Boolean).join(" ")}function D5({children:e,user:t}){const r=_i(),s=Gl(),n=()=>{localStorage.removeItem("auth_token"),s("/login")};return m.jsxs("div",{className:"min-h-screen bg-gray-50",children:[m.jsx(Ca,{as:"nav",className:"bg-white shadow",children:({open:i})=>m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"flex h-16 justify-between",children:[m.jsxs("div",{className:"flex",children:[m.jsx("div",{className:"flex flex-shrink-0 items-center",children:m.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"SaaS Orchestrator"})}),m.jsx("div",{className:"hidden sm:-my-px sm:ml-6 sm:flex sm:space-x-8",children:Sm.map(a=>{const o=r.pathname===a.href||a.href!=="/dashboard"&&r.pathname.startsWith(a.href);return m.jsxs(ui,{to:a.href,className:tu(o?"border-primary-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700","inline-flex items-center border-b-2 px-1 pt-1 text-sm font-medium"),"aria-current":o?"page":void 0,children:[m.jsx(a.icon,{className:"mr-2 h-4 w-4"}),a.name]},a.name)})})]}),m.jsx("div",{className:"hidden sm:ml-6 sm:flex sm:items-center",children:m.jsxs(Ea,{as:"div",className:"relative ml-3",children:[m.jsx("div",{children:m.jsxs(Ea.Button,{className:"flex rounded-full bg-white text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2",children:[m.jsx("span",{className:"sr-only",children:"Open user menu"}),m.jsx(xm,{className:"h-8 w-8 text-gray-400"})]})}),m.jsx(Va,{as:k.Fragment,enter:"transition ease-out duration-200",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:m.jsxs(Ea.Items,{className:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:[m.jsxs("div",{className:"px-4 py-2 text-sm text-gray-700 border-b",children:[m.jsx("p",{className:"font-medium",children:(t==null?void 0:t.full_name)||"Admin"}),m.jsx("p",{className:"text-gray-500",children:t==null?void 0:t.email})]}),m.jsx(Ea.Item,{children:({active:a})=>m.jsx("button",{onClick:n,className:tu(a?"bg-gray-100":"","block w-full px-4 py-2 text-left text-sm text-gray-700"),children:"Sign out"})})]})})]})}),m.jsx("div",{className:"-mr-2 flex items-center sm:hidden",children:m.jsxs(Ca.Button,{className:"inline-flex items-center justify-center rounded-md bg-white p-2 text-gray-400 hover:bg-gray-100 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2",children:[m.jsx("span",{className:"sr-only",children:"Open main menu"}),i?m.jsx(hi,{className:"block h-6 w-6","aria-hidden":"true"}):m.jsx(E_,{className:"block h-6 w-6","aria-hidden":"true"})]})})]})}),m.jsxs(Ca.Panel,{className:"sm:hidden",children:[m.jsx("div",{className:"space-y-1 pb-3 pt-2",children:Sm.map(a=>{const o=r.pathname===a.href||a.href!=="/dashboard"&&r.pathname.startsWith(a.href);return m.jsx(Ca.Button,{as:ui,to:a.href,className:tu(o?"border-primary-500 bg-primary-50 text-primary-700":"border-transparent text-gray-600 hover:border-gray-300 hover:bg-gray-50 hover:text-gray-800","block border-l-4 py-2 pl-3 pr-4 text-base font-medium"),"aria-current":o?"page":void 0,children:m.jsxs("div",{className:"flex items-center",children:[m.jsx(a.icon,{className:"mr-2 h-5 w-5"}),a.name]})},a.name)})}),m.jsxs("div",{className:"border-t border-gray-200 pb-3 pt-4",children:[m.jsxs("div",{className:"flex items-center px-4",children:[m.jsx(xm,{className:"h-8 w-8 text-gray-400"}),m.jsxs("div",{className:"ml-3",children:[m.jsx("div",{className:"text-base font-medium text-gray-800",children:(t==null?void 0:t.full_name)||"Admin"}),m.jsx("div",{className:"text-sm font-medium text-gray-500",children:t==null?void 0:t.email})]})]}),m.jsx("div",{className:"mt-3 space-y-1",children:m.jsx("button",{onClick:n,className:"block px-4 py-2 text-base font-medium text-gray-500 hover:bg-gray-100 hover:text-gray-800 w-full text-left",children:"Sign out"})})]})]})]})}),m.jsx("div",{className:"py-10",children:m.jsx("main",{children:m.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e})})})]})}function T5(){var h;const{data:e,isLoading:t}=st({queryKey:["vps-hosts"],queryFn:()=>Un.list()}),{data:r,isLoading:s}=st({queryKey:["system-metrics"],queryFn:()=>eo.getSystemMetrics(),refetchInterval:3e4}),{data:n}=st({queryKey:["recent-audit-logs"],queryFn:()=>eo.getRecentAuditLogs({limit:10}),refetchInterval:6e4});if(t||s)return m.jsx("div",{className:"flex items-center justify-center h-64",children:m.jsx(mt,{size:"lg"})});const i=(e==null?void 0:e.data)||[],a=r==null?void 0:r.data,o=((h=n==null?void 0:n.data)==null?void 0:h.logs)||[],l=i.filter(_=>_.status==="active").length,p=i.filter(_=>_.is_healthy).length,g=[{name:"Active VPS Hosts",value:l,total:i.length,icon:Kr,color:"text-primary-600",bgColor:"bg-primary-100"},{name:"Healthy Hosts",value:p,total:l,icon:di,color:"text-success-600",bgColor:"bg-success-100"},{name:"Nginx Operations (24h)",value:(a==null?void 0:a.total_nginx_operations)||0,failed:(a==null?void 0:a.failed_nginx_operations)||0,icon:k_,color:"text-primary-600",bgColor:"bg-primary-100"},{name:"Recent Alerts",value:(a==null?void 0:a.recent_alerts)||0,icon:of,color:"text-warning-600",bgColor:"bg-warning-100"}];return m.jsxs("div",{className:"px-4 sm:px-6 lg:px-8",children:[m.jsx("div",{className:"sm:flex sm:items-center",children:m.jsxs("div",{className:"sm:flex-auto",children:[m.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Dashboard"}),m.jsx("p",{className:"mt-2 text-sm text-gray-700",children:"Overview of your SaaS orchestration platform"})]})}),m.jsx("div",{className:"mt-8 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:g.map((_,S)=>m.jsx("div",{className:"card",children:m.jsx("div",{className:"card-body",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:`flex-shrink-0 rounded-md p-3 ${_.bgColor}`,children:m.jsx(_.icon,{className:`h-6 w-6 ${_.color}`})}),m.jsx("div",{className:"ml-5 w-0 flex-1",children:m.jsxs("dl",{children:[m.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:_.name}),m.jsxs("dd",{className:"text-lg font-medium text-gray-900",children:[_.value,_.total!==void 0&&m.jsxs("span",{className:"text-sm text-gray-500",children:[" ","/ ",_.total]}),_.failed!==void 0&&_.failed>0&&m.jsxs("span",{className:"ml-2 text-sm text-danger-600",children:["(",_.failed," failed)"]})]})]})})]})})},S))}),m.jsxs("div",{className:"mt-8",children:[m.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Quick Actions"}),m.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[m.jsx(ui,{to:"/vps",className:"group relative rounded-lg border border-gray-300 bg-white px-6 py-5 shadow-sm hover:shadow-md transition-shadow",children:m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx(Kr,{className:"h-8 w-8 text-primary-600"}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-sm font-medium text-gray-900 group-hover:text-primary-600",children:"Manage VPS Hosts"}),m.jsx("p",{className:"text-sm text-gray-500",children:"Add, configure, and monitor VPS instances"})]})]})}),m.jsx(ui,{to:"/monitoring",className:"group relative rounded-lg border border-gray-300 bg-white px-6 py-5 shadow-sm hover:shadow-md transition-shadow",children:m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx(no,{className:"h-8 w-8 text-primary-600"}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-sm font-medium text-gray-900 group-hover:text-primary-600",children:"View Monitoring"}),m.jsx("p",{className:"text-sm text-gray-500",children:"Check metrics, alerts, and system health"})]})]})})]})]}),m.jsxs("div",{className:"mt-8",children:[m.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Activity"}),m.jsx("div",{className:"card",children:m.jsx("div",{className:"card-body",children:o.length===0?m.jsx("p",{className:"text-gray-500 text-center py-8",children:"No recent activity"}):m.jsx("div",{className:"flow-root",children:m.jsx("ul",{role:"list",className:"-mb-8",children:o.slice(0,5).map((_,S)=>m.jsx("li",{children:m.jsxs("div",{className:"relative pb-8",children:[S!==o.length-1?m.jsx("span",{className:"absolute left-4 top-4 -ml-px h-full w-0.5 bg-gray-200","aria-hidden":"true"}):null,m.jsxs("div",{className:"relative flex space-x-3",children:[m.jsx("div",{children:m.jsx("span",{className:`
                                h-8 w-8 rounded-full flex items-center justify-center ring-8 ring-white
                                ${_.status==="success"?"bg-success-500":_.status==="failed"?"bg-danger-500":"bg-gray-400"}
                              `,children:m.jsx(di,{className:"h-5 w-5 text-white","aria-hidden":"true"})})}),m.jsxs("div",{className:"flex min-w-0 flex-1 justify-between space-x-4 pt-1.5",children:[m.jsx("div",{children:m.jsxs("p",{className:"text-sm text-gray-500",children:[_.description,_.error_message&&m.jsxs("span",{className:"ml-2 text-danger-600",children:["- ",_.error_message]})]})}),m.jsx("div",{className:"whitespace-nowrap text-right text-sm text-gray-500",children:m.jsx("time",{dateTime:_.started_at,children:new Date(_.started_at).toLocaleString()})})]})]})]})},_.id))})})})})]})]})}function P5({isOpen:e,onClose:t}){const r=Fs(),[s,n]=k.useState(!1),[i,a]=k.useState(!1),[o,l]=k.useState("password"),[p,g]=k.useState({name:"",hostname:"",ip_address:"",username:"root",port:22,password:"",private_key:"",bootstrap:!0}),h=At({mutationFn:Un.onboard,onSuccess:()=>{Ie.success("VPS onboarded successfully!"),r.invalidateQueries({queryKey:["vps-hosts"]}),t(),_()},onError:c=>{var u,d;const f=((d=(u=c.response)==null?void 0:u.data)==null?void 0:d.detail)||"Failed to onboard VPS";Ie.error(f)}}),_=()=>{g({name:"",hostname:"",ip_address:"",username:"root",port:22,password:"",private_key:"",bootstrap:!0}),l("password"),n(!1),a(!1)},S=()=>{h.isPending||(t(),_())},x=c=>{var u,d;if(c.preventDefault(),!p.name.trim()){Ie.error("Please enter a VPS name");return}if(!p.hostname.trim()){Ie.error("Please enter a hostname");return}if(!p.ip_address.trim()){Ie.error("Please enter an IP address");return}if(!p.username.trim()){Ie.error("Please enter a username");return}if(o==="password"&&!((u=p.password)!=null&&u.trim())){Ie.error("Please enter a password");return}if(o==="key"&&!((d=p.private_key)!=null&&d.trim())){Ie.error("Please enter a private key");return}const f={...p,password:o==="password"?p.password:void 0,private_key:o==="key"?p.private_key:void 0};h.mutate(f)},v=(c,f)=>{g(u=>({...u,[c]:f}))};return m.jsx(Va,{show:e,as:k.Fragment,children:m.jsxs(Xc,{onClose:S,className:"relative z-50",children:[m.jsx(Va.Child,{enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:m.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),m.jsx("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:m.jsx("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:m.jsx(Va.Child,{enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:m.jsxs(Xc.Panel,{className:"relative transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-2xl sm:p-6",children:[m.jsx("div",{className:"absolute right-0 top-0 hidden pr-4 pt-4 sm:block",children:m.jsx("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500",onClick:S,disabled:h.isPending,children:m.jsx(hi,{className:"h-6 w-6"})})}),m.jsx("div",{className:"sm:flex sm:items-start",children:m.jsxs("div",{className:"w-full",children:[m.jsx(Xc.Title,{as:"h3",className:"text-base font-semibold leading-6 text-gray-900",children:"Add New VPS"}),m.jsx("div",{className:"mt-2",children:m.jsx("p",{className:"text-sm text-gray-500",children:"Onboard a new VPS server to manage Nginx configurations and deployments."})}),m.jsxs("form",{onSubmit:x,className:"mt-6 space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[m.jsx("div",{className:"sm:col-span-2",children:m.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-4",children:"Basic Information"})}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"VPS Name *"}),m.jsx("input",{type:"text",value:p.name,onChange:c=>v("name",c.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"e.g., Production Server 1",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Hostname *"}),m.jsx("input",{type:"text",value:p.hostname,onChange:c=>v("hostname",c.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"e.g., server1.example.com",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"IP Address *"}),m.jsx("input",{type:"text",value:p.ip_address,onChange:c=>v("ip_address",c.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"e.g., 192.168.1.100",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"SSH Port"}),m.jsx("input",{type:"number",value:p.port,onChange:c=>v("port",parseInt(c.target.value)||22),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",min:"1",max:"65535"})]}),m.jsx("div",{className:"sm:col-span-2",children:m.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-4",children:"SSH Authentication"})}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Username *"}),m.jsx("input",{type:"text",value:p.username,onChange:c=>v("username",c.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Authentication Method"}),m.jsxs("div",{className:"flex space-x-4",children:[m.jsxs("label",{className:"flex items-center",children:[m.jsx("input",{type:"radio",name:"authMethod",value:"password",checked:o==="password",onChange:()=>l("password"),className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300"}),m.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Password"})]}),m.jsxs("label",{className:"flex items-center",children:[m.jsx("input",{type:"radio",name:"authMethod",value:"key",checked:o==="key",onChange:()=>l("key"),className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300"}),m.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Private Key"})]})]})]}),o==="password"&&m.jsxs("div",{className:"sm:col-span-2",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password *"}),m.jsxs("div",{className:"mt-1 relative",children:[m.jsx("input",{type:s?"text":"password",value:p.password,onChange:c=>v("password",c.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 pr-10",required:!0}),m.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 flex items-center pr-3",onClick:()=>n(!s),children:s?m.jsx(Jk,{className:"h-5 w-5 text-gray-400"}):m.jsx(L_,{className:"h-5 w-5 text-gray-400"})})]})]}),o==="key"&&m.jsxs("div",{className:"sm:col-span-2",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Private Key *"}),m.jsxs("div",{className:"mt-1 relative",children:[m.jsx("textarea",{value:p.private_key,onChange:c=>v("private_key",c.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",rows:i?10:3,placeholder:`-----BEGIN PRIVATE KEY-----
...
-----END PRIVATE KEY-----`,required:!0}),m.jsx("button",{type:"button",className:"absolute top-2 right-2 text-sm text-gray-500 hover:text-gray-700",onClick:()=>a(!i),children:i?"Collapse":"Expand"})]})]}),m.jsxs("div",{className:"sm:col-span-2",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",checked:p.bootstrap,onChange:c=>v("bootstrap",c.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),m.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Bootstrap VPS (Install Docker and Nginx)"})]}),m.jsxs("div",{className:"mt-2 p-3 bg-blue-50 rounded-md",children:[m.jsx("p",{className:"text-xs text-blue-800 font-medium mb-1",children:"Bootstrap Requirements:"}),m.jsxs("ul",{className:"text-xs text-blue-700 space-y-1",children:[m.jsx("li",{children:" User must have sudo privileges"}),m.jsx("li",{children:" Internet access for package installation"}),m.jsx("li",{children:" Ubuntu/Debian or CentOS/RHEL system"})]}),m.jsx("p",{className:"text-xs text-blue-600 mt-2",children:"If bootstrap fails, the VPS will still be added but you'll need to manually install Docker and Nginx."})]})]})]}),m.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[m.jsx("button",{type:"button",onClick:S,disabled:h.isPending,className:"inline-flex justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),m.jsx("button",{type:"submit",disabled:h.isPending,className:"inline-flex justify-center rounded-md bg-primary-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-primary-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary-600 disabled:opacity-50",children:h.isPending?m.jsxs(m.Fragment,{children:[m.jsx(mt,{size:"sm",className:"mr-2"}),"Onboarding..."]}):"Add VPS"})]})]})]})})]})})})})]})})}function A5(){const e=Fs(),[t,r]=k.useState(!1),{data:s,isLoading:n}=st({queryKey:["vps-hosts"],queryFn:()=>Un.list()}),i=At({mutationFn:Un.checkHealth,onSuccess:()=>{Ie.success("Health check completed"),e.invalidateQueries({queryKey:["vps-hosts"]})},onError:()=>{Ie.error("Health check failed")}}),a=At({mutationFn:Un.delete,onSuccess:()=>{Ie.success("VPS deleted successfully"),e.invalidateQueries({queryKey:["vps-hosts"]})},onError:p=>{var h,_;const g=((_=(h=p.response)==null?void 0:h.data)==null?void 0:_.detail)||"Failed to delete VPS";Ie.error(g)}});if(n)return m.jsx("div",{className:"flex items-center justify-center h-64",children:m.jsx(mt,{size:"lg"})});const o=(s==null?void 0:s.data)||[],l=p=>{switch(p){case"active":return"status-indicator success";case"pending":return"status-indicator info";case"error":return"status-indicator danger";case"inactive":return"status-indicator warning";default:return"status-indicator"}};return m.jsxs("div",{className:"px-4 sm:px-6 lg:px-8",children:[m.jsxs("div",{className:"sm:flex sm:items-center",children:[m.jsxs("div",{className:"sm:flex-auto",children:[m.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"VPS Management"}),m.jsx("p",{className:"mt-2 text-sm text-gray-700",children:"Manage your VPS hosts and their configurations"})]}),m.jsx("div",{className:"mt-4 sm:ml-16 sm:mt-0 sm:flex-none",children:m.jsxs("button",{type:"button",className:"btn-primary",onClick:()=>r(!0),children:[m.jsx(Ro,{className:"h-4 w-4 mr-2"}),"Add VPS"]})})]}),m.jsx("div",{className:"mt-8 flow-root",children:m.jsx("div",{className:"-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:m.jsx("div",{className:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8",children:m.jsx("div",{className:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg",children:m.jsxs("table",{className:"min-w-full divide-y divide-gray-300",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wide",children:"VPS Host"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Status"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Services"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Last Check"}),m.jsx("th",{scope:"col",className:"relative px-6 py-3",children:m.jsx("span",{className:"sr-only",children:"Actions"})})]})}),m.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:o.length===0?m.jsx("tr",{children:m.jsxs("td",{colSpan:5,className:"px-6 py-12 text-center text-sm text-gray-500",children:["No VPS hosts configured yet."," ",m.jsx("button",{className:"text-primary-600 hover:text-primary-500",onClick:()=>r(!0),children:"Add your first VPS"})]})}):o.map(p=>m.jsxs("tr",{children:[m.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx(Kr,{className:"h-10 w-10 text-gray-400"}),m.jsxs("div",{className:"ml-4",children:[m.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.name}),m.jsx("div",{className:"text-sm text-gray-500",children:p.ip_address})]})]})}),m.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:m.jsx("span",{className:l(p.status),children:p.status})}),m.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-500",children:m.jsxs("div",{children:[p.docker_version&&m.jsxs("div",{children:["Docker: ",p.docker_version]}),p.nginx_version&&m.jsxs("div",{children:["Nginx: ",p.nginx_version]})]})}),m.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-500",children:p.last_successful_connection?m.jsx("time",{dateTime:p.last_successful_connection,children:new Date(p.last_successful_connection).toLocaleString()}):"Never"}),m.jsx("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6",children:m.jsxs("div",{className:"flex justify-end items-center space-x-3",children:[m.jsx("button",{onClick:()=>i.mutate(p.id),disabled:i.isPending,className:"text-primary-600 hover:text-primary-900",children:i.isPending&&i.variables===p.id?m.jsx(mt,{size:"sm"}):"Check Health"}),m.jsxs(ui,{to:`/vps/${p.id}`,className:"bg-primary-600 hover:bg-primary-700 text-white px-3 py-1.5 rounded-md inline-flex items-center text-sm font-medium transition-colors",title:"Access VPS Dashboard (Terminal, Docker, Containers)",children:[m.jsx(Kr,{className:"h-4 w-4 mr-1"}),"Manage"]}),m.jsxs(ui,{to:`/vps/${p.id}/nginx`,className:"text-primary-600 hover:text-primary-900 inline-flex items-center",children:[m.jsx(k_,{className:"h-4 w-4 mr-1"}),"Nginx Config"]}),m.jsx("button",{onClick:()=>{confirm(`Are you sure you want to delete ${p.name}? This action cannot be undone.`)&&a.mutate(p.id)},disabled:a.isPending,className:"text-red-600 hover:text-red-900 inline-flex items-center",children:a.isPending&&a.variables===p.id?m.jsx(mt,{size:"sm"}):m.jsx(hc,{className:"h-4 w-4"})})]})})]},p.id))})]})})})})}),m.jsx(P5,{isOpen:t,onClose:()=>r(!1)})]})}var N_={exports:{}};(function(e,t){(function(r,s){e.exports=s()})(self,()=>(()=>{var r={4567:function(a,o,l){var p=this&&this.__decorate||function(d,y,w,C){var R,b=arguments.length,E=b<3?y:C===null?C=Object.getOwnPropertyDescriptor(y,w):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(d,y,w,C);else for(var D=d.length-1;D>=0;D--)(R=d[D])&&(E=(b<3?R(E):b>3?R(y,w,E):R(y,w))||E);return b>3&&E&&Object.defineProperty(y,w,E),E},g=this&&this.__param||function(d,y){return function(w,C){y(w,C,d)}};Object.defineProperty(o,"__esModule",{value:!0}),o.AccessibilityManager=void 0;const h=l(9042),_=l(6114),S=l(9924),x=l(844),v=l(5596),c=l(4725),f=l(3656);let u=o.AccessibilityManager=class extends x.Disposable{constructor(d,y){super(),this._terminal=d,this._renderService=y,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let w=0;w<this._terminal.rows;w++)this._rowElements[w]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[w]);if(this._topBoundaryFocusListener=w=>this._handleBoundaryFocus(w,0),this._bottomBoundaryFocusListener=w=>this._handleBoundaryFocus(w,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new S.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(w=>this._handleResize(w.rows))),this.register(this._terminal.onRender(w=>this._refreshRows(w.start,w.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(w=>this._handleChar(w))),this.register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this.register(this._terminal.onA11yTab(w=>this._handleTab(w))),this.register(this._terminal.onKey(w=>this._handleKey(w.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new v.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register((0,f.addDisposableDomListener)(window,"resize",()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,x.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(d){for(let y=0;y<d;y++)this._handleChar(" ")}_handleChar(d){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==d&&(this._charsToAnnounce+=d):this._charsToAnnounce+=d,d===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=h.tooMuchOutput)),_.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityContainer.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,_.isMac&&this._liveRegion.remove()}_handleKey(d){this._clearLiveRegion(),/\p{Control}/u.test(d)||this._charsToConsume.push(d)}_refreshRows(d,y){this._liveRegionDebouncer.refresh(d,y,this._terminal.rows)}_renderRows(d,y){const w=this._terminal.buffer,C=w.lines.length.toString();for(let R=d;R<=y;R++){const b=w.translateBufferLineToString(w.ydisp+R,!0),E=(w.ydisp+R+1).toString(),D=this._rowElements[R];D&&(b.length===0?D.innerText="":D.textContent=b,D.setAttribute("aria-posinset",E),D.setAttribute("aria-setsize",C))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(d,y){const w=d.target,C=this._rowElements[y===0?1:this._rowElements.length-2];if(w.getAttribute("aria-posinset")===(y===0?"1":`${this._terminal.buffer.lines.length}`)||d.relatedTarget!==C)return;let R,b;if(y===0?(R=w,b=this._rowElements.pop(),this._rowContainer.removeChild(b)):(R=this._rowElements.shift(),b=w,this._rowContainer.removeChild(R)),R.removeEventListener("focus",this._topBoundaryFocusListener),b.removeEventListener("focus",this._bottomBoundaryFocusListener),y===0){const E=this._createAccessibilityTreeNode();this._rowElements.unshift(E),this._rowContainer.insertAdjacentElement("afterbegin",E)}else{const E=this._createAccessibilityTreeNode();this._rowElements.push(E),this._rowContainer.appendChild(E)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(y===0?-1:1),this._rowElements[y===0?1:this._rowElements.length-2].focus(),d.preventDefault(),d.stopImmediatePropagation()}_handleResize(d){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let y=this._rowContainer.children.length;y<this._terminal.rows;y++)this._rowElements[y]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[y]);for(;this._rowElements.length>d;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const d=document.createElement("div");return d.setAttribute("role","listitem"),d.tabIndex=-1,this._refreshRowDimensions(d),d}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let d=0;d<this._terminal.rows;d++)this._refreshRowDimensions(this._rowElements[d])}}_refreshRowDimensions(d){d.style.height=`${this._renderService.dimensions.css.cell.height}px`}};o.AccessibilityManager=u=p([g(1,c.IRenderService)],u)},3614:(a,o)=>{function l(_){return _.replace(/\r?\n/g,"\r")}function p(_,S){return S?"\x1B[200~"+_+"\x1B[201~":_}function g(_,S,x,v){_=p(_=l(_),x.decPrivateModes.bracketedPasteMode&&v.rawOptions.ignoreBracketedPasteMode!==!0),x.triggerDataEvent(_,!0),S.value=""}function h(_,S,x){const v=x.getBoundingClientRect(),c=_.clientX-v.left-10,f=_.clientY-v.top-10;S.style.width="20px",S.style.height="20px",S.style.left=`${c}px`,S.style.top=`${f}px`,S.style.zIndex="1000",S.focus()}Object.defineProperty(o,"__esModule",{value:!0}),o.rightClickHandler=o.moveTextAreaUnderMouseCursor=o.paste=o.handlePasteEvent=o.copyHandler=o.bracketTextForPaste=o.prepareTextForTerminal=void 0,o.prepareTextForTerminal=l,o.bracketTextForPaste=p,o.copyHandler=function(_,S){_.clipboardData&&_.clipboardData.setData("text/plain",S.selectionText),_.preventDefault()},o.handlePasteEvent=function(_,S,x,v){_.stopPropagation(),_.clipboardData&&g(_.clipboardData.getData("text/plain"),S,x,v)},o.paste=g,o.moveTextAreaUnderMouseCursor=h,o.rightClickHandler=function(_,S,x,v,c){h(_,S,x),c&&v.rightClickSelect(_),S.value=v.selectionText,S.select()}},7239:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ColorContrastCache=void 0;const p=l(1505);o.ColorContrastCache=class{constructor(){this._color=new p.TwoKeyMap,this._css=new p.TwoKeyMap}setCss(g,h,_){this._css.set(g,h,_)}getCss(g,h){return this._css.get(g,h)}setColor(g,h,_){this._color.set(g,h,_)}getColor(g,h){return this._color.get(g,h)}clear(){this._color.clear(),this._css.clear()}}},3656:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.addDisposableDomListener=void 0,o.addDisposableDomListener=function(l,p,g,h){l.addEventListener(p,g,h);let _=!1;return{dispose:()=>{_||(_=!0,l.removeEventListener(p,g,h))}}}},6465:function(a,o,l){var p=this&&this.__decorate||function(c,f,u,d){var y,w=arguments.length,C=w<3?f:d===null?d=Object.getOwnPropertyDescriptor(f,u):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(c,f,u,d);else for(var R=c.length-1;R>=0;R--)(y=c[R])&&(C=(w<3?y(C):w>3?y(f,u,C):y(f,u))||C);return w>3&&C&&Object.defineProperty(f,u,C),C},g=this&&this.__param||function(c,f){return function(u,d){f(u,d,c)}};Object.defineProperty(o,"__esModule",{value:!0}),o.Linkifier2=void 0;const h=l(3656),_=l(8460),S=l(844),x=l(2585);let v=o.Linkifier2=class extends S.Disposable{get currentLink(){return this._currentLink}constructor(c){super(),this._bufferService=c,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new _.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new _.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,S.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,S.toDisposable)(()=>{this._lastMouseEvent=void 0})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0}))}registerLinkProvider(c){return this._linkProviders.push(c),{dispose:()=>{const f=this._linkProviders.indexOf(c);f!==-1&&this._linkProviders.splice(f,1)}}}attachToDom(c,f,u){this._element=c,this._mouseService=f,this._renderService=u,this.register((0,h.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,h.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,h.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,h.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(c){if(this._lastMouseEvent=c,!this._element||!this._mouseService)return;const f=this._positionFromMouseEvent(c,this._element,this._mouseService);if(!f)return;this._isMouseOut=!1;const u=c.composedPath();for(let d=0;d<u.length;d++){const y=u[d];if(y.classList.contains("xterm"))break;if(y.classList.contains("xterm-hover"))return}this._lastBufferCell&&f.x===this._lastBufferCell.x&&f.y===this._lastBufferCell.y||(this._handleHover(f),this._lastBufferCell=f)}_handleHover(c){if(this._activeLine!==c.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(c,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,c)||(this._clearCurrentLink(),this._askForLink(c,!0))}_askForLink(c,f){var u,d;this._activeProviderReplies&&f||((u=this._activeProviderReplies)===null||u===void 0||u.forEach(w=>{w==null||w.forEach(C=>{C.link.dispose&&C.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=c.y);let y=!1;for(const[w,C]of this._linkProviders.entries())f?!((d=this._activeProviderReplies)===null||d===void 0)&&d.get(w)&&(y=this._checkLinkProviderResult(w,c,y)):C.provideLinks(c.y,R=>{var b,E;if(this._isMouseOut)return;const D=R==null?void 0:R.map(O=>({link:O}));(b=this._activeProviderReplies)===null||b===void 0||b.set(w,D),y=this._checkLinkProviderResult(w,c,y),((E=this._activeProviderReplies)===null||E===void 0?void 0:E.size)===this._linkProviders.length&&this._removeIntersectingLinks(c.y,this._activeProviderReplies)})}_removeIntersectingLinks(c,f){const u=new Set;for(let d=0;d<f.size;d++){const y=f.get(d);if(y)for(let w=0;w<y.length;w++){const C=y[w],R=C.link.range.start.y<c?0:C.link.range.start.x,b=C.link.range.end.y>c?this._bufferService.cols:C.link.range.end.x;for(let E=R;E<=b;E++){if(u.has(E)){y.splice(w--,1);break}u.add(E)}}}}_checkLinkProviderResult(c,f,u){var d;if(!this._activeProviderReplies)return u;const y=this._activeProviderReplies.get(c);let w=!1;for(let C=0;C<c;C++)this._activeProviderReplies.has(C)&&!this._activeProviderReplies.get(C)||(w=!0);if(!w&&y){const C=y.find(R=>this._linkAtPosition(R.link,f));C&&(u=!0,this._handleNewLink(C))}if(this._activeProviderReplies.size===this._linkProviders.length&&!u)for(let C=0;C<this._activeProviderReplies.size;C++){const R=(d=this._activeProviderReplies.get(C))===null||d===void 0?void 0:d.find(b=>this._linkAtPosition(b.link,f));if(R){u=!0,this._handleNewLink(R);break}}return u}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(c){if(!this._element||!this._mouseService||!this._currentLink)return;const f=this._positionFromMouseEvent(c,this._element,this._mouseService);f&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,f)&&this._currentLink.link.activate(c,this._currentLink.link.text)}_clearCurrentLink(c,f){this._element&&this._currentLink&&this._lastMouseEvent&&(!c||!f||this._currentLink.link.range.start.y>=c&&this._currentLink.link.range.end.y<=f)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,S.disposeArray)(this._linkCacheDisposables))}_handleNewLink(c){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const f=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);f&&this._linkAtPosition(c.link,f)&&(this._currentLink=c,this._currentLink.state={decorations:{underline:c.link.decorations===void 0||c.link.decorations.underline,pointerCursor:c.link.decorations===void 0||c.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,c.link,this._lastMouseEvent),c.link.decorations={},Object.defineProperties(c.link.decorations,{pointerCursor:{get:()=>{var u,d;return(d=(u=this._currentLink)===null||u===void 0?void 0:u.state)===null||d===void 0?void 0:d.decorations.pointerCursor},set:u=>{var d,y;!((d=this._currentLink)===null||d===void 0)&&d.state&&this._currentLink.state.decorations.pointerCursor!==u&&(this._currentLink.state.decorations.pointerCursor=u,this._currentLink.state.isHovered&&((y=this._element)===null||y===void 0||y.classList.toggle("xterm-cursor-pointer",u)))}},underline:{get:()=>{var u,d;return(d=(u=this._currentLink)===null||u===void 0?void 0:u.state)===null||d===void 0?void 0:d.decorations.underline},set:u=>{var d,y,w;!((d=this._currentLink)===null||d===void 0)&&d.state&&((w=(y=this._currentLink)===null||y===void 0?void 0:y.state)===null||w===void 0?void 0:w.decorations.underline)!==u&&(this._currentLink.state.decorations.underline=u,this._currentLink.state.isHovered&&this._fireUnderlineEvent(c.link,u))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(u=>{if(!this._currentLink)return;const d=u.start===0?0:u.start+1+this._bufferService.buffer.ydisp,y=this._bufferService.buffer.ydisp+1+u.end;if(this._currentLink.link.range.start.y>=d&&this._currentLink.link.range.end.y<=y&&(this._clearCurrentLink(d,y),this._lastMouseEvent&&this._element)){const w=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);w&&this._askForLink(w,!1)}})))}_linkHover(c,f,u){var d;!((d=this._currentLink)===null||d===void 0)&&d.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(f,!0),this._currentLink.state.decorations.pointerCursor&&c.classList.add("xterm-cursor-pointer")),f.hover&&f.hover(u,f.text)}_fireUnderlineEvent(c,f){const u=c.range,d=this._bufferService.buffer.ydisp,y=this._createLinkUnderlineEvent(u.start.x-1,u.start.y-d-1,u.end.x,u.end.y-d-1,void 0);(f?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(y)}_linkLeave(c,f,u){var d;!((d=this._currentLink)===null||d===void 0)&&d.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(f,!1),this._currentLink.state.decorations.pointerCursor&&c.classList.remove("xterm-cursor-pointer")),f.leave&&f.leave(u,f.text)}_linkAtPosition(c,f){const u=c.range.start.y*this._bufferService.cols+c.range.start.x,d=c.range.end.y*this._bufferService.cols+c.range.end.x,y=f.y*this._bufferService.cols+f.x;return u<=y&&y<=d}_positionFromMouseEvent(c,f,u){const d=u.getCoords(c,f,this._bufferService.cols,this._bufferService.rows);if(d)return{x:d[0],y:d[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(c,f,u,d,y){return{x1:c,y1:f,x2:u,y2:d,cols:this._bufferService.cols,fg:y}}};o.Linkifier2=v=p([g(0,x.IBufferService)],v)},9042:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.tooMuchOutput=o.promptLabel=void 0,o.promptLabel="Terminal input",o.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(a,o,l){var p=this&&this.__decorate||function(v,c,f,u){var d,y=arguments.length,w=y<3?c:u===null?u=Object.getOwnPropertyDescriptor(c,f):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(v,c,f,u);else for(var C=v.length-1;C>=0;C--)(d=v[C])&&(w=(y<3?d(w):y>3?d(c,f,w):d(c,f))||w);return y>3&&w&&Object.defineProperty(c,f,w),w},g=this&&this.__param||function(v,c){return function(f,u){c(f,u,v)}};Object.defineProperty(o,"__esModule",{value:!0}),o.OscLinkProvider=void 0;const h=l(511),_=l(2585);let S=o.OscLinkProvider=class{constructor(v,c,f){this._bufferService=v,this._optionsService=c,this._oscLinkService=f}provideLinks(v,c){var f;const u=this._bufferService.buffer.lines.get(v-1);if(!u)return void c(void 0);const d=[],y=this._optionsService.rawOptions.linkHandler,w=new h.CellData,C=u.getTrimmedLength();let R=-1,b=-1,E=!1;for(let D=0;D<C;D++)if(b!==-1||u.hasContent(D)){if(u.loadCell(D,w),w.hasExtendedAttrs()&&w.extended.urlId){if(b===-1){b=D,R=w.extended.urlId;continue}E=w.extended.urlId!==R}else b!==-1&&(E=!0);if(E||b!==-1&&D===C-1){const O=(f=this._oscLinkService.getLinkData(R))===null||f===void 0?void 0:f.uri;if(O){const N={start:{x:b+1,y:v},end:{x:D+(E||D!==C-1?0:1),y:v}};let A=!1;if(!(y!=null&&y.allowNonHttpProtocols))try{const H=new URL(O);["http:","https:"].includes(H.protocol)||(A=!0)}catch{A=!0}A||d.push({text:O,range:N,activate:(H,W)=>y?y.activate(H,W,N):x(0,W),hover:(H,W)=>{var K;return(K=y==null?void 0:y.hover)===null||K===void 0?void 0:K.call(y,H,W,N)},leave:(H,W)=>{var K;return(K=y==null?void 0:y.leave)===null||K===void 0?void 0:K.call(y,H,W,N)}})}E=!1,w.hasExtendedAttrs()&&w.extended.urlId?(b=D,R=w.extended.urlId):(b=-1,R=-1)}}c(d)}};function x(v,c){if(confirm(`Do you want to navigate to ${c}?

WARNING: This link could potentially be dangerous`)){const f=window.open();if(f){try{f.opener=null}catch{}f.location.href=c}else console.warn("Opening link blocked as opener could not be cleared")}}o.OscLinkProvider=S=p([g(0,_.IBufferService),g(1,_.IOptionsService),g(2,_.IOscLinkService)],S)},6193:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.RenderDebouncer=void 0,o.RenderDebouncer=class{constructor(l,p){this._parentWindow=l,this._renderCallback=p,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(l){return this._refreshCallbacks.push(l),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(l,p,g){this._rowCount=g,l=l!==void 0?l:0,p=p!==void 0?p:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,l):l,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,p):p,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const l=Math.max(this._rowStart,0),p=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(l,p),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const l of this._refreshCallbacks)l(0);this._refreshCallbacks=[]}}},5596:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ScreenDprMonitor=void 0;const p=l(844);class g extends p.Disposable{constructor(_){super(),this._parentWindow=_,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,p.toDisposable)(()=>{this.clearListener()}))}setListener(_){this._listener&&this.clearListener(),this._listener=_,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var _;this._outerListener&&((_=this._resolutionMediaMatchList)===null||_===void 0||_.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}o.ScreenDprMonitor=g},3236:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Terminal=void 0;const p=l(3614),g=l(3656),h=l(6465),_=l(9042),S=l(3730),x=l(1680),v=l(3107),c=l(5744),f=l(2950),u=l(1296),d=l(428),y=l(4269),w=l(5114),C=l(8934),R=l(3230),b=l(9312),E=l(4725),D=l(6731),O=l(8055),N=l(8969),A=l(8460),H=l(844),W=l(6114),K=l(8437),z=l(2584),L=l(7399),T=l(5941),P=l(9074),M=l(2585),V=l(5435),J=l(4567),re=typeof window<"u"?window.document:null;class ne extends N.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(j={}){super(j),this.browser=W,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new H.MutableDisposable),this._onCursorMove=this.register(new A.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new A.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new A.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new A.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new A.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new A.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new A.EventEmitter),this._onBlur=this.register(new A.EventEmitter),this._onA11yCharEmitter=this.register(new A.EventEmitter),this._onA11yTabEmitter=this.register(new A.EventEmitter),this._onWillOpen=this.register(new A.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(h.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(S.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(P.DecorationService),this._instantiationService.setService(M.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((F,G)=>this.refresh(F,G))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(F=>this._reportWindowsOptions(F))),this.register(this._inputHandler.onColor(F=>this._handleColorEvent(F))),this.register((0,A.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,A.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,A.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,A.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(F=>this._afterResize(F.cols,F.rows))),this.register((0,H.toDisposable)(()=>{var F,G;this._customKeyEventHandler=void 0,(G=(F=this.element)===null||F===void 0?void 0:F.parentNode)===null||G===void 0||G.removeChild(this.element)}))}_handleColorEvent(j){if(this._themeService)for(const F of j){let G,Q="";switch(F.index){case 256:G="foreground",Q="10";break;case 257:G="background",Q="11";break;case 258:G="cursor",Q="12";break;default:G="ansi",Q="4;"+F.index}switch(F.type){case 0:const ie=O.color.toColorRGB(G==="ansi"?this._themeService.colors.ansi[F.index]:this._themeService.colors[G]);this.coreService.triggerDataEvent(`${z.C0.ESC}]${Q};${(0,T.toRgbString)(ie)}${z.C1_ESCAPED.ST}`);break;case 1:if(G==="ansi")this._themeService.modifyColors(te=>te.ansi[F.index]=O.rgba.toColor(...F.color));else{const te=G;this._themeService.modifyColors(de=>de[te]=O.rgba.toColor(...F.color))}break;case 2:this._themeService.restoreColor(F.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(j){j?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(J.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(j){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(z.C0.ESC+"[I"),this.updateCursorStyle(j),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var j;return(j=this.textarea)===null||j===void 0?void 0:j.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(z.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const j=this.buffer.ybase+this.buffer.y,F=this.buffer.lines.get(j);if(!F)return;const G=Math.min(this.buffer.x,this.cols-1),Q=this._renderService.dimensions.css.cell.height,ie=F.getWidth(G),te=this._renderService.dimensions.css.cell.width*ie,de=this.buffer.y*this._renderService.dimensions.css.cell.height,Ee=G*this._renderService.dimensions.css.cell.width;this.textarea.style.left=Ee+"px",this.textarea.style.top=de+"px",this.textarea.style.width=te+"px",this.textarea.style.height=Q+"px",this.textarea.style.lineHeight=Q+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,g.addDisposableDomListener)(this.element,"copy",F=>{this.hasSelection()&&(0,p.copyHandler)(F,this._selectionService)}));const j=F=>(0,p.handlePasteEvent)(F,this.textarea,this.coreService,this.optionsService);this.register((0,g.addDisposableDomListener)(this.textarea,"paste",j)),this.register((0,g.addDisposableDomListener)(this.element,"paste",j)),W.isFirefox?this.register((0,g.addDisposableDomListener)(this.element,"mousedown",F=>{F.button===2&&(0,p.rightClickHandler)(F,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,g.addDisposableDomListener)(this.element,"contextmenu",F=>{(0,p.rightClickHandler)(F,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),W.isLinux&&this.register((0,g.addDisposableDomListener)(this.element,"auxclick",F=>{F.button===1&&(0,p.moveTextAreaUnderMouseCursor)(F,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,g.addDisposableDomListener)(this.textarea,"keyup",j=>this._keyUp(j),!0)),this.register((0,g.addDisposableDomListener)(this.textarea,"keydown",j=>this._keyDown(j),!0)),this.register((0,g.addDisposableDomListener)(this.textarea,"keypress",j=>this._keyPress(j),!0)),this.register((0,g.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,g.addDisposableDomListener)(this.textarea,"compositionupdate",j=>this._compositionHelper.compositionupdate(j))),this.register((0,g.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,g.addDisposableDomListener)(this.textarea,"input",j=>this._inputEvent(j),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(j){var F;if(!j)throw new Error("Terminal requires a parent element.");j.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=j.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),j.appendChild(this.element);const G=re.createDocumentFragment();this._viewportElement=re.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),G.appendChild(this._viewportElement),this._viewportScrollArea=re.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=re.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=re.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),G.appendChild(this.screenElement),this.textarea=re.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",_.promptLabel),W.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(w.CoreBrowserService,this.textarea,(F=this._document.defaultView)!==null&&F!==void 0?F:window),this._instantiationService.setService(E.ICoreBrowserService,this._coreBrowserService),this.register((0,g.addDisposableDomListener)(this.textarea,"focus",Q=>this._handleTextAreaFocus(Q))),this.register((0,g.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(d.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(E.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(D.ThemeService),this._instantiationService.setService(E.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(y.CharacterJoinerService),this._instantiationService.setService(E.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(R.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(E.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(Q=>this._onRender.fire(Q))),this.onResize(Q=>this._renderService.resize(Q.cols,Q.rows)),this._compositionView=re.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(f.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(G);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(C.MouseService),this._instantiationService.setService(E.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(x.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(Q=>this.scrollLines(Q.amount,Q.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(b.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(E.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(Q=>this.scrollLines(Q.amount,Q.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(Q=>this._renderService.handleSelectionChanged(Q.start,Q.end,Q.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(Q=>{this.textarea.value=Q,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(Q=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,g.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(v.BufferDecorationRenderer,this.screenElement)),this.register((0,g.addDisposableDomListener)(this.element,"mousedown",Q=>this._selectionService.handleMouseDown(Q))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(J.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",Q=>this._handleScreenReaderModeOptionChange(Q))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(c.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",Q=>{!this._overviewRulerRenderer&&Q&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(c.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(u.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const j=this,F=this.element;function G(te){const de=j._mouseService.getMouseReportCoords(te,j.screenElement);if(!de)return!1;let Ee,ot;switch(te.overrideType||te.type){case"mousemove":ot=32,te.buttons===void 0?(Ee=3,te.button!==void 0&&(Ee=te.button<3?te.button:3)):Ee=1&te.buttons?0:4&te.buttons?1:2&te.buttons?2:3;break;case"mouseup":ot=0,Ee=te.button<3?te.button:3;break;case"mousedown":ot=1,Ee=te.button<3?te.button:3;break;case"wheel":if(j.viewport.getLinesScrolled(te)===0)return!1;ot=te.deltaY<0?0:1,Ee=4;break;default:return!1}return!(ot===void 0||Ee===void 0||Ee>4)&&j.coreMouseService.triggerMouseEvent({col:de.col,row:de.row,x:de.x,y:de.y,button:Ee,action:ot,ctrl:te.ctrlKey,alt:te.altKey,shift:te.shiftKey})}const Q={mouseup:null,wheel:null,mousedrag:null,mousemove:null},ie={mouseup:te=>(G(te),te.buttons||(this._document.removeEventListener("mouseup",Q.mouseup),Q.mousedrag&&this._document.removeEventListener("mousemove",Q.mousedrag)),this.cancel(te)),wheel:te=>(G(te),this.cancel(te,!0)),mousedrag:te=>{te.buttons&&G(te)},mousemove:te=>{te.buttons||G(te)}};this.register(this.coreMouseService.onProtocolChange(te=>{te?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(te)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&te?Q.mousemove||(F.addEventListener("mousemove",ie.mousemove),Q.mousemove=ie.mousemove):(F.removeEventListener("mousemove",Q.mousemove),Q.mousemove=null),16&te?Q.wheel||(F.addEventListener("wheel",ie.wheel,{passive:!1}),Q.wheel=ie.wheel):(F.removeEventListener("wheel",Q.wheel),Q.wheel=null),2&te?Q.mouseup||(F.addEventListener("mouseup",ie.mouseup),Q.mouseup=ie.mouseup):(this._document.removeEventListener("mouseup",Q.mouseup),F.removeEventListener("mouseup",Q.mouseup),Q.mouseup=null),4&te?Q.mousedrag||(Q.mousedrag=ie.mousedrag):(this._document.removeEventListener("mousemove",Q.mousedrag),Q.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,g.addDisposableDomListener)(F,"mousedown",te=>{if(te.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(te))return G(te),Q.mouseup&&this._document.addEventListener("mouseup",Q.mouseup),Q.mousedrag&&this._document.addEventListener("mousemove",Q.mousedrag),this.cancel(te)})),this.register((0,g.addDisposableDomListener)(F,"wheel",te=>{if(!Q.wheel){if(!this.buffer.hasScrollback){const de=this.viewport.getLinesScrolled(te);if(de===0)return;const Ee=z.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(te.deltaY<0?"A":"B");let ot="";for(let Xr=0;Xr<Math.abs(de);Xr++)ot+=Ee;return this.coreService.triggerDataEvent(ot,!0),this.cancel(te,!0)}return this.viewport.handleWheel(te)?this.cancel(te):void 0}},{passive:!1})),this.register((0,g.addDisposableDomListener)(F,"touchstart",te=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(te),this.cancel(te)},{passive:!0})),this.register((0,g.addDisposableDomListener)(F,"touchmove",te=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(te)?void 0:this.cancel(te)},{passive:!1}))}refresh(j,F){var G;(G=this._renderService)===null||G===void 0||G.refreshRows(j,F)}updateCursorStyle(j){var F;!((F=this._selectionService)===null||F===void 0)&&F.shouldColumnSelect(j)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(j,F,G=0){var Q;G===1?(super.scrollLines(j,F,G),this.refresh(0,this.rows-1)):(Q=this.viewport)===null||Q===void 0||Q.scrollLines(j)}paste(j){(0,p.paste)(j,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(j){this._customKeyEventHandler=j}registerLinkProvider(j){return this.linkifier2.registerLinkProvider(j)}registerCharacterJoiner(j){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const F=this._characterJoinerService.register(j);return this.refresh(0,this.rows-1),F}deregisterCharacterJoiner(j){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(j)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(j){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+j)}registerDecoration(j){return this._decorationService.registerDecoration(j)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(j,F,G){this._selectionService.setSelection(j,F,G)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var j;(j=this._selectionService)===null||j===void 0||j.clearSelection()}selectAll(){var j;(j=this._selectionService)===null||j===void 0||j.selectAll()}selectLines(j,F){var G;(G=this._selectionService)===null||G===void 0||G.selectLines(j,F)}_keyDown(j){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(j)===!1)return!1;const F=this.browser.isMac&&this.options.macOptionIsMeta&&j.altKey;if(!F&&!this._compositionHelper.keydown(j))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;F||j.key!=="Dead"&&j.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const G=(0,L.evaluateKeyboardEvent)(j,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(j),G.type===3||G.type===2){const Q=this.rows-1;return this.scrollLines(G.type===2?-Q:Q),this.cancel(j,!0)}return G.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,j)||(G.cancel&&this.cancel(j,!0),!G.key||!!(j.key&&!j.ctrlKey&&!j.altKey&&!j.metaKey&&j.key.length===1&&j.key.charCodeAt(0)>=65&&j.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(G.key!==z.C0.ETX&&G.key!==z.C0.CR||(this.textarea.value=""),this._onKey.fire({key:G.key,domEvent:j}),this._showCursor(),this.coreService.triggerDataEvent(G.key,!0),!this.optionsService.rawOptions.screenReaderMode||j.altKey||j.ctrlKey?this.cancel(j,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(j,F){const G=j.isMac&&!this.options.macOptionIsMeta&&F.altKey&&!F.ctrlKey&&!F.metaKey||j.isWindows&&F.altKey&&F.ctrlKey&&!F.metaKey||j.isWindows&&F.getModifierState("AltGraph");return F.type==="keypress"?G:G&&(!F.keyCode||F.keyCode>47)}_keyUp(j){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(j)===!1||(function(F){return F.keyCode===16||F.keyCode===17||F.keyCode===18}(j)||this.focus(),this.updateCursorStyle(j),this._keyPressHandled=!1)}_keyPress(j){let F;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(j)===!1)return!1;if(this.cancel(j),j.charCode)F=j.charCode;else if(j.which===null||j.which===void 0)F=j.keyCode;else{if(j.which===0||j.charCode===0)return!1;F=j.which}return!(!F||(j.altKey||j.ctrlKey||j.metaKey)&&!this._isThirdLevelShift(this.browser,j)||(F=String.fromCharCode(F),this._onKey.fire({key:F,domEvent:j}),this._showCursor(),this.coreService.triggerDataEvent(F,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(j){if(j.data&&j.inputType==="insertText"&&(!j.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const F=j.data;return this.coreService.triggerDataEvent(F,!0),this.cancel(j),!0}return!1}resize(j,F){j!==this.cols||F!==this.rows?super.resize(j,F):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(j,F){var G,Q;(G=this._charSizeService)===null||G===void 0||G.measure(),(Q=this.viewport)===null||Q===void 0||Q.syncScrollArea(!0)}clear(){var j;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let F=1;F<this.rows;F++)this.buffer.lines.push(this.buffer.getBlankLine(K.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),(j=this.viewport)===null||j===void 0||j.reset(),this.refresh(0,this.rows-1)}}reset(){var j,F;this.options.rows=this.rows,this.options.cols=this.cols;const G=this._customKeyEventHandler;this._setup(),super.reset(),(j=this._selectionService)===null||j===void 0||j.reset(),this._decorationService.reset(),(F=this.viewport)===null||F===void 0||F.reset(),this._customKeyEventHandler=G,this.refresh(0,this.rows-1)}clearTextureAtlas(){var j;(j=this._renderService)===null||j===void 0||j.clearTextureAtlas()}_reportFocus(){var j;!((j=this.element)===null||j===void 0)&&j.classList.contains("focus")?this.coreService.triggerDataEvent(z.C0.ESC+"[I"):this.coreService.triggerDataEvent(z.C0.ESC+"[O")}_reportWindowsOptions(j){if(this._renderService)switch(j){case V.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const F=this._renderService.dimensions.css.canvas.width.toFixed(0),G=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${z.C0.ESC}[4;${G};${F}t`);break;case V.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const Q=this._renderService.dimensions.css.cell.width.toFixed(0),ie=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${z.C0.ESC}[6;${ie};${Q}t`)}}cancel(j,F){if(this.options.cancelEvents||F)return j.preventDefault(),j.stopPropagation(),!1}}o.Terminal=ne},9924:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TimeBasedDebouncer=void 0,o.TimeBasedDebouncer=class{constructor(l,p=1e3){this._renderCallback=l,this._debounceThresholdMS=p,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(l,p,g){this._rowCount=g,l=l!==void 0?l:0,p=p!==void 0?p:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,l):l,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,p):p;const h=Date.now();if(h-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=h,this._innerRefresh();else if(!this._additionalRefreshRequested){const _=h-this._lastRefreshMs,S=this._debounceThresholdMS-_;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},S)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const l=Math.max(this._rowStart,0),p=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(l,p)}}},1680:function(a,o,l){var p=this&&this.__decorate||function(f,u,d,y){var w,C=arguments.length,R=C<3?u:y===null?y=Object.getOwnPropertyDescriptor(u,d):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(f,u,d,y);else for(var b=f.length-1;b>=0;b--)(w=f[b])&&(R=(C<3?w(R):C>3?w(u,d,R):w(u,d))||R);return C>3&&R&&Object.defineProperty(u,d,R),R},g=this&&this.__param||function(f,u){return function(d,y){u(d,y,f)}};Object.defineProperty(o,"__esModule",{value:!0}),o.Viewport=void 0;const h=l(3656),_=l(4725),S=l(8460),x=l(844),v=l(2585);let c=o.Viewport=class extends x.Disposable{constructor(f,u,d,y,w,C,R,b){super(),this._viewportElement=f,this._scrollArea=u,this._bufferService=d,this._optionsService=y,this._charSizeService=w,this._renderService=C,this._coreBrowserService=R,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new S.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,h.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(E=>this._activeBuffer=E.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(E=>this._renderDimensions=E)),this._handleThemeChange(b.colors),this.register(b.onChangeColors(E=>this._handleThemeChange(E))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(f){this._viewportElement.style.backgroundColor=f.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(f){if(f)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const u=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==u&&(this._lastRecordedBufferHeight=u,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const f=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==f&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=f),this._refreshAnimationFrame=null}syncScrollArea(f=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(f);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(f)}_handleScroll(f){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const u=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:u,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const f=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(f*(this._smoothScrollState.target-this._smoothScrollState.origin)),f<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(f,u){const d=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(u<0&&this._viewportElement.scrollTop!==0||u>0&&d<this._lastRecordedBufferHeight)||(f.cancelable&&f.preventDefault(),!1)}handleWheel(f){const u=this._getPixelsScrolled(f);return u!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+u:this._smoothScrollState.target+=u,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=u,this._bubbleScroll(f,u))}scrollLines(f){if(f!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const u=f*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+u,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:f,suppressScrollEvent:!1})}_getPixelsScrolled(f){if(f.deltaY===0||f.shiftKey)return 0;let u=this._applyScrollModifier(f.deltaY,f);return f.deltaMode===WheelEvent.DOM_DELTA_LINE?u*=this._currentRowHeight:f.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(u*=this._currentRowHeight*this._bufferService.rows),u}getBufferElements(f,u){var d;let y,w="";const C=[],R=u??this._bufferService.buffer.lines.length,b=this._bufferService.buffer.lines;for(let E=f;E<R;E++){const D=b.get(E);if(!D)continue;const O=(d=b.get(E+1))===null||d===void 0?void 0:d.isWrapped;if(w+=D.translateToString(!O),!O||E===b.length-1){const N=document.createElement("div");N.textContent=w,C.push(N),w.length>0&&(y=N),w=""}}return{bufferElements:C,cursorElement:y}}getLinesScrolled(f){if(f.deltaY===0||f.shiftKey)return 0;let u=this._applyScrollModifier(f.deltaY,f);return f.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(u/=this._currentRowHeight+0,this._wheelPartialScroll+=u,u=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):f.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(u*=this._bufferService.rows),u}_applyScrollModifier(f,u){const d=this._optionsService.rawOptions.fastScrollModifier;return d==="alt"&&u.altKey||d==="ctrl"&&u.ctrlKey||d==="shift"&&u.shiftKey?f*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:f*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(f){this._lastTouchY=f.touches[0].pageY}handleTouchMove(f){const u=this._lastTouchY-f.touches[0].pageY;return this._lastTouchY=f.touches[0].pageY,u!==0&&(this._viewportElement.scrollTop+=u,this._bubbleScroll(f,u))}};o.Viewport=c=p([g(2,v.IBufferService),g(3,v.IOptionsService),g(4,_.ICharSizeService),g(5,_.IRenderService),g(6,_.ICoreBrowserService),g(7,_.IThemeService)],c)},3107:function(a,o,l){var p=this&&this.__decorate||function(c,f,u,d){var y,w=arguments.length,C=w<3?f:d===null?d=Object.getOwnPropertyDescriptor(f,u):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(c,f,u,d);else for(var R=c.length-1;R>=0;R--)(y=c[R])&&(C=(w<3?y(C):w>3?y(f,u,C):y(f,u))||C);return w>3&&C&&Object.defineProperty(f,u,C),C},g=this&&this.__param||function(c,f){return function(u,d){f(u,d,c)}};Object.defineProperty(o,"__esModule",{value:!0}),o.BufferDecorationRenderer=void 0;const h=l(3656),_=l(4725),S=l(844),x=l(2585);let v=o.BufferDecorationRenderer=class extends S.Disposable{constructor(c,f,u,d){super(),this._screenElement=c,this._bufferService=f,this._decorationService=u,this._renderService=d,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register((0,h.addDisposableDomListener)(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(y=>this._removeDecoration(y))),this.register((0,S.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const c of this._decorationService.decorations)this._renderDecoration(c);this._dimensionsChanged=!1}_renderDecoration(c){this._refreshStyle(c),this._dimensionsChanged&&this._refreshXPosition(c)}_createElement(c){var f,u;const d=document.createElement("div");d.classList.add("xterm-decoration"),d.classList.toggle("xterm-decoration-top-layer",((f=c==null?void 0:c.options)===null||f===void 0?void 0:f.layer)==="top"),d.style.width=`${Math.round((c.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,d.style.height=(c.options.height||1)*this._renderService.dimensions.css.cell.height+"px",d.style.top=(c.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",d.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const y=(u=c.options.x)!==null&&u!==void 0?u:0;return y&&y>this._bufferService.cols&&(d.style.display="none"),this._refreshXPosition(c,d),d}_refreshStyle(c){const f=c.marker.line-this._bufferService.buffers.active.ydisp;if(f<0||f>=this._bufferService.rows)c.element&&(c.element.style.display="none",c.onRenderEmitter.fire(c.element));else{let u=this._decorationElements.get(c);u||(u=this._createElement(c),c.element=u,this._decorationElements.set(c,u),this._container.appendChild(u),c.onDispose(()=>{this._decorationElements.delete(c),u.remove()})),u.style.top=f*this._renderService.dimensions.css.cell.height+"px",u.style.display=this._altBufferIsActive?"none":"block",c.onRenderEmitter.fire(u)}}_refreshXPosition(c,f=c.element){var u;if(!f)return;const d=(u=c.options.x)!==null&&u!==void 0?u:0;(c.options.anchor||"left")==="right"?f.style.right=d?d*this._renderService.dimensions.css.cell.width+"px":"":f.style.left=d?d*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(c){var f;(f=this._decorationElements.get(c))===null||f===void 0||f.remove(),this._decorationElements.delete(c),c.dispose()}};o.BufferDecorationRenderer=v=p([g(1,x.IBufferService),g(2,x.IDecorationService),g(3,_.IRenderService)],v)},5871:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ColorZoneStore=void 0,o.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(l){if(l.options.overviewRulerOptions){for(const p of this._zones)if(p.color===l.options.overviewRulerOptions.color&&p.position===l.options.overviewRulerOptions.position){if(this._lineIntersectsZone(p,l.marker.line))return;if(this._lineAdjacentToZone(p,l.marker.line,l.options.overviewRulerOptions.position))return void this._addLineToZone(p,l.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=l.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=l.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=l.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=l.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:l.options.overviewRulerOptions.color,position:l.options.overviewRulerOptions.position,startBufferLine:l.marker.line,endBufferLine:l.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(l){this._linePadding=l}_lineIntersectsZone(l,p){return p>=l.startBufferLine&&p<=l.endBufferLine}_lineAdjacentToZone(l,p,g){return p>=l.startBufferLine-this._linePadding[g||"full"]&&p<=l.endBufferLine+this._linePadding[g||"full"]}_addLineToZone(l,p){l.startBufferLine=Math.min(l.startBufferLine,p),l.endBufferLine=Math.max(l.endBufferLine,p)}}},5744:function(a,o,l){var p=this&&this.__decorate||function(y,w,C,R){var b,E=arguments.length,D=E<3?w:R===null?R=Object.getOwnPropertyDescriptor(w,C):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(y,w,C,R);else for(var O=y.length-1;O>=0;O--)(b=y[O])&&(D=(E<3?b(D):E>3?b(w,C,D):b(w,C))||D);return E>3&&D&&Object.defineProperty(w,C,D),D},g=this&&this.__param||function(y,w){return function(C,R){w(C,R,y)}};Object.defineProperty(o,"__esModule",{value:!0}),o.OverviewRulerRenderer=void 0;const h=l(5871),_=l(3656),S=l(4725),x=l(844),v=l(2585),c={full:0,left:0,center:0,right:0},f={full:0,left:0,center:0,right:0},u={full:0,left:0,center:0,right:0};let d=o.OverviewRulerRenderer=class extends x.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(y,w,C,R,b,E,D){var O;super(),this._viewportElement=y,this._screenElement=w,this._bufferService=C,this._decorationService=R,this._renderService=b,this._optionsService=E,this._coreBrowseService=D,this._colorZoneStore=new h.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(O=this._viewportElement.parentElement)===null||O===void 0||O.insertBefore(this._canvas,this._viewportElement);const N=this._canvas.getContext("2d");if(!N)throw new Error("Ctx cannot be null");this._ctx=N,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,x.toDisposable)(()=>{var A;(A=this._canvas)===null||A===void 0||A.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register((0,_.addDisposableDomListener)(this._coreBrowseService.window,"resize",()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const y=Math.floor(this._canvas.width/3),w=Math.ceil(this._canvas.width/3);f.full=this._canvas.width,f.left=y,f.center=w,f.right=y,this._refreshDrawHeightConstants(),u.full=0,u.left=0,u.center=f.left,u.right=f.left+f.center}_refreshDrawHeightConstants(){c.full=Math.round(2*this._coreBrowseService.dpr);const y=this._canvas.height/this._bufferService.buffer.lines.length,w=Math.round(Math.max(Math.min(y,12),6)*this._coreBrowseService.dpr);c.left=w,c.center=w,c.right=w}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*c.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*c.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*c.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*c.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const w of this._decorationService.decorations)this._colorZoneStore.addDecoration(w);this._ctx.lineWidth=1;const y=this._colorZoneStore.zones;for(const w of y)w.position!=="full"&&this._renderColorZone(w);for(const w of y)w.position==="full"&&this._renderColorZone(w);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(y){this._ctx.fillStyle=y.color,this._ctx.fillRect(u[y.position||"full"],Math.round((this._canvas.height-1)*(y.startBufferLine/this._bufferService.buffers.active.lines.length)-c[y.position||"full"]/2),f[y.position||"full"],Math.round((this._canvas.height-1)*((y.endBufferLine-y.startBufferLine)/this._bufferService.buffers.active.lines.length)+c[y.position||"full"]))}_queueRefresh(y,w){this._shouldUpdateDimensions=y||this._shouldUpdateDimensions,this._shouldUpdateAnchor=w||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};o.OverviewRulerRenderer=d=p([g(2,v.IBufferService),g(3,v.IDecorationService),g(4,S.IRenderService),g(5,v.IOptionsService),g(6,S.ICoreBrowserService)],d)},2950:function(a,o,l){var p=this&&this.__decorate||function(v,c,f,u){var d,y=arguments.length,w=y<3?c:u===null?u=Object.getOwnPropertyDescriptor(c,f):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(v,c,f,u);else for(var C=v.length-1;C>=0;C--)(d=v[C])&&(w=(y<3?d(w):y>3?d(c,f,w):d(c,f))||w);return y>3&&w&&Object.defineProperty(c,f,w),w},g=this&&this.__param||function(v,c){return function(f,u){c(f,u,v)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CompositionHelper=void 0;const h=l(4725),_=l(2585),S=l(2584);let x=o.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(v,c,f,u,d,y){this._textarea=v,this._compositionView=c,this._bufferService=f,this._optionsService=u,this._coreService=d,this._renderService=y,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(v){this._compositionView.textContent=v.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(v){if(this._isComposing||this._isSendingComposition){if(v.keyCode===229||v.keyCode===16||v.keyCode===17||v.keyCode===18)return!1;this._finalizeComposition(!1)}return v.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(v){if(this._compositionView.classList.remove("active"),this._isComposing=!1,v){const c={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let f;this._isSendingComposition=!1,c.start+=this._dataAlreadySent.length,f=this._isComposing?this._textarea.value.substring(c.start,c.end):this._textarea.value.substring(c.start),f.length>0&&this._coreService.triggerDataEvent(f,!0)}},0)}else{this._isSendingComposition=!1;const c=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(c,!0)}}_handleAnyTextareaChanges(){const v=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const c=this._textarea.value,f=c.replace(v,"");this._dataAlreadySent=f,c.length>v.length?this._coreService.triggerDataEvent(f,!0):c.length<v.length?this._coreService.triggerDataEvent(`${S.C0.DEL}`,!0):c.length===v.length&&c!==v&&this._coreService.triggerDataEvent(c,!0)}},0)}updateCompositionElements(v){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const c=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),f=this._renderService.dimensions.css.cell.height,u=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,d=c*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=d+"px",this._compositionView.style.top=u+"px",this._compositionView.style.height=f+"px",this._compositionView.style.lineHeight=f+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const y=this._compositionView.getBoundingClientRect();this._textarea.style.left=d+"px",this._textarea.style.top=u+"px",this._textarea.style.width=Math.max(y.width,1)+"px",this._textarea.style.height=Math.max(y.height,1)+"px",this._textarea.style.lineHeight=y.height+"px"}v||setTimeout(()=>this.updateCompositionElements(!0),0)}}};o.CompositionHelper=x=p([g(2,_.IBufferService),g(3,_.IOptionsService),g(4,_.ICoreService),g(5,h.IRenderService)],x)},9806:(a,o)=>{function l(p,g,h){const _=h.getBoundingClientRect(),S=p.getComputedStyle(h),x=parseInt(S.getPropertyValue("padding-left")),v=parseInt(S.getPropertyValue("padding-top"));return[g.clientX-_.left-x,g.clientY-_.top-v]}Object.defineProperty(o,"__esModule",{value:!0}),o.getCoords=o.getCoordsRelativeToElement=void 0,o.getCoordsRelativeToElement=l,o.getCoords=function(p,g,h,_,S,x,v,c,f){if(!x)return;const u=l(p,g,h);return u?(u[0]=Math.ceil((u[0]+(f?v/2:0))/v),u[1]=Math.ceil(u[1]/c),u[0]=Math.min(Math.max(u[0],1),_+(f?1:0)),u[1]=Math.min(Math.max(u[1],1),S),u):void 0}},9504:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.moveToCellSequence=void 0;const p=l(2584);function g(c,f,u,d){const y=c-h(c,u),w=f-h(f,u),C=Math.abs(y-w)-function(R,b,E){let D=0;const O=R-h(R,E),N=b-h(b,E);for(let A=0;A<Math.abs(O-N);A++){const H=_(R,b)==="A"?-1:1,W=E.buffer.lines.get(O+H*A);W!=null&&W.isWrapped&&D++}return D}(c,f,u);return v(C,x(_(c,f),d))}function h(c,f){let u=0,d=f.buffer.lines.get(c),y=d==null?void 0:d.isWrapped;for(;y&&c>=0&&c<f.rows;)u++,d=f.buffer.lines.get(--c),y=d==null?void 0:d.isWrapped;return u}function _(c,f){return c>f?"A":"B"}function S(c,f,u,d,y,w){let C=c,R=f,b="";for(;C!==u||R!==d;)C+=y?1:-1,y&&C>w.cols-1?(b+=w.buffer.translateBufferLineToString(R,!1,c,C),C=0,c=0,R++):!y&&C<0&&(b+=w.buffer.translateBufferLineToString(R,!1,0,c+1),C=w.cols-1,c=C,R--);return b+w.buffer.translateBufferLineToString(R,!1,c,C)}function x(c,f){const u=f?"O":"[";return p.C0.ESC+u+c}function v(c,f){c=Math.floor(c);let u="";for(let d=0;d<c;d++)u+=f;return u}o.moveToCellSequence=function(c,f,u,d){const y=u.buffer.x,w=u.buffer.y;if(!u.buffer.hasScrollback)return function(b,E,D,O,N,A){return g(E,O,N,A).length===0?"":v(S(b,E,b,E-h(E,N),!1,N).length,x("D",A))}(y,w,0,f,u,d)+g(w,f,u,d)+function(b,E,D,O,N,A){let H;H=g(E,O,N,A).length>0?O-h(O,N):E;const W=O,K=function(z,L,T,P,M,V){let J;return J=g(T,P,M,V).length>0?P-h(P,M):L,z<T&&J<=P||z>=T&&J<P?"C":"D"}(b,E,D,O,N,A);return v(S(b,H,D,W,K==="C",N).length,x(K,A))}(y,w,c,f,u,d);let C;if(w===f)return C=y>c?"D":"C",v(Math.abs(y-c),x(C,d));C=w>f?"D":"C";const R=Math.abs(w-f);return v(function(b,E){return E.cols-b}(w>f?c:y,u)+(R-1)*u.cols+1+((w>f?y:c)-1),x(C,d))}},1296:function(a,o,l){var p=this&&this.__decorate||function(N,A,H,W){var K,z=arguments.length,L=z<3?A:W===null?W=Object.getOwnPropertyDescriptor(A,H):W;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(N,A,H,W);else for(var T=N.length-1;T>=0;T--)(K=N[T])&&(L=(z<3?K(L):z>3?K(A,H,L):K(A,H))||L);return z>3&&L&&Object.defineProperty(A,H,L),L},g=this&&this.__param||function(N,A){return function(H,W){A(H,W,N)}};Object.defineProperty(o,"__esModule",{value:!0}),o.DomRenderer=void 0;const h=l(3787),_=l(2550),S=l(2223),x=l(6171),v=l(4725),c=l(8055),f=l(8460),u=l(844),d=l(2585),y="xterm-dom-renderer-owner-",w="xterm-rows",C="xterm-fg-",R="xterm-bg-",b="xterm-focus",E="xterm-selection";let D=1,O=o.DomRenderer=class extends u.Disposable{constructor(N,A,H,W,K,z,L,T,P,M){super(),this._element=N,this._screenElement=A,this._viewportElement=H,this._linkifier2=W,this._charSizeService=z,this._optionsService=L,this._bufferService=T,this._coreBrowserService=P,this._themeService=M,this._terminalClass=D++,this._rowElements=[],this.onRequestRedraw=this.register(new f.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add(w),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add(E),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,x.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(V=>this._injectCss(V))),this._injectCss(this._themeService.colors),this._rowFactory=K.createInstance(h.DomRendererRowFactory,document),this._element.classList.add(y+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(V=>this._handleLinkHover(V))),this.register(this._linkifier2.onHideLinkUnderline(V=>this._handleLinkLeave(V))),this.register((0,u.toDisposable)(()=>{this._element.classList.remove(y+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new _.WidthCache(document),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const N=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*N,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*N),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/N),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/N),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const H of this._rowElements)H.style.width=`${this.dimensions.css.canvas.width}px`,H.style.height=`${this.dimensions.css.cell.height}px`,H.style.lineHeight=`${this.dimensions.css.cell.height}px`,H.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const A=`${this._terminalSelector} .${w} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=A,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(N){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let A=`${this._terminalSelector} .${w} { color: ${N.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;A+=`${this._terminalSelector} .${w} .xterm-dim { color: ${c.color.multiplyOpacity(N.foreground,.5).css};}`,A+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`,A+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  border-bottom-style: hidden; }}",A+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${N.cursor.css};  color: ${N.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${N.cursor.css}; }}`,A+=`${this._terminalSelector} .${w}.${b} .xterm-cursor.xterm-cursor-blink:not(.xterm-cursor-block) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${w}.${b} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${w} .xterm-cursor.xterm-cursor-block { background-color: ${N.cursor.css}; color: ${N.cursorAccent.css};}${this._terminalSelector} .${w} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${N.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${w} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${N.cursor.css} inset;}${this._terminalSelector} .${w} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${N.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,A+=`${this._terminalSelector} .${E} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${E} div { position: absolute; background-color: ${N.selectionBackgroundOpaque.css};}${this._terminalSelector} .${E} div { position: absolute; background-color: ${N.selectionInactiveBackgroundOpaque.css};}`;for(const[H,W]of N.ansi.entries())A+=`${this._terminalSelector} .${C}${H} { color: ${W.css}; }${this._terminalSelector} .${C}${H}.xterm-dim { color: ${c.color.multiplyOpacity(W,.5).css}; }${this._terminalSelector} .${R}${H} { background-color: ${W.css}; }`;A+=`${this._terminalSelector} .${C}${S.INVERTED_DEFAULT_COLOR} { color: ${c.color.opaque(N.background).css}; }${this._terminalSelector} .${C}${S.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${c.color.multiplyOpacity(c.color.opaque(N.background),.5).css}; }${this._terminalSelector} .${R}${S.INVERTED_DEFAULT_COLOR} { background-color: ${N.foreground.css}; }`,this._themeStyleElement.textContent=A}_setDefaultSpacing(){const N=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${N}px`,this._rowFactory.defaultSpacing=N}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(N,A){for(let H=this._rowElements.length;H<=A;H++){const W=document.createElement("div");this._rowContainer.appendChild(W),this._rowElements.push(W)}for(;this._rowElements.length>A;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(N,A){this._refreshRowElements(N,A),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(b)}handleFocus(){this._rowContainer.classList.add(b),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(N,A,H){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(N,A,H),this.renderRows(0,this._bufferService.rows-1),!N||!A)return;const W=N[1]-this._bufferService.buffer.ydisp,K=A[1]-this._bufferService.buffer.ydisp,z=Math.max(W,0),L=Math.min(K,this._bufferService.rows-1);if(z>=this._bufferService.rows||L<0)return;const T=document.createDocumentFragment();if(H){const P=N[0]>A[0];T.appendChild(this._createSelectionElement(z,P?A[0]:N[0],P?N[0]:A[0],L-z+1))}else{const P=W===z?N[0]:0,M=z===K?A[0]:this._bufferService.cols;T.appendChild(this._createSelectionElement(z,P,M));const V=L-z-1;if(T.appendChild(this._createSelectionElement(z+1,0,this._bufferService.cols,V)),z!==L){const J=K===L?A[0]:this._bufferService.cols;T.appendChild(this._createSelectionElement(L,0,J))}}this._selectionContainer.appendChild(T)}_createSelectionElement(N,A,H,W=1){const K=document.createElement("div");return K.style.height=W*this.dimensions.css.cell.height+"px",K.style.top=N*this.dimensions.css.cell.height+"px",K.style.left=A*this.dimensions.css.cell.width+"px",K.style.width=this.dimensions.css.cell.width*(H-A)+"px",K}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const N of this._rowElements)N.replaceChildren()}renderRows(N,A){const H=this._bufferService.buffer,W=H.ybase+H.y,K=Math.min(H.x,this._bufferService.cols-1),z=this._optionsService.rawOptions.cursorBlink,L=this._optionsService.rawOptions.cursorStyle,T=this._optionsService.rawOptions.cursorInactiveStyle;for(let P=N;P<=A;P++){const M=P+H.ydisp,V=this._rowElements[P],J=H.lines.get(M);if(!V||!J)break;V.replaceChildren(...this._rowFactory.createRow(J,M,M===W,L,T,K,z,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${y}${this._terminalClass}`}_handleLinkHover(N){this._setCellUnderline(N.x1,N.x2,N.y1,N.y2,N.cols,!0)}_handleLinkLeave(N){this._setCellUnderline(N.x1,N.x2,N.y1,N.y2,N.cols,!1)}_setCellUnderline(N,A,H,W,K,z){H<0&&(N=0),W<0&&(A=0);const L=this._bufferService.rows-1;H=Math.max(Math.min(H,L),0),W=Math.max(Math.min(W,L),0),K=Math.min(K,this._bufferService.cols);const T=this._bufferService.buffer,P=T.ybase+T.y,M=Math.min(T.x,K-1),V=this._optionsService.rawOptions.cursorBlink,J=this._optionsService.rawOptions.cursorStyle,re=this._optionsService.rawOptions.cursorInactiveStyle;for(let ne=H;ne<=W;++ne){const ve=ne+T.ydisp,j=this._rowElements[ne],F=T.lines.get(ve);if(!j||!F)break;j.replaceChildren(...this._rowFactory.createRow(F,ve,ve===P,J,re,M,V,this.dimensions.css.cell.width,this._widthCache,z?ne===H?N:0:-1,z?(ne===W?A:K)-1:-1))}}};o.DomRenderer=O=p([g(4,d.IInstantiationService),g(5,v.ICharSizeService),g(6,d.IOptionsService),g(7,d.IBufferService),g(8,v.ICoreBrowserService),g(9,v.IThemeService)],O)},3787:function(a,o,l){var p=this&&this.__decorate||function(C,R,b,E){var D,O=arguments.length,N=O<3?R:E===null?E=Object.getOwnPropertyDescriptor(R,b):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(C,R,b,E);else for(var A=C.length-1;A>=0;A--)(D=C[A])&&(N=(O<3?D(N):O>3?D(R,b,N):D(R,b))||N);return O>3&&N&&Object.defineProperty(R,b,N),N},g=this&&this.__param||function(C,R){return function(b,E){R(b,E,C)}};Object.defineProperty(o,"__esModule",{value:!0}),o.DomRendererRowFactory=void 0;const h=l(2223),_=l(643),S=l(511),x=l(2585),v=l(8055),c=l(4725),f=l(4269),u=l(6171),d=l(3734);let y=o.DomRendererRowFactory=class{constructor(C,R,b,E,D,O,N){this._document=C,this._characterJoinerService=R,this._optionsService=b,this._coreBrowserService=E,this._coreService=D,this._decorationService=O,this._themeService=N,this._workCell=new S.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(C,R,b){this._selectionStart=C,this._selectionEnd=R,this._columnSelectMode=b}createRow(C,R,b,E,D,O,N,A,H,W,K){const z=[],L=this._characterJoinerService.getJoinedCharacters(R),T=this._themeService.colors;let P,M=C.getNoBgTrimmedLength();b&&M<O+1&&(M=O+1);let V=0,J="",re=0,ne=0,ve=0,j=!1,F=0,G=!1,Q=0;const ie=[],te=W!==-1&&K!==-1;for(let de=0;de<M;de++){C.loadCell(de,this._workCell);let Ee=this._workCell.getWidth();if(Ee===0)continue;let ot=!1,Xr=de,me=this._workCell;if(L.length>0&&de===L[0][0]){ot=!0;const ke=L.shift();me=new f.JoinedCellData(this._workCell,C.translateToString(!0,ke[0],ke[1]),ke[1]-ke[0]),Xr=ke[1]-1,Ee=me.getWidth()}const yn=this._isCellInSelection(de,R),xn=b&&de===O,B=te&&de>=W&&de<=K;let $=!1;this._decorationService.forEachDecorationAtCell(de,R,void 0,ke=>{$=!0});let q=me.getChars()||_.WHITESPACE_CELL_CHAR;if(q===" "&&(me.isUnderline()||me.isOverline())&&(q=""),Q=Ee*A-H.get(q,me.isBold(),me.isItalic()),P){if(V&&(yn&&G||!yn&&!G&&me.bg===re)&&(yn&&G&&T.selectionForeground||me.fg===ne)&&me.extended.ext===ve&&B===j&&Q===F&&!xn&&!ot&&!$){J+=q,V++;continue}V&&(P.textContent=J),P=this._document.createElement("span"),V=0,J=""}else P=this._document.createElement("span");if(re=me.bg,ne=me.fg,ve=me.extended.ext,j=B,F=Q,G=yn,ot&&O>=de&&O<=Xr&&(O=de),!this._coreService.isCursorHidden&&xn){if(ie.push("xterm-cursor"),this._coreBrowserService.isFocused)N&&ie.push("xterm-cursor-blink"),ie.push(E==="bar"?"xterm-cursor-bar":E==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(D)switch(D){case"outline":ie.push("xterm-cursor-outline");break;case"block":ie.push("xterm-cursor-block");break;case"bar":ie.push("xterm-cursor-bar");break;case"underline":ie.push("xterm-cursor-underline")}}if(me.isBold()&&ie.push("xterm-bold"),me.isItalic()&&ie.push("xterm-italic"),me.isDim()&&ie.push("xterm-dim"),J=me.isInvisible()?_.WHITESPACE_CELL_CHAR:me.getChars()||_.WHITESPACE_CELL_CHAR,me.isUnderline()&&(ie.push(`xterm-underline-${me.extended.underlineStyle}`),J===" "&&(J=""),!me.isUnderlineColorDefault()))if(me.isUnderlineColorRGB())P.style.textDecorationColor=`rgb(${d.AttributeData.toColorRGB(me.getUnderlineColor()).join(",")})`;else{let ke=me.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&me.isBold()&&ke<8&&(ke+=8),P.style.textDecorationColor=T.ansi[ke].css}me.isOverline()&&(ie.push("xterm-overline"),J===" "&&(J="")),me.isStrikethrough()&&ie.push("xterm-strikethrough"),B&&(P.style.textDecoration="underline");let Z=me.getFgColor(),ee=me.getFgColorMode(),X=me.getBgColor(),ce=me.getBgColorMode();const xe=!!me.isInverse();if(xe){const ke=Z;Z=X,X=ke;const Ci=ee;ee=ce,ce=Ci}let _e,ut,Mt,Et=!1;switch(this._decorationService.forEachDecorationAtCell(de,R,void 0,ke=>{ke.options.layer!=="top"&&Et||(ke.backgroundColorRGB&&(ce=50331648,X=ke.backgroundColorRGB.rgba>>8&16777215,_e=ke.backgroundColorRGB),ke.foregroundColorRGB&&(ee=50331648,Z=ke.foregroundColorRGB.rgba>>8&16777215,ut=ke.foregroundColorRGB),Et=ke.options.layer==="top")}),!Et&&yn&&(_e=this._coreBrowserService.isFocused?T.selectionBackgroundOpaque:T.selectionInactiveBackgroundOpaque,X=_e.rgba>>8&16777215,ce=50331648,Et=!0,T.selectionForeground&&(ee=50331648,Z=T.selectionForeground.rgba>>8&16777215,ut=T.selectionForeground)),Et&&ie.push("xterm-decoration-top"),ce){case 16777216:case 33554432:Mt=T.ansi[X],ie.push(`xterm-bg-${X}`);break;case 50331648:Mt=v.rgba.toColor(X>>16,X>>8&255,255&X),this._addStyle(P,`background-color:#${w((X>>>0).toString(16),"0",6)}`);break;default:xe?(Mt=T.foreground,ie.push(`xterm-bg-${h.INVERTED_DEFAULT_COLOR}`)):Mt=T.background}switch(_e||me.isDim()&&(_e=v.color.multiplyOpacity(Mt,.5)),ee){case 16777216:case 33554432:me.isBold()&&Z<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(Z+=8),this._applyMinimumContrast(P,Mt,T.ansi[Z],me,_e,void 0)||ie.push(`xterm-fg-${Z}`);break;case 50331648:const ke=v.rgba.toColor(Z>>16&255,Z>>8&255,255&Z);this._applyMinimumContrast(P,Mt,ke,me,_e,ut)||this._addStyle(P,`color:#${w(Z.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(P,Mt,T.foreground,me,_e,void 0)||xe&&ie.push(`xterm-fg-${h.INVERTED_DEFAULT_COLOR}`)}ie.length&&(P.className=ie.join(" "),ie.length=0),xn||ot||$?P.textContent=J:V++,Q!==this.defaultSpacing&&(P.style.letterSpacing=`${Q}px`),z.push(P),de=Xr}return P&&V&&(P.textContent=J),z}_applyMinimumContrast(C,R,b,E,D,O){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,u.excludeFromContrastRatioDemands)(E.getCode()))return!1;const N=this._getContrastCache(E);let A;if(D||O||(A=N.getColor(R.rgba,b.rgba)),A===void 0){const H=this._optionsService.rawOptions.minimumContrastRatio/(E.isDim()?2:1);A=v.color.ensureContrastRatio(D||R,O||b,H),N.setColor((D||R).rgba,(O||b).rgba,A??null)}return!!A&&(this._addStyle(C,`color:${A.css}`),!0)}_getContrastCache(C){return C.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(C,R){C.setAttribute("style",`${C.getAttribute("style")||""}${R};`)}_isCellInSelection(C,R){const b=this._selectionStart,E=this._selectionEnd;return!(!b||!E)&&(this._columnSelectMode?b[0]<=E[0]?C>=b[0]&&R>=b[1]&&C<E[0]&&R<=E[1]:C<b[0]&&R>=b[1]&&C>=E[0]&&R<=E[1]:R>b[1]&&R<E[1]||b[1]===E[1]&&R===b[1]&&C>=b[0]&&C<E[0]||b[1]<E[1]&&R===E[1]&&C<E[0]||b[1]<E[1]&&R===b[1]&&C>=b[0])}};function w(C,R,b){for(;C.length<b;)C=R+C;return C}o.DomRendererRowFactory=y=p([g(1,c.ICharacterJoinerService),g(2,x.IOptionsService),g(3,c.ICoreBrowserService),g(4,x.ICoreService),g(5,x.IDecorationService),g(6,c.IThemeService)],y)},2550:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WidthCache=void 0,o.WidthCache=class{constructor(l){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=l.createElement("div"),this._container.style.position="absolute",this._container.style.top="-50000px",this._container.style.width="50000px",this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const p=l.createElement("span"),g=l.createElement("span");g.style.fontWeight="bold";const h=l.createElement("span");h.style.fontStyle="italic";const _=l.createElement("span");_.style.fontWeight="bold",_.style.fontStyle="italic",this._measureElements=[p,g,h,_],this._container.appendChild(p),this._container.appendChild(g),this._container.appendChild(h),this._container.appendChild(_),l.body.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(l,p,g,h){l===this._font&&p===this._fontSize&&g===this._weight&&h===this._weightBold||(this._font=l,this._fontSize=p,this._weight=g,this._weightBold=h,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${g}`,this._measureElements[1].style.fontWeight=`${h}`,this._measureElements[2].style.fontWeight=`${g}`,this._measureElements[3].style.fontWeight=`${h}`,this.clear())}get(l,p,g){let h=0;if(!p&&!g&&l.length===1&&(h=l.charCodeAt(0))<256)return this._flat[h]!==-9999?this._flat[h]:this._flat[h]=this._measure(l,0);let _=l;p&&(_+="B"),g&&(_+="I");let S=this._holey.get(_);if(S===void 0){let x=0;p&&(x|=1),g&&(x|=2),S=this._measure(l,x),this._holey.set(_,S)}return S}_measure(l,p){const g=this._measureElements[p];return g.textContent=l.repeat(32),g.offsetWidth/32}}},2223:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TEXT_BASELINE=o.DIM_OPACITY=o.INVERTED_DEFAULT_COLOR=void 0;const p=l(6114);o.INVERTED_DEFAULT_COLOR=257,o.DIM_OPACITY=.5,o.TEXT_BASELINE=p.isFirefox||p.isLegacyEdge?"bottom":"ideographic"},6171:(a,o)=>{function l(p){return 57508<=p&&p<=57558}Object.defineProperty(o,"__esModule",{value:!0}),o.createRenderDimensions=o.excludeFromContrastRatioDemands=o.isRestrictedPowerlineGlyph=o.isPowerlineGlyph=o.throwIfFalsy=void 0,o.throwIfFalsy=function(p){if(!p)throw new Error("value must not be falsy");return p},o.isPowerlineGlyph=l,o.isRestrictedPowerlineGlyph=function(p){return 57520<=p&&p<=57527},o.excludeFromContrastRatioDemands=function(p){return l(p)||function(g){return 9472<=g&&g<=9631}(p)},o.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SelectionModel=void 0,o.SelectionModel=class{constructor(l){this._bufferService=l,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const l=this.selectionStart[0]+this.selectionStartLength;return l>this._bufferService.cols?l%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)-1]:[l%this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)]:[l,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const l=this.selectionStart[0]+this.selectionStartLength;return l>this._bufferService.cols?[l%this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)]:[Math.max(l,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const l=this.selectionStart,p=this.selectionEnd;return!(!l||!p)&&(l[1]>p[1]||l[1]===p[1]&&l[0]>p[0])}handleTrim(l){return this.selectionStart&&(this.selectionStart[1]-=l),this.selectionEnd&&(this.selectionEnd[1]-=l),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(a,o,l){var p=this&&this.__decorate||function(c,f,u,d){var y,w=arguments.length,C=w<3?f:d===null?d=Object.getOwnPropertyDescriptor(f,u):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(c,f,u,d);else for(var R=c.length-1;R>=0;R--)(y=c[R])&&(C=(w<3?y(C):w>3?y(f,u,C):y(f,u))||C);return w>3&&C&&Object.defineProperty(f,u,C),C},g=this&&this.__param||function(c,f){return function(u,d){f(u,d,c)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CharSizeService=void 0;const h=l(2585),_=l(8460),S=l(844);let x=o.CharSizeService=class extends S.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(c,f,u){super(),this._optionsService=u,this.width=0,this.height=0,this._onCharSizeChange=this.register(new _.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new v(c,f,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const c=this._measureStrategy.measure();c.width===this.width&&c.height===this.height||(this.width=c.width,this.height=c.height,this._onCharSizeChange.fire())}};o.CharSizeService=x=p([g(2,h.IOptionsService)],x);class v{constructor(f,u,d){this._document=f,this._parentElement=u,this._optionsService=d,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const f={height:Number(this._measureElement.offsetHeight),width:Number(this._measureElement.offsetWidth)};return f.width!==0&&f.height!==0&&(this._result.width=f.width/32,this._result.height=Math.ceil(f.height)),this._result}}},4269:function(a,o,l){var p=this&&this.__decorate||function(f,u,d,y){var w,C=arguments.length,R=C<3?u:y===null?y=Object.getOwnPropertyDescriptor(u,d):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(f,u,d,y);else for(var b=f.length-1;b>=0;b--)(w=f[b])&&(R=(C<3?w(R):C>3?w(u,d,R):w(u,d))||R);return C>3&&R&&Object.defineProperty(u,d,R),R},g=this&&this.__param||function(f,u){return function(d,y){u(d,y,f)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CharacterJoinerService=o.JoinedCellData=void 0;const h=l(3734),_=l(643),S=l(511),x=l(2585);class v extends h.AttributeData{constructor(u,d,y){super(),this.content=0,this.combinedData="",this.fg=u.fg,this.bg=u.bg,this.combinedData=d,this._width=y}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(u){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}o.JoinedCellData=v;let c=o.CharacterJoinerService=class j_{constructor(u){this._bufferService=u,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new S.CellData}register(u){const d={id:this._nextCharacterJoinerId++,handler:u};return this._characterJoiners.push(d),d.id}deregister(u){for(let d=0;d<this._characterJoiners.length;d++)if(this._characterJoiners[d].id===u)return this._characterJoiners.splice(d,1),!0;return!1}getJoinedCharacters(u){if(this._characterJoiners.length===0)return[];const d=this._bufferService.buffer.lines.get(u);if(!d||d.length===0)return[];const y=[],w=d.translateToString(!0);let C=0,R=0,b=0,E=d.getFg(0),D=d.getBg(0);for(let O=0;O<d.getTrimmedLength();O++)if(d.loadCell(O,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==E||this._workCell.bg!==D){if(O-C>1){const N=this._getJoinedRanges(w,b,R,d,C);for(let A=0;A<N.length;A++)y.push(N[A])}C=O,b=R,E=this._workCell.fg,D=this._workCell.bg}R+=this._workCell.getChars().length||_.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-C>1){const O=this._getJoinedRanges(w,b,R,d,C);for(let N=0;N<O.length;N++)y.push(O[N])}return y}_getJoinedRanges(u,d,y,w,C){const R=u.substring(d,y);let b=[];try{b=this._characterJoiners[0].handler(R)}catch(E){console.error(E)}for(let E=1;E<this._characterJoiners.length;E++)try{const D=this._characterJoiners[E].handler(R);for(let O=0;O<D.length;O++)j_._mergeRanges(b,D[O])}catch(D){console.error(D)}return this._stringRangesToCellRanges(b,w,C),b}_stringRangesToCellRanges(u,d,y){let w=0,C=!1,R=0,b=u[w];if(b){for(let E=y;E<this._bufferService.cols;E++){const D=d.getWidth(E),O=d.getString(E).length||_.WHITESPACE_CELL_CHAR.length;if(D!==0){if(!C&&b[0]<=R&&(b[0]=E,C=!0),b[1]<=R){if(b[1]=E,b=u[++w],!b)break;b[0]<=R?(b[0]=E,C=!0):C=!1}R+=O}}b&&(b[1]=this._bufferService.cols)}}static _mergeRanges(u,d){let y=!1;for(let w=0;w<u.length;w++){const C=u[w];if(y){if(d[1]<=C[0])return u[w-1][1]=d[1],u;if(d[1]<=C[1])return u[w-1][1]=Math.max(d[1],C[1]),u.splice(w,1),u;u.splice(w,1),w--}else{if(d[1]<=C[0])return u.splice(w,0,d),u;if(d[1]<=C[1])return C[0]=Math.min(d[0],C[0]),u;d[0]<C[1]&&(C[0]=Math.min(d[0],C[0]),y=!0)}}return y?u[u.length-1][1]=d[1]:u.push(d),u}};o.CharacterJoinerService=c=p([g(0,x.IBufferService)],c)},5114:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CoreBrowserService=void 0,o.CoreBrowserService=class{constructor(l,p){this._textarea=l,this.window=p,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}},8934:function(a,o,l){var p=this&&this.__decorate||function(x,v,c,f){var u,d=arguments.length,y=d<3?v:f===null?f=Object.getOwnPropertyDescriptor(v,c):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(x,v,c,f);else for(var w=x.length-1;w>=0;w--)(u=x[w])&&(y=(d<3?u(y):d>3?u(v,c,y):u(v,c))||y);return d>3&&y&&Object.defineProperty(v,c,y),y},g=this&&this.__param||function(x,v){return function(c,f){v(c,f,x)}};Object.defineProperty(o,"__esModule",{value:!0}),o.MouseService=void 0;const h=l(4725),_=l(9806);let S=o.MouseService=class{constructor(x,v){this._renderService=x,this._charSizeService=v}getCoords(x,v,c,f,u){return(0,_.getCoords)(window,x,v,c,f,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,u)}getMouseReportCoords(x,v){const c=(0,_.getCoordsRelativeToElement)(window,x,v);if(this._charSizeService.hasValidSize)return c[0]=Math.min(Math.max(c[0],0),this._renderService.dimensions.css.canvas.width-1),c[1]=Math.min(Math.max(c[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(c[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(c[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(c[0]),y:Math.floor(c[1])}}};o.MouseService=S=p([g(0,h.IRenderService),g(1,h.ICharSizeService)],S)},3230:function(a,o,l){var p=this&&this.__decorate||function(y,w,C,R){var b,E=arguments.length,D=E<3?w:R===null?R=Object.getOwnPropertyDescriptor(w,C):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(y,w,C,R);else for(var O=y.length-1;O>=0;O--)(b=y[O])&&(D=(E<3?b(D):E>3?b(w,C,D):b(w,C))||D);return E>3&&D&&Object.defineProperty(w,C,D),D},g=this&&this.__param||function(y,w){return function(C,R){w(C,R,y)}};Object.defineProperty(o,"__esModule",{value:!0}),o.RenderService=void 0;const h=l(3656),_=l(6193),S=l(5596),x=l(4725),v=l(8460),c=l(844),f=l(7226),u=l(2585);let d=o.RenderService=class extends c.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(y,w,C,R,b,E,D,O){if(super(),this._rowCount=y,this._charSizeService=R,this._renderer=this.register(new c.MutableDisposable),this._pausedResizeTask=new f.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new v.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new v.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new v.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new v.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new _.RenderDebouncer(D.window,(N,A)=>this._renderRows(N,A)),this.register(this._renderDebouncer),this._screenDprMonitor=new S.ScreenDprMonitor(D.window),this._screenDprMonitor.setListener(()=>this.handleDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(E.onResize(()=>this._fullRefresh())),this.register(E.buffers.onBufferActivate(()=>{var N;return(N=this._renderer.value)===null||N===void 0?void 0:N.clear()})),this.register(C.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(b.onDecorationRegistered(()=>this._fullRefresh())),this.register(b.onDecorationRemoved(()=>this._fullRefresh())),this.register(C.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(E.cols,E.rows),this._fullRefresh()})),this.register(C.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(E.buffer.y,E.buffer.y,!0))),this.register((0,h.addDisposableDomListener)(D.window,"resize",()=>this.handleDevicePixelRatioChange())),this.register(O.onChangeColors(()=>this._fullRefresh())),"IntersectionObserver"in D.window){const N=new D.window.IntersectionObserver(A=>this._handleIntersectionChange(A[A.length-1]),{threshold:0});N.observe(w),this.register({dispose:()=>N.disconnect()})}}_handleIntersectionChange(y){this._isPaused=y.isIntersecting===void 0?y.intersectionRatio===0:!y.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(y,w,C=!1){this._isPaused?this._needsFullRefresh=!0:(C||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(y,w,this._rowCount))}_renderRows(y,w){this._renderer.value&&(y=Math.min(y,this._rowCount-1),w=Math.min(w,this._rowCount-1),this._renderer.value.renderRows(y,w),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:y,end:w}),this._onRender.fire({start:y,end:w}),this._isNextRenderRedrawOnly=!0)}resize(y,w){this._rowCount=w,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(y){this._renderer.value=y,this._renderer.value.onRequestRedraw(w=>this.refreshRows(w.start,w.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(y){return this._renderDebouncer.addRefreshCallback(y)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var y,w;this._renderer.value&&((w=(y=this._renderer.value).clearTextureAtlas)===null||w===void 0||w.call(y),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(y,w){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value.handleResize(y,w)):this._renderer.value.handleResize(y,w),this._fullRefresh())}handleCharSizeChanged(){var y;(y=this._renderer.value)===null||y===void 0||y.handleCharSizeChanged()}handleBlur(){var y;(y=this._renderer.value)===null||y===void 0||y.handleBlur()}handleFocus(){var y;(y=this._renderer.value)===null||y===void 0||y.handleFocus()}handleSelectionChanged(y,w,C){var R;this._selectionState.start=y,this._selectionState.end=w,this._selectionState.columnSelectMode=C,(R=this._renderer.value)===null||R===void 0||R.handleSelectionChanged(y,w,C)}handleCursorMove(){var y;(y=this._renderer.value)===null||y===void 0||y.handleCursorMove()}clear(){var y;(y=this._renderer.value)===null||y===void 0||y.clear()}};o.RenderService=d=p([g(2,u.IOptionsService),g(3,x.ICharSizeService),g(4,u.IDecorationService),g(5,u.IBufferService),g(6,x.ICoreBrowserService),g(7,x.IThemeService)],d)},9312:function(a,o,l){var p=this&&this.__decorate||function(b,E,D,O){var N,A=arguments.length,H=A<3?E:O===null?O=Object.getOwnPropertyDescriptor(E,D):O;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(b,E,D,O);else for(var W=b.length-1;W>=0;W--)(N=b[W])&&(H=(A<3?N(H):A>3?N(E,D,H):N(E,D))||H);return A>3&&H&&Object.defineProperty(E,D,H),H},g=this&&this.__param||function(b,E){return function(D,O){E(D,O,b)}};Object.defineProperty(o,"__esModule",{value:!0}),o.SelectionService=void 0;const h=l(9806),_=l(9504),S=l(456),x=l(4725),v=l(8460),c=l(844),f=l(6114),u=l(4841),d=l(511),y=l(2585),w=String.fromCharCode(160),C=new RegExp(w,"g");let R=o.SelectionService=class extends c.Disposable{constructor(b,E,D,O,N,A,H,W,K){super(),this._element=b,this._screenElement=E,this._linkifier=D,this._bufferService=O,this._coreService=N,this._mouseService=A,this._optionsService=H,this._renderService=W,this._coreBrowserService=K,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new d.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new v.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new v.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new v.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new v.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=z=>this._handleMouseMove(z),this._mouseUpListener=z=>this._handleMouseUp(z),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(z=>this._handleTrim(z)),this.register(this._bufferService.buffers.onBufferActivate(z=>this._handleBufferActivate(z))),this.enable(),this._model=new S.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,c.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const b=this._model.finalSelectionStart,E=this._model.finalSelectionEnd;return!(!b||!E||b[0]===E[0]&&b[1]===E[1])}get selectionText(){const b=this._model.finalSelectionStart,E=this._model.finalSelectionEnd;if(!b||!E)return"";const D=this._bufferService.buffer,O=[];if(this._activeSelectionMode===3){if(b[0]===E[0])return"";const N=b[0]<E[0]?b[0]:E[0],A=b[0]<E[0]?E[0]:b[0];for(let H=b[1];H<=E[1];H++){const W=D.translateBufferLineToString(H,!0,N,A);O.push(W)}}else{const N=b[1]===E[1]?E[0]:void 0;O.push(D.translateBufferLineToString(b[1],!0,b[0],N));for(let A=b[1]+1;A<=E[1]-1;A++){const H=D.lines.get(A),W=D.translateBufferLineToString(A,!0);H!=null&&H.isWrapped?O[O.length-1]+=W:O.push(W)}if(b[1]!==E[1]){const A=D.lines.get(E[1]),H=D.translateBufferLineToString(E[1],!0,0,E[0]);A&&A.isWrapped?O[O.length-1]+=H:O.push(H)}}return O.map(N=>N.replace(C," ")).join(f.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(b){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),f.isLinux&&b&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(b){const E=this._getMouseBufferCoords(b),D=this._model.finalSelectionStart,O=this._model.finalSelectionEnd;return!!(D&&O&&E)&&this._areCoordsInSelection(E,D,O)}isCellInSelection(b,E){const D=this._model.finalSelectionStart,O=this._model.finalSelectionEnd;return!(!D||!O)&&this._areCoordsInSelection([b,E],D,O)}_areCoordsInSelection(b,E,D){return b[1]>E[1]&&b[1]<D[1]||E[1]===D[1]&&b[1]===E[1]&&b[0]>=E[0]&&b[0]<D[0]||E[1]<D[1]&&b[1]===D[1]&&b[0]<D[0]||E[1]<D[1]&&b[1]===E[1]&&b[0]>=E[0]}_selectWordAtCursor(b,E){var D,O;const N=(O=(D=this._linkifier.currentLink)===null||D===void 0?void 0:D.link)===null||O===void 0?void 0:O.range;if(N)return this._model.selectionStart=[N.start.x-1,N.start.y-1],this._model.selectionStartLength=(0,u.getRangeLength)(N,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const A=this._getMouseBufferCoords(b);return!!A&&(this._selectWordAt(A,E),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(b,E){this._model.clearSelection(),b=Math.max(b,0),E=Math.min(E,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,b],this._model.selectionEnd=[this._bufferService.cols,E],this.refresh(),this._onSelectionChange.fire()}_handleTrim(b){this._model.handleTrim(b)&&this.refresh()}_getMouseBufferCoords(b){const E=this._mouseService.getCoords(b,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(E)return E[0]--,E[1]--,E[1]+=this._bufferService.buffer.ydisp,E}_getMouseEventScrollAmount(b){let E=(0,h.getCoordsRelativeToElement)(this._coreBrowserService.window,b,this._screenElement)[1];const D=this._renderService.dimensions.css.canvas.height;return E>=0&&E<=D?0:(E>D&&(E-=D),E=Math.min(Math.max(E,-50),50),E/=50,E/Math.abs(E)+Math.round(14*E))}shouldForceSelection(b){return f.isMac?b.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:b.shiftKey}handleMouseDown(b){if(this._mouseDownTimeStamp=b.timeStamp,(b.button!==2||!this.hasSelection)&&b.button===0){if(!this._enabled){if(!this.shouldForceSelection(b))return;b.stopPropagation()}b.preventDefault(),this._dragScrollAmount=0,this._enabled&&b.shiftKey?this._handleIncrementalClick(b):b.detail===1?this._handleSingleClick(b):b.detail===2?this._handleDoubleClick(b):b.detail===3&&this._handleTripleClick(b),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(b){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(b))}_handleSingleClick(b){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(b)?3:0,this._model.selectionStart=this._getMouseBufferCoords(b),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const E=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);E&&E.length!==this._model.selectionStart[0]&&E.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(b){this._selectWordAtCursor(b,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(b){const E=this._getMouseBufferCoords(b);E&&(this._activeSelectionMode=2,this._selectLineAt(E[1]))}shouldColumnSelect(b){return b.altKey&&!(f.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(b){if(b.stopImmediatePropagation(),!this._model.selectionStart)return;const E=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(b),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(b),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const D=this._bufferService.buffer;if(this._model.selectionEnd[1]<D.lines.length){const O=D.lines.get(this._model.selectionEnd[1]);O&&O.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}E&&E[0]===this._model.selectionEnd[0]&&E[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const b=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(b.ydisp+this._bufferService.rows,b.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=b.ydisp),this.refresh()}}_handleMouseUp(b){const E=b.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&E<500&&b.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const D=this._mouseService.getCoords(b,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(D&&D[0]!==void 0&&D[1]!==void 0){const O=(0,_.moveToCellSequence)(D[0]-1,D[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(O,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const b=this._model.finalSelectionStart,E=this._model.finalSelectionEnd,D=!(!b||!E||b[0]===E[0]&&b[1]===E[1]);D?b&&E&&(this._oldSelectionStart&&this._oldSelectionEnd&&b[0]===this._oldSelectionStart[0]&&b[1]===this._oldSelectionStart[1]&&E[0]===this._oldSelectionEnd[0]&&E[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(b,E,D)):this._oldHasSelection&&this._fireOnSelectionChange(b,E,D)}_fireOnSelectionChange(b,E,D){this._oldSelectionStart=b,this._oldSelectionEnd=E,this._oldHasSelection=D,this._onSelectionChange.fire()}_handleBufferActivate(b){this.clearSelection(),this._trimListener.dispose(),this._trimListener=b.activeBuffer.lines.onTrim(E=>this._handleTrim(E))}_convertViewportColToCharacterIndex(b,E){let D=E;for(let O=0;E>=O;O++){const N=b.loadCell(O,this._workCell).getChars().length;this._workCell.getWidth()===0?D--:N>1&&E!==O&&(D+=N-1)}return D}setSelection(b,E,D){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[b,E],this._model.selectionStartLength=D,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(b){this._isClickInSelection(b)||(this._selectWordAtCursor(b,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(b,E,D=!0,O=!0){if(b[0]>=this._bufferService.cols)return;const N=this._bufferService.buffer,A=N.lines.get(b[1]);if(!A)return;const H=N.translateBufferLineToString(b[1],!1);let W=this._convertViewportColToCharacterIndex(A,b[0]),K=W;const z=b[0]-W;let L=0,T=0,P=0,M=0;if(H.charAt(W)===" "){for(;W>0&&H.charAt(W-1)===" ";)W--;for(;K<H.length&&H.charAt(K+1)===" ";)K++}else{let re=b[0],ne=b[0];A.getWidth(re)===0&&(L++,re--),A.getWidth(ne)===2&&(T++,ne++);const ve=A.getString(ne).length;for(ve>1&&(M+=ve-1,K+=ve-1);re>0&&W>0&&!this._isCharWordSeparator(A.loadCell(re-1,this._workCell));){A.loadCell(re-1,this._workCell);const j=this._workCell.getChars().length;this._workCell.getWidth()===0?(L++,re--):j>1&&(P+=j-1,W-=j-1),W--,re--}for(;ne<A.length&&K+1<H.length&&!this._isCharWordSeparator(A.loadCell(ne+1,this._workCell));){A.loadCell(ne+1,this._workCell);const j=this._workCell.getChars().length;this._workCell.getWidth()===2?(T++,ne++):j>1&&(M+=j-1,K+=j-1),K++,ne++}}K++;let V=W+z-L+P,J=Math.min(this._bufferService.cols,K-W+L+T-P-M);if(E||H.slice(W,K).trim()!==""){if(D&&V===0&&A.getCodePoint(0)!==32){const re=N.lines.get(b[1]-1);if(re&&A.isWrapped&&re.getCodePoint(this._bufferService.cols-1)!==32){const ne=this._getWordAt([this._bufferService.cols-1,b[1]-1],!1,!0,!1);if(ne){const ve=this._bufferService.cols-ne.start;V-=ve,J+=ve}}}if(O&&V+J===this._bufferService.cols&&A.getCodePoint(this._bufferService.cols-1)!==32){const re=N.lines.get(b[1]+1);if(re!=null&&re.isWrapped&&re.getCodePoint(0)!==32){const ne=this._getWordAt([0,b[1]+1],!1,!1,!0);ne&&(J+=ne.length)}}return{start:V,length:J}}}_selectWordAt(b,E){const D=this._getWordAt(b,E);if(D){for(;D.start<0;)D.start+=this._bufferService.cols,b[1]--;this._model.selectionStart=[D.start,b[1]],this._model.selectionStartLength=D.length}}_selectToWordAt(b){const E=this._getWordAt(b,!0);if(E){let D=b[1];for(;E.start<0;)E.start+=this._bufferService.cols,D--;if(!this._model.areSelectionValuesReversed())for(;E.start+E.length>this._bufferService.cols;)E.length-=this._bufferService.cols,D++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?E.start:E.start+E.length,D]}}_isCharWordSeparator(b){return b.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(b.getChars())>=0}_selectLineAt(b){const E=this._bufferService.buffer.getWrappedRangeForLine(b),D={start:{x:0,y:E.first},end:{x:this._bufferService.cols-1,y:E.last}};this._model.selectionStart=[0,E.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,u.getRangeLength)(D,this._bufferService.cols)}};o.SelectionService=R=p([g(3,y.IBufferService),g(4,y.ICoreService),g(5,x.IMouseService),g(6,y.IOptionsService),g(7,x.IRenderService),g(8,x.ICoreBrowserService)],R)},4725:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.IThemeService=o.ICharacterJoinerService=o.ISelectionService=o.IRenderService=o.IMouseService=o.ICoreBrowserService=o.ICharSizeService=void 0;const p=l(8343);o.ICharSizeService=(0,p.createDecorator)("CharSizeService"),o.ICoreBrowserService=(0,p.createDecorator)("CoreBrowserService"),o.IMouseService=(0,p.createDecorator)("MouseService"),o.IRenderService=(0,p.createDecorator)("RenderService"),o.ISelectionService=(0,p.createDecorator)("SelectionService"),o.ICharacterJoinerService=(0,p.createDecorator)("CharacterJoinerService"),o.IThemeService=(0,p.createDecorator)("ThemeService")},6731:function(a,o,l){var p=this&&this.__decorate||function(R,b,E,D){var O,N=arguments.length,A=N<3?b:D===null?D=Object.getOwnPropertyDescriptor(b,E):D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(R,b,E,D);else for(var H=R.length-1;H>=0;H--)(O=R[H])&&(A=(N<3?O(A):N>3?O(b,E,A):O(b,E))||A);return N>3&&A&&Object.defineProperty(b,E,A),A},g=this&&this.__param||function(R,b){return function(E,D){b(E,D,R)}};Object.defineProperty(o,"__esModule",{value:!0}),o.ThemeService=o.DEFAULT_ANSI_COLORS=void 0;const h=l(7239),_=l(8055),S=l(8460),x=l(844),v=l(2585),c=_.css.toColor("#ffffff"),f=_.css.toColor("#000000"),u=_.css.toColor("#ffffff"),d=_.css.toColor("#000000"),y={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};o.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const R=[_.css.toColor("#2e3436"),_.css.toColor("#cc0000"),_.css.toColor("#4e9a06"),_.css.toColor("#c4a000"),_.css.toColor("#3465a4"),_.css.toColor("#75507b"),_.css.toColor("#06989a"),_.css.toColor("#d3d7cf"),_.css.toColor("#555753"),_.css.toColor("#ef2929"),_.css.toColor("#8ae234"),_.css.toColor("#fce94f"),_.css.toColor("#729fcf"),_.css.toColor("#ad7fa8"),_.css.toColor("#34e2e2"),_.css.toColor("#eeeeec")],b=[0,95,135,175,215,255];for(let E=0;E<216;E++){const D=b[E/36%6|0],O=b[E/6%6|0],N=b[E%6];R.push({css:_.channels.toCss(D,O,N),rgba:_.channels.toRgba(D,O,N)})}for(let E=0;E<24;E++){const D=8+10*E;R.push({css:_.channels.toCss(D,D,D),rgba:_.channels.toRgba(D,D,D)})}return R})());let w=o.ThemeService=class extends x.Disposable{get colors(){return this._colors}constructor(R){super(),this._optionsService=R,this._contrastCache=new h.ColorContrastCache,this._halfContrastCache=new h.ColorContrastCache,this._onChangeColors=this.register(new S.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:c,background:f,cursor:u,cursorAccent:d,selectionForeground:void 0,selectionBackgroundTransparent:y,selectionBackgroundOpaque:_.color.blend(f,y),selectionInactiveBackgroundTransparent:y,selectionInactiveBackgroundOpaque:_.color.blend(f,y),ansi:o.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(R={}){const b=this._colors;if(b.foreground=C(R.foreground,c),b.background=C(R.background,f),b.cursor=C(R.cursor,u),b.cursorAccent=C(R.cursorAccent,d),b.selectionBackgroundTransparent=C(R.selectionBackground,y),b.selectionBackgroundOpaque=_.color.blend(b.background,b.selectionBackgroundTransparent),b.selectionInactiveBackgroundTransparent=C(R.selectionInactiveBackground,b.selectionBackgroundTransparent),b.selectionInactiveBackgroundOpaque=_.color.blend(b.background,b.selectionInactiveBackgroundTransparent),b.selectionForeground=R.selectionForeground?C(R.selectionForeground,_.NULL_COLOR):void 0,b.selectionForeground===_.NULL_COLOR&&(b.selectionForeground=void 0),_.color.isOpaque(b.selectionBackgroundTransparent)&&(b.selectionBackgroundTransparent=_.color.opacity(b.selectionBackgroundTransparent,.3)),_.color.isOpaque(b.selectionInactiveBackgroundTransparent)&&(b.selectionInactiveBackgroundTransparent=_.color.opacity(b.selectionInactiveBackgroundTransparent,.3)),b.ansi=o.DEFAULT_ANSI_COLORS.slice(),b.ansi[0]=C(R.black,o.DEFAULT_ANSI_COLORS[0]),b.ansi[1]=C(R.red,o.DEFAULT_ANSI_COLORS[1]),b.ansi[2]=C(R.green,o.DEFAULT_ANSI_COLORS[2]),b.ansi[3]=C(R.yellow,o.DEFAULT_ANSI_COLORS[3]),b.ansi[4]=C(R.blue,o.DEFAULT_ANSI_COLORS[4]),b.ansi[5]=C(R.magenta,o.DEFAULT_ANSI_COLORS[5]),b.ansi[6]=C(R.cyan,o.DEFAULT_ANSI_COLORS[6]),b.ansi[7]=C(R.white,o.DEFAULT_ANSI_COLORS[7]),b.ansi[8]=C(R.brightBlack,o.DEFAULT_ANSI_COLORS[8]),b.ansi[9]=C(R.brightRed,o.DEFAULT_ANSI_COLORS[9]),b.ansi[10]=C(R.brightGreen,o.DEFAULT_ANSI_COLORS[10]),b.ansi[11]=C(R.brightYellow,o.DEFAULT_ANSI_COLORS[11]),b.ansi[12]=C(R.brightBlue,o.DEFAULT_ANSI_COLORS[12]),b.ansi[13]=C(R.brightMagenta,o.DEFAULT_ANSI_COLORS[13]),b.ansi[14]=C(R.brightCyan,o.DEFAULT_ANSI_COLORS[14]),b.ansi[15]=C(R.brightWhite,o.DEFAULT_ANSI_COLORS[15]),R.extendedAnsi){const E=Math.min(b.ansi.length-16,R.extendedAnsi.length);for(let D=0;D<E;D++)b.ansi[D+16]=C(R.extendedAnsi[D],o.DEFAULT_ANSI_COLORS[D+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(R){this._restoreColor(R),this._onChangeColors.fire(this.colors)}_restoreColor(R){if(R!==void 0)switch(R){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[R]=this._restoreColors.ansi[R]}else for(let b=0;b<this._restoreColors.ansi.length;++b)this._colors.ansi[b]=this._restoreColors.ansi[b]}modifyColors(R){R(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function C(R,b){if(R!==void 0)try{return _.css.toColor(R)}catch{}return b}o.ThemeService=w=p([g(0,v.IOptionsService)],w)},6349:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CircularList=void 0;const p=l(8460),g=l(844);class h extends g.Disposable{constructor(S){super(),this._maxLength=S,this.onDeleteEmitter=this.register(new p.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new p.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new p.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(S){if(this._maxLength===S)return;const x=new Array(S);for(let v=0;v<Math.min(S,this.length);v++)x[v]=this._array[this._getCyclicIndex(v)];this._array=x,this._maxLength=S,this._startIndex=0}get length(){return this._length}set length(S){if(S>this._length)for(let x=this._length;x<S;x++)this._array[x]=void 0;this._length=S}get(S){return this._array[this._getCyclicIndex(S)]}set(S,x){this._array[this._getCyclicIndex(S)]=x}push(S){this._array[this._getCyclicIndex(this._length)]=S,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(S,x,...v){if(x){for(let c=S;c<this._length-x;c++)this._array[this._getCyclicIndex(c)]=this._array[this._getCyclicIndex(c+x)];this._length-=x,this.onDeleteEmitter.fire({index:S,amount:x})}for(let c=this._length-1;c>=S;c--)this._array[this._getCyclicIndex(c+v.length)]=this._array[this._getCyclicIndex(c)];for(let c=0;c<v.length;c++)this._array[this._getCyclicIndex(S+c)]=v[c];if(v.length&&this.onInsertEmitter.fire({index:S,amount:v.length}),this._length+v.length>this._maxLength){const c=this._length+v.length-this._maxLength;this._startIndex+=c,this._length=this._maxLength,this.onTrimEmitter.fire(c)}else this._length+=v.length}trimStart(S){S>this._length&&(S=this._length),this._startIndex+=S,this._length-=S,this.onTrimEmitter.fire(S)}shiftElements(S,x,v){if(!(x<=0)){if(S<0||S>=this._length)throw new Error("start argument out of range");if(S+v<0)throw new Error("Cannot shift elements in list beyond index 0");if(v>0){for(let f=x-1;f>=0;f--)this.set(S+f+v,this.get(S+f));const c=S+x+v-this._length;if(c>0)for(this._length+=c;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let c=0;c<x;c++)this.set(S+c+v,this.get(S+c))}}_getCyclicIndex(S){return(this._startIndex+S)%this._maxLength}}o.CircularList=h},1439:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.clone=void 0,o.clone=function l(p,g=5){if(typeof p!="object")return p;const h=Array.isArray(p)?[]:{};for(const _ in p)h[_]=g<=1?p[_]:p[_]&&l(p[_],g-1);return h}},8055:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.contrastRatio=o.toPaddedHex=o.rgba=o.rgb=o.css=o.color=o.channels=o.NULL_COLOR=void 0;const p=l(6114);let g=0,h=0,_=0,S=0;var x,v,c,f,u;function d(w){const C=w.toString(16);return C.length<2?"0"+C:C}function y(w,C){return w<C?(C+.05)/(w+.05):(w+.05)/(C+.05)}o.NULL_COLOR={css:"#00000000",rgba:0},function(w){w.toCss=function(C,R,b,E){return E!==void 0?`#${d(C)}${d(R)}${d(b)}${d(E)}`:`#${d(C)}${d(R)}${d(b)}`},w.toRgba=function(C,R,b,E=255){return(C<<24|R<<16|b<<8|E)>>>0}}(x||(o.channels=x={})),function(w){function C(R,b){return S=Math.round(255*b),[g,h,_]=u.toChannels(R.rgba),{css:x.toCss(g,h,_,S),rgba:x.toRgba(g,h,_,S)}}w.blend=function(R,b){if(S=(255&b.rgba)/255,S===1)return{css:b.css,rgba:b.rgba};const E=b.rgba>>24&255,D=b.rgba>>16&255,O=b.rgba>>8&255,N=R.rgba>>24&255,A=R.rgba>>16&255,H=R.rgba>>8&255;return g=N+Math.round((E-N)*S),h=A+Math.round((D-A)*S),_=H+Math.round((O-H)*S),{css:x.toCss(g,h,_),rgba:x.toRgba(g,h,_)}},w.isOpaque=function(R){return(255&R.rgba)==255},w.ensureContrastRatio=function(R,b,E){const D=u.ensureContrastRatio(R.rgba,b.rgba,E);if(D)return u.toColor(D>>24&255,D>>16&255,D>>8&255)},w.opaque=function(R){const b=(255|R.rgba)>>>0;return[g,h,_]=u.toChannels(b),{css:x.toCss(g,h,_),rgba:b}},w.opacity=C,w.multiplyOpacity=function(R,b){return S=255&R.rgba,C(R,S*b/255)},w.toColorRGB=function(R){return[R.rgba>>24&255,R.rgba>>16&255,R.rgba>>8&255]}}(v||(o.color=v={})),function(w){let C,R;if(!p.isNode){const b=document.createElement("canvas");b.width=1,b.height=1;const E=b.getContext("2d",{willReadFrequently:!0});E&&(C=E,C.globalCompositeOperation="copy",R=C.createLinearGradient(0,0,1,1))}w.toColor=function(b){if(b.match(/#[\da-f]{3,8}/i))switch(b.length){case 4:return g=parseInt(b.slice(1,2).repeat(2),16),h=parseInt(b.slice(2,3).repeat(2),16),_=parseInt(b.slice(3,4).repeat(2),16),u.toColor(g,h,_);case 5:return g=parseInt(b.slice(1,2).repeat(2),16),h=parseInt(b.slice(2,3).repeat(2),16),_=parseInt(b.slice(3,4).repeat(2),16),S=parseInt(b.slice(4,5).repeat(2),16),u.toColor(g,h,_,S);case 7:return{css:b,rgba:(parseInt(b.slice(1),16)<<8|255)>>>0};case 9:return{css:b,rgba:parseInt(b.slice(1),16)>>>0}}const E=b.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(E)return g=parseInt(E[1]),h=parseInt(E[2]),_=parseInt(E[3]),S=Math.round(255*(E[5]===void 0?1:parseFloat(E[5]))),u.toColor(g,h,_,S);if(!C||!R)throw new Error("css.toColor: Unsupported css format");if(C.fillStyle=R,C.fillStyle=b,typeof C.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(C.fillRect(0,0,1,1),[g,h,_,S]=C.getImageData(0,0,1,1).data,S!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:x.toRgba(g,h,_,S),css:b}}}(c||(o.css=c={})),function(w){function C(R,b,E){const D=R/255,O=b/255,N=E/255;return .2126*(D<=.03928?D/12.92:Math.pow((D+.055)/1.055,2.4))+.7152*(O<=.03928?O/12.92:Math.pow((O+.055)/1.055,2.4))+.0722*(N<=.03928?N/12.92:Math.pow((N+.055)/1.055,2.4))}w.relativeLuminance=function(R){return C(R>>16&255,R>>8&255,255&R)},w.relativeLuminance2=C}(f||(o.rgb=f={})),function(w){function C(b,E,D){const O=b>>24&255,N=b>>16&255,A=b>>8&255;let H=E>>24&255,W=E>>16&255,K=E>>8&255,z=y(f.relativeLuminance2(H,W,K),f.relativeLuminance2(O,N,A));for(;z<D&&(H>0||W>0||K>0);)H-=Math.max(0,Math.ceil(.1*H)),W-=Math.max(0,Math.ceil(.1*W)),K-=Math.max(0,Math.ceil(.1*K)),z=y(f.relativeLuminance2(H,W,K),f.relativeLuminance2(O,N,A));return(H<<24|W<<16|K<<8|255)>>>0}function R(b,E,D){const O=b>>24&255,N=b>>16&255,A=b>>8&255;let H=E>>24&255,W=E>>16&255,K=E>>8&255,z=y(f.relativeLuminance2(H,W,K),f.relativeLuminance2(O,N,A));for(;z<D&&(H<255||W<255||K<255);)H=Math.min(255,H+Math.ceil(.1*(255-H))),W=Math.min(255,W+Math.ceil(.1*(255-W))),K=Math.min(255,K+Math.ceil(.1*(255-K))),z=y(f.relativeLuminance2(H,W,K),f.relativeLuminance2(O,N,A));return(H<<24|W<<16|K<<8|255)>>>0}w.ensureContrastRatio=function(b,E,D){const O=f.relativeLuminance(b>>8),N=f.relativeLuminance(E>>8);if(y(O,N)<D){if(N<O){const W=C(b,E,D),K=y(O,f.relativeLuminance(W>>8));if(K<D){const z=R(b,E,D);return K>y(O,f.relativeLuminance(z>>8))?W:z}return W}const A=R(b,E,D),H=y(O,f.relativeLuminance(A>>8));if(H<D){const W=C(b,E,D);return H>y(O,f.relativeLuminance(W>>8))?A:W}return A}},w.reduceLuminance=C,w.increaseLuminance=R,w.toChannels=function(b){return[b>>24&255,b>>16&255,b>>8&255,255&b]},w.toColor=function(b,E,D,O){return{css:x.toCss(b,E,D,O),rgba:x.toRgba(b,E,D,O)}}}(u||(o.rgba=u={})),o.toPaddedHex=d,o.contrastRatio=y},8969:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CoreTerminal=void 0;const p=l(844),g=l(2585),h=l(4348),_=l(7866),S=l(744),x=l(7302),v=l(6975),c=l(8460),f=l(1753),u=l(1480),d=l(7994),y=l(9282),w=l(5435),C=l(5981),R=l(2660);let b=!1;class E extends p.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new c.EventEmitter),this._onScroll.event(O=>{var N;(N=this._onScrollApi)===null||N===void 0||N.fire(O.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(O){for(const N in O)this.optionsService.options[N]=O[N]}constructor(O){super(),this._windowsWrappingHeuristics=this.register(new p.MutableDisposable),this._onBinary=this.register(new c.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new c.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new c.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new c.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new c.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new c.EventEmitter),this._instantiationService=new h.InstantiationService,this.optionsService=this.register(new x.OptionsService(O)),this._instantiationService.setService(g.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(S.BufferService)),this._instantiationService.setService(g.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(_.LogService)),this._instantiationService.setService(g.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(v.CoreService)),this._instantiationService.setService(g.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(f.CoreMouseService)),this._instantiationService.setService(g.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(u.UnicodeService)),this._instantiationService.setService(g.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(d.CharsetService),this._instantiationService.setService(g.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(R.OscLinkService),this._instantiationService.setService(g.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new w.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,c.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,c.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,c.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,c.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(N=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(N=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new C.WriteBuffer((N,A)=>this._inputHandler.parse(N,A))),this.register((0,c.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(O,N){this._writeBuffer.write(O,N)}writeSync(O,N){this._logService.logLevel<=g.LogLevelEnum.WARN&&!b&&(this._logService.warn("writeSync is unreliable and will be removed soon."),b=!0),this._writeBuffer.writeSync(O,N)}resize(O,N){isNaN(O)||isNaN(N)||(O=Math.max(O,S.MINIMUM_COLS),N=Math.max(N,S.MINIMUM_ROWS),this._bufferService.resize(O,N))}scroll(O,N=!1){this._bufferService.scroll(O,N)}scrollLines(O,N,A){this._bufferService.scrollLines(O,N,A)}scrollPages(O){this.scrollLines(O*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(O){const N=O-this._bufferService.buffer.ydisp;N!==0&&this.scrollLines(N)}registerEscHandler(O,N){return this._inputHandler.registerEscHandler(O,N)}registerDcsHandler(O,N){return this._inputHandler.registerDcsHandler(O,N)}registerCsiHandler(O,N){return this._inputHandler.registerCsiHandler(O,N)}registerOscHandler(O,N){return this._inputHandler.registerOscHandler(O,N)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let O=!1;const N=this.optionsService.rawOptions.windowsPty;N&&N.buildNumber!==void 0&&N.buildNumber!==void 0?O=N.backend==="conpty"&&N.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(O=!0),O?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const O=[];O.push(this.onLineFeed(y.updateWindowsModeWrappedState.bind(null,this._bufferService))),O.push(this.registerCsiHandler({final:"H"},()=>((0,y.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,p.toDisposable)(()=>{for(const N of O)N.dispose()})}}}o.CoreTerminal=E},8460:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.forwardEvent=o.EventEmitter=void 0,o.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=l=>(this._listeners.push(l),{dispose:()=>{if(!this._disposed){for(let p=0;p<this._listeners.length;p++)if(this._listeners[p]===l)return void this._listeners.splice(p,1)}}})),this._event}fire(l,p){const g=[];for(let h=0;h<this._listeners.length;h++)g.push(this._listeners[h]);for(let h=0;h<g.length;h++)g[h].call(void 0,l,p)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},o.forwardEvent=function(l,p){return l(g=>p.fire(g))}},5435:function(a,o,l){var p=this&&this.__decorate||function(z,L,T,P){var M,V=arguments.length,J=V<3?L:P===null?P=Object.getOwnPropertyDescriptor(L,T):P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")J=Reflect.decorate(z,L,T,P);else for(var re=z.length-1;re>=0;re--)(M=z[re])&&(J=(V<3?M(J):V>3?M(L,T,J):M(L,T))||J);return V>3&&J&&Object.defineProperty(L,T,J),J},g=this&&this.__param||function(z,L){return function(T,P){L(T,P,z)}};Object.defineProperty(o,"__esModule",{value:!0}),o.InputHandler=o.WindowsOptionsReportType=void 0;const h=l(2584),_=l(7116),S=l(2015),x=l(844),v=l(482),c=l(8437),f=l(8460),u=l(643),d=l(511),y=l(3734),w=l(2585),C=l(6242),R=l(6351),b=l(5941),E={"(":0,")":1,"*":2,"+":3,"-":1,".":2},D=131072;function O(z,L){if(z>24)return L.setWinLines||!1;switch(z){case 1:return!!L.restoreWin;case 2:return!!L.minimizeWin;case 3:return!!L.setWinPosition;case 4:return!!L.setWinSizePixels;case 5:return!!L.raiseWin;case 6:return!!L.lowerWin;case 7:return!!L.refreshWin;case 8:return!!L.setWinSizeChars;case 9:return!!L.maximizeWin;case 10:return!!L.fullscreenWin;case 11:return!!L.getWinState;case 13:return!!L.getWinPosition;case 14:return!!L.getWinSizePixels;case 15:return!!L.getScreenSizePixels;case 16:return!!L.getCellSizePixels;case 18:return!!L.getWinSizeChars;case 19:return!!L.getScreenSizeChars;case 20:return!!L.getIconTitle;case 21:return!!L.getWinTitle;case 22:return!!L.pushTitle;case 23:return!!L.popTitle;case 24:return!!L.setWinLines}return!1}var N;(function(z){z[z.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",z[z.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(N||(o.WindowsOptionsReportType=N={}));let A=0;class H extends x.Disposable{getAttrData(){return this._curAttrData}constructor(L,T,P,M,V,J,re,ne,ve=new S.EscapeSequenceParser){super(),this._bufferService=L,this._charsetService=T,this._coreService=P,this._logService=M,this._optionsService=V,this._oscLinkService=J,this._coreMouseService=re,this._unicodeService=ne,this._parser=ve,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new v.StringToUtf32,this._utf8Decoder=new v.Utf8ToUtf32,this._workCell=new d.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=c.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=c.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new f.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new f.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new f.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new f.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new f.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new f.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new f.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new f.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new f.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new f.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new f.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new f.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new f.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new W(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(j=>this._activeBuffer=j.activeBuffer)),this._parser.setCsiHandlerFallback((j,F)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(j),params:F.toArray()})}),this._parser.setEscHandlerFallback(j=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(j)})}),this._parser.setExecuteHandlerFallback(j=>{this._logService.debug("Unknown EXECUTE code: ",{code:j})}),this._parser.setOscHandlerFallback((j,F,G)=>{this._logService.debug("Unknown OSC code: ",{identifier:j,action:F,data:G})}),this._parser.setDcsHandlerFallback((j,F,G)=>{F==="HOOK"&&(G=G.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(j),action:F,payload:G})}),this._parser.setPrintHandler((j,F,G)=>this.print(j,F,G)),this._parser.registerCsiHandler({final:"@"},j=>this.insertChars(j)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},j=>this.scrollLeft(j)),this._parser.registerCsiHandler({final:"A"},j=>this.cursorUp(j)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},j=>this.scrollRight(j)),this._parser.registerCsiHandler({final:"B"},j=>this.cursorDown(j)),this._parser.registerCsiHandler({final:"C"},j=>this.cursorForward(j)),this._parser.registerCsiHandler({final:"D"},j=>this.cursorBackward(j)),this._parser.registerCsiHandler({final:"E"},j=>this.cursorNextLine(j)),this._parser.registerCsiHandler({final:"F"},j=>this.cursorPrecedingLine(j)),this._parser.registerCsiHandler({final:"G"},j=>this.cursorCharAbsolute(j)),this._parser.registerCsiHandler({final:"H"},j=>this.cursorPosition(j)),this._parser.registerCsiHandler({final:"I"},j=>this.cursorForwardTab(j)),this._parser.registerCsiHandler({final:"J"},j=>this.eraseInDisplay(j,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},j=>this.eraseInDisplay(j,!0)),this._parser.registerCsiHandler({final:"K"},j=>this.eraseInLine(j,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},j=>this.eraseInLine(j,!0)),this._parser.registerCsiHandler({final:"L"},j=>this.insertLines(j)),this._parser.registerCsiHandler({final:"M"},j=>this.deleteLines(j)),this._parser.registerCsiHandler({final:"P"},j=>this.deleteChars(j)),this._parser.registerCsiHandler({final:"S"},j=>this.scrollUp(j)),this._parser.registerCsiHandler({final:"T"},j=>this.scrollDown(j)),this._parser.registerCsiHandler({final:"X"},j=>this.eraseChars(j)),this._parser.registerCsiHandler({final:"Z"},j=>this.cursorBackwardTab(j)),this._parser.registerCsiHandler({final:"`"},j=>this.charPosAbsolute(j)),this._parser.registerCsiHandler({final:"a"},j=>this.hPositionRelative(j)),this._parser.registerCsiHandler({final:"b"},j=>this.repeatPrecedingCharacter(j)),this._parser.registerCsiHandler({final:"c"},j=>this.sendDeviceAttributesPrimary(j)),this._parser.registerCsiHandler({prefix:">",final:"c"},j=>this.sendDeviceAttributesSecondary(j)),this._parser.registerCsiHandler({final:"d"},j=>this.linePosAbsolute(j)),this._parser.registerCsiHandler({final:"e"},j=>this.vPositionRelative(j)),this._parser.registerCsiHandler({final:"f"},j=>this.hVPosition(j)),this._parser.registerCsiHandler({final:"g"},j=>this.tabClear(j)),this._parser.registerCsiHandler({final:"h"},j=>this.setMode(j)),this._parser.registerCsiHandler({prefix:"?",final:"h"},j=>this.setModePrivate(j)),this._parser.registerCsiHandler({final:"l"},j=>this.resetMode(j)),this._parser.registerCsiHandler({prefix:"?",final:"l"},j=>this.resetModePrivate(j)),this._parser.registerCsiHandler({final:"m"},j=>this.charAttributes(j)),this._parser.registerCsiHandler({final:"n"},j=>this.deviceStatus(j)),this._parser.registerCsiHandler({prefix:"?",final:"n"},j=>this.deviceStatusPrivate(j)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},j=>this.softReset(j)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},j=>this.setCursorStyle(j)),this._parser.registerCsiHandler({final:"r"},j=>this.setScrollRegion(j)),this._parser.registerCsiHandler({final:"s"},j=>this.saveCursor(j)),this._parser.registerCsiHandler({final:"t"},j=>this.windowOptions(j)),this._parser.registerCsiHandler({final:"u"},j=>this.restoreCursor(j)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},j=>this.insertColumns(j)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},j=>this.deleteColumns(j)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},j=>this.selectProtected(j)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},j=>this.requestMode(j,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},j=>this.requestMode(j,!1)),this._parser.setExecuteHandler(h.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(h.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(h.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(h.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(h.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(h.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(h.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(h.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(h.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(h.C1.IND,()=>this.index()),this._parser.setExecuteHandler(h.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(h.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new C.OscHandler(j=>(this.setTitle(j),this.setIconName(j),!0))),this._parser.registerOscHandler(1,new C.OscHandler(j=>this.setIconName(j))),this._parser.registerOscHandler(2,new C.OscHandler(j=>this.setTitle(j))),this._parser.registerOscHandler(4,new C.OscHandler(j=>this.setOrReportIndexedColor(j))),this._parser.registerOscHandler(8,new C.OscHandler(j=>this.setHyperlink(j))),this._parser.registerOscHandler(10,new C.OscHandler(j=>this.setOrReportFgColor(j))),this._parser.registerOscHandler(11,new C.OscHandler(j=>this.setOrReportBgColor(j))),this._parser.registerOscHandler(12,new C.OscHandler(j=>this.setOrReportCursorColor(j))),this._parser.registerOscHandler(104,new C.OscHandler(j=>this.restoreIndexedColor(j))),this._parser.registerOscHandler(110,new C.OscHandler(j=>this.restoreFgColor(j))),this._parser.registerOscHandler(111,new C.OscHandler(j=>this.restoreBgColor(j))),this._parser.registerOscHandler(112,new C.OscHandler(j=>this.restoreCursorColor(j))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const j in _.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:j},()=>this.selectCharset("("+j)),this._parser.registerEscHandler({intermediates:")",final:j},()=>this.selectCharset(")"+j)),this._parser.registerEscHandler({intermediates:"*",final:j},()=>this.selectCharset("*"+j)),this._parser.registerEscHandler({intermediates:"+",final:j},()=>this.selectCharset("+"+j)),this._parser.registerEscHandler({intermediates:"-",final:j},()=>this.selectCharset("-"+j)),this._parser.registerEscHandler({intermediates:".",final:j},()=>this.selectCharset("."+j)),this._parser.registerEscHandler({intermediates:"/",final:j},()=>this.selectCharset("/"+j));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(j=>(this._logService.error("Parsing error: ",j),j)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new R.DcsHandler((j,F)=>this.requestStatusString(j,F)))}_preserveStack(L,T,P,M){this._parseStack.paused=!0,this._parseStack.cursorStartX=L,this._parseStack.cursorStartY=T,this._parseStack.decodedLength=P,this._parseStack.position=M}_logSlowResolvingAsync(L){this._logService.logLevel<=w.LogLevelEnum.WARN&&Promise.race([L,new Promise((T,P)=>setTimeout(()=>P("#SLOW_TIMEOUT"),5e3))]).catch(T=>{if(T!=="#SLOW_TIMEOUT")throw T;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(L,T){let P,M=this._activeBuffer.x,V=this._activeBuffer.y,J=0;const re=this._parseStack.paused;if(re){if(P=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,T))return this._logSlowResolvingAsync(P),P;M=this._parseStack.cursorStartX,V=this._parseStack.cursorStartY,this._parseStack.paused=!1,L.length>D&&(J=this._parseStack.position+D)}if(this._logService.logLevel<=w.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof L=="string"?` "${L}"`:` "${Array.prototype.map.call(L,ne=>String.fromCharCode(ne)).join("")}"`),typeof L=="string"?L.split("").map(ne=>ne.charCodeAt(0)):L),this._parseBuffer.length<L.length&&this._parseBuffer.length<D&&(this._parseBuffer=new Uint32Array(Math.min(L.length,D))),re||this._dirtyRowTracker.clearRange(),L.length>D)for(let ne=J;ne<L.length;ne+=D){const ve=ne+D<L.length?ne+D:L.length,j=typeof L=="string"?this._stringDecoder.decode(L.substring(ne,ve),this._parseBuffer):this._utf8Decoder.decode(L.subarray(ne,ve),this._parseBuffer);if(P=this._parser.parse(this._parseBuffer,j))return this._preserveStack(M,V,j,ne),this._logSlowResolvingAsync(P),P}else if(!re){const ne=typeof L=="string"?this._stringDecoder.decode(L,this._parseBuffer):this._utf8Decoder.decode(L,this._parseBuffer);if(P=this._parser.parse(this._parseBuffer,ne))return this._preserveStack(M,V,ne,0),this._logSlowResolvingAsync(P),P}this._activeBuffer.x===M&&this._activeBuffer.y===V||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(L,T,P){let M,V;const J=this._charsetService.charset,re=this._optionsService.rawOptions.screenReaderMode,ne=this._bufferService.cols,ve=this._coreService.decPrivateModes.wraparound,j=this._coreService.modes.insertMode,F=this._curAttrData;let G=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&P-T>0&&G.getWidth(this._activeBuffer.x-1)===2&&G.setCellFromCodePoint(this._activeBuffer.x-1,0,1,F.fg,F.bg,F.extended);for(let Q=T;Q<P;++Q){if(M=L[Q],V=this._unicodeService.wcwidth(M),M<127&&J){const ie=J[String.fromCharCode(M)];ie&&(M=ie.charCodeAt(0))}if(re&&this._onA11yChar.fire((0,v.stringFromCodePoint)(M)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),V||!this._activeBuffer.x){if(this._activeBuffer.x+V-1>=ne){if(ve){for(;this._activeBuffer.x<ne;)G.setCellFromCodePoint(this._activeBuffer.x++,0,1,F.fg,F.bg,F.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),G=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=ne-1,V===2)continue}if(j&&(G.insertCells(this._activeBuffer.x,V,this._activeBuffer.getNullCell(F),F),G.getWidth(ne-1)===2&&G.setCellFromCodePoint(ne-1,u.NULL_CELL_CODE,u.NULL_CELL_WIDTH,F.fg,F.bg,F.extended)),G.setCellFromCodePoint(this._activeBuffer.x++,M,V,F.fg,F.bg,F.extended),V>0)for(;--V;)G.setCellFromCodePoint(this._activeBuffer.x++,0,0,F.fg,F.bg,F.extended)}else G.getWidth(this._activeBuffer.x-1)?G.addCodepointToCell(this._activeBuffer.x-1,M):G.addCodepointToCell(this._activeBuffer.x-2,M)}P-T>0&&(G.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<ne&&P-T>0&&G.getWidth(this._activeBuffer.x)===0&&!G.hasContent(this._activeBuffer.x)&&G.setCellFromCodePoint(this._activeBuffer.x,0,1,F.fg,F.bg,F.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(L,T){return L.final!=="t"||L.prefix||L.intermediates?this._parser.registerCsiHandler(L,T):this._parser.registerCsiHandler(L,P=>!O(P.params[0],this._optionsService.rawOptions.windowOptions)||T(P))}registerDcsHandler(L,T){return this._parser.registerDcsHandler(L,new R.DcsHandler(T))}registerEscHandler(L,T){return this._parser.registerEscHandler(L,T)}registerOscHandler(L,T){return this._parser.registerOscHandler(L,new C.OscHandler(T))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var L;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(!((L=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||L===void 0)&&L.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const T=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);T.hasWidth(this._activeBuffer.x)&&!T.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const L=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-L),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(L=this._bufferService.cols-1){this._activeBuffer.x=Math.min(L,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(L,T){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=L,this._activeBuffer.y=this._activeBuffer.scrollTop+T):(this._activeBuffer.x=L,this._activeBuffer.y=T),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(L,T){this._restrictCursor(),this._setCursor(this._activeBuffer.x+L,this._activeBuffer.y+T)}cursorUp(L){const T=this._activeBuffer.y-this._activeBuffer.scrollTop;return T>=0?this._moveCursor(0,-Math.min(T,L.params[0]||1)):this._moveCursor(0,-(L.params[0]||1)),!0}cursorDown(L){const T=this._activeBuffer.scrollBottom-this._activeBuffer.y;return T>=0?this._moveCursor(0,Math.min(T,L.params[0]||1)):this._moveCursor(0,L.params[0]||1),!0}cursorForward(L){return this._moveCursor(L.params[0]||1,0),!0}cursorBackward(L){return this._moveCursor(-(L.params[0]||1),0),!0}cursorNextLine(L){return this.cursorDown(L),this._activeBuffer.x=0,!0}cursorPrecedingLine(L){return this.cursorUp(L),this._activeBuffer.x=0,!0}cursorCharAbsolute(L){return this._setCursor((L.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(L){return this._setCursor(L.length>=2?(L.params[1]||1)-1:0,(L.params[0]||1)-1),!0}charPosAbsolute(L){return this._setCursor((L.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(L){return this._moveCursor(L.params[0]||1,0),!0}linePosAbsolute(L){return this._setCursor(this._activeBuffer.x,(L.params[0]||1)-1),!0}vPositionRelative(L){return this._moveCursor(0,L.params[0]||1),!0}hVPosition(L){return this.cursorPosition(L),!0}tabClear(L){const T=L.params[0];return T===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:T===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(L){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let T=L.params[0]||1;for(;T--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(L){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let T=L.params[0]||1;for(;T--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(L){const T=L.params[0];return T===1&&(this._curAttrData.bg|=536870912),T!==2&&T!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(L,T,P,M=!1,V=!1){const J=this._activeBuffer.lines.get(this._activeBuffer.ybase+L);J.replaceCells(T,P,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),V),M&&(J.isWrapped=!1)}_resetBufferLine(L,T=!1){const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+L);P&&(P.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),T),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+L),P.isWrapped=!1)}eraseInDisplay(L,T=!1){let P;switch(this._restrictCursor(this._bufferService.cols),L.params[0]){case 0:for(P=this._activeBuffer.y,this._dirtyRowTracker.markDirty(P),this._eraseInBufferLine(P++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,T);P<this._bufferService.rows;P++)this._resetBufferLine(P,T);this._dirtyRowTracker.markDirty(P);break;case 1:for(P=this._activeBuffer.y,this._dirtyRowTracker.markDirty(P),this._eraseInBufferLine(P,0,this._activeBuffer.x+1,!0,T),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(P+1).isWrapped=!1);P--;)this._resetBufferLine(P,T);this._dirtyRowTracker.markDirty(0);break;case 2:for(P=this._bufferService.rows,this._dirtyRowTracker.markDirty(P-1);P--;)this._resetBufferLine(P,T);this._dirtyRowTracker.markDirty(0);break;case 3:const M=this._activeBuffer.lines.length-this._bufferService.rows;M>0&&(this._activeBuffer.lines.trimStart(M),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-M,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-M,0),this._onScroll.fire(0))}return!0}eraseInLine(L,T=!1){switch(this._restrictCursor(this._bufferService.cols),L.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,T);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,T);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,T)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(L){this._restrictCursor();let T=L.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const P=this._activeBuffer.ybase+this._activeBuffer.y,M=this._bufferService.rows-1-this._activeBuffer.scrollBottom,V=this._bufferService.rows-1+this._activeBuffer.ybase-M+1;for(;T--;)this._activeBuffer.lines.splice(V-1,1),this._activeBuffer.lines.splice(P,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(L){this._restrictCursor();let T=L.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const P=this._activeBuffer.ybase+this._activeBuffer.y;let M;for(M=this._bufferService.rows-1-this._activeBuffer.scrollBottom,M=this._bufferService.rows-1+this._activeBuffer.ybase-M;T--;)this._activeBuffer.lines.splice(P,1),this._activeBuffer.lines.splice(M,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(L){this._restrictCursor();const T=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return T&&(T.insertCells(this._activeBuffer.x,L.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(L){this._restrictCursor();const T=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return T&&(T.deleteCells(this._activeBuffer.x,L.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(L){let T=L.params[0]||1;for(;T--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(L){let T=L.params[0]||1;for(;T--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(c.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(L){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const T=L.params[0]||1;for(let P=this._activeBuffer.scrollTop;P<=this._activeBuffer.scrollBottom;++P){const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+P);M.deleteCells(0,T,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),M.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(L){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const T=L.params[0]||1;for(let P=this._activeBuffer.scrollTop;P<=this._activeBuffer.scrollBottom;++P){const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+P);M.insertCells(0,T,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),M.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(L){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const T=L.params[0]||1;for(let P=this._activeBuffer.scrollTop;P<=this._activeBuffer.scrollBottom;++P){const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+P);M.insertCells(this._activeBuffer.x,T,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),M.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(L){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const T=L.params[0]||1;for(let P=this._activeBuffer.scrollTop;P<=this._activeBuffer.scrollBottom;++P){const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+P);M.deleteCells(this._activeBuffer.x,T,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),M.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(L){this._restrictCursor();const T=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return T&&(T.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(L.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(L){if(!this._parser.precedingCodepoint)return!0;const T=L.params[0]||1,P=new Uint32Array(T);for(let M=0;M<T;++M)P[M]=this._parser.precedingCodepoint;return this.print(P,0,P.length),!0}sendDeviceAttributesPrimary(L){return L.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(h.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(h.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(L){return L.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(h.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(h.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(L.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(h.C0.ESC+"[>83;40003;0c")),!0}_is(L){return(this._optionsService.rawOptions.termName+"").indexOf(L)===0}setMode(L){for(let T=0;T<L.length;T++)switch(L.params[T]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(L){for(let T=0;T<L.length;T++)switch(L.params[T]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,_.DEFAULT_CHARSET),this._charsetService.setgCharset(1,_.DEFAULT_CHARSET),this._charsetService.setgCharset(2,_.DEFAULT_CHARSET),this._charsetService.setgCharset(3,_.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(L){for(let T=0;T<L.length;T++)switch(L.params[T]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(L){for(let T=0;T<L.length;T++)switch(L.params[T]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),L.params[T]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(L,T){const P=this._coreService.decPrivateModes,{activeProtocol:M,activeEncoding:V}=this._coreMouseService,J=this._coreService,{buffers:re,cols:ne}=this._bufferService,{active:ve,alt:j}=re,F=this._optionsService.rawOptions,G=de=>de?1:2,Q=L.params[0];return ie=Q,te=T?Q===2?4:Q===4?G(J.modes.insertMode):Q===12?3:Q===20?G(F.convertEol):0:Q===1?G(P.applicationCursorKeys):Q===3?F.windowOptions.setWinLines?ne===80?2:ne===132?1:0:0:Q===6?G(P.origin):Q===7?G(P.wraparound):Q===8?3:Q===9?G(M==="X10"):Q===12?G(F.cursorBlink):Q===25?G(!J.isCursorHidden):Q===45?G(P.reverseWraparound):Q===66?G(P.applicationKeypad):Q===67?4:Q===1e3?G(M==="VT200"):Q===1002?G(M==="DRAG"):Q===1003?G(M==="ANY"):Q===1004?G(P.sendFocus):Q===1005?4:Q===1006?G(V==="SGR"):Q===1015?4:Q===1016?G(V==="SGR_PIXELS"):Q===1048?1:Q===47||Q===1047||Q===1049?G(ve===j):Q===2004?G(P.bracketedPasteMode):0,J.triggerDataEvent(`${h.C0.ESC}[${T?"":"?"}${ie};${te}$y`),!0;var ie,te}_updateAttrColor(L,T,P,M,V){return T===2?(L|=50331648,L&=-16777216,L|=y.AttributeData.fromColorRGB([P,M,V])):T===5&&(L&=-50331904,L|=33554432|255&P),L}_extractColor(L,T,P){const M=[0,0,-1,0,0,0];let V=0,J=0;do{if(M[J+V]=L.params[T+J],L.hasSubParams(T+J)){const re=L.getSubParams(T+J);let ne=0;do M[1]===5&&(V=1),M[J+ne+1+V]=re[ne];while(++ne<re.length&&ne+J+1+V<M.length);break}if(M[1]===5&&J+V>=2||M[1]===2&&J+V>=5)break;M[1]&&(V=1)}while(++J+T<L.length&&J+V<M.length);for(let re=2;re<M.length;++re)M[re]===-1&&(M[re]=0);switch(M[0]){case 38:P.fg=this._updateAttrColor(P.fg,M[1],M[3],M[4],M[5]);break;case 48:P.bg=this._updateAttrColor(P.bg,M[1],M[3],M[4],M[5]);break;case 58:P.extended=P.extended.clone(),P.extended.underlineColor=this._updateAttrColor(P.extended.underlineColor,M[1],M[3],M[4],M[5])}return J}_processUnderline(L,T){T.extended=T.extended.clone(),(!~L||L>5)&&(L=1),T.extended.underlineStyle=L,T.fg|=268435456,L===0&&(T.fg&=-268435457),T.updateExtended()}_processSGR0(L){L.fg=c.DEFAULT_ATTR_DATA.fg,L.bg=c.DEFAULT_ATTR_DATA.bg,L.extended=L.extended.clone(),L.extended.underlineStyle=0,L.extended.underlineColor&=-67108864,L.updateExtended()}charAttributes(L){if(L.length===1&&L.params[0]===0)return this._processSGR0(this._curAttrData),!0;const T=L.length;let P;const M=this._curAttrData;for(let V=0;V<T;V++)P=L.params[V],P>=30&&P<=37?(M.fg&=-50331904,M.fg|=16777216|P-30):P>=40&&P<=47?(M.bg&=-50331904,M.bg|=16777216|P-40):P>=90&&P<=97?(M.fg&=-50331904,M.fg|=16777224|P-90):P>=100&&P<=107?(M.bg&=-50331904,M.bg|=16777224|P-100):P===0?this._processSGR0(M):P===1?M.fg|=134217728:P===3?M.bg|=67108864:P===4?(M.fg|=268435456,this._processUnderline(L.hasSubParams(V)?L.getSubParams(V)[0]:1,M)):P===5?M.fg|=536870912:P===7?M.fg|=67108864:P===8?M.fg|=1073741824:P===9?M.fg|=2147483648:P===2?M.bg|=134217728:P===21?this._processUnderline(2,M):P===22?(M.fg&=-134217729,M.bg&=-134217729):P===23?M.bg&=-67108865:P===24?(M.fg&=-268435457,this._processUnderline(0,M)):P===25?M.fg&=-536870913:P===27?M.fg&=-67108865:P===28?M.fg&=-1073741825:P===29?M.fg&=2147483647:P===39?(M.fg&=-67108864,M.fg|=16777215&c.DEFAULT_ATTR_DATA.fg):P===49?(M.bg&=-67108864,M.bg|=16777215&c.DEFAULT_ATTR_DATA.bg):P===38||P===48||P===58?V+=this._extractColor(L,V,M):P===53?M.bg|=1073741824:P===55?M.bg&=-1073741825:P===59?(M.extended=M.extended.clone(),M.extended.underlineColor=-1,M.updateExtended()):P===100?(M.fg&=-67108864,M.fg|=16777215&c.DEFAULT_ATTR_DATA.fg,M.bg&=-67108864,M.bg|=16777215&c.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",P);return!0}deviceStatus(L){switch(L.params[0]){case 5:this._coreService.triggerDataEvent(`${h.C0.ESC}[0n`);break;case 6:const T=this._activeBuffer.y+1,P=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${h.C0.ESC}[${T};${P}R`)}return!0}deviceStatusPrivate(L){if(L.params[0]===6){const T=this._activeBuffer.y+1,P=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${h.C0.ESC}[?${T};${P}R`)}return!0}softReset(L){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=c.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(L){const T=L.params[0]||1;switch(T){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const P=T%2==1;return this._optionsService.options.cursorBlink=P,!0}setScrollRegion(L){const T=L.params[0]||1;let P;return(L.length<2||(P=L.params[1])>this._bufferService.rows||P===0)&&(P=this._bufferService.rows),P>T&&(this._activeBuffer.scrollTop=T-1,this._activeBuffer.scrollBottom=P-1,this._setCursor(0,0)),!0}windowOptions(L){if(!O(L.params[0],this._optionsService.rawOptions.windowOptions))return!0;const T=L.length>1?L.params[1]:0;switch(L.params[0]){case 14:T!==2&&this._onRequestWindowsOptionsReport.fire(N.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(N.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${h.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:T!==0&&T!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),T!==0&&T!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:T!==0&&T!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),T!==0&&T!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(L){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(L){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(L){return this._windowTitle=L,this._onTitleChange.fire(L),!0}setIconName(L){return this._iconName=L,!0}setOrReportIndexedColor(L){const T=[],P=L.split(";");for(;P.length>1;){const M=P.shift(),V=P.shift();if(/^\d+$/.exec(M)){const J=parseInt(M);if(K(J))if(V==="?")T.push({type:0,index:J});else{const re=(0,b.parseColor)(V);re&&T.push({type:1,index:J,color:re})}}}return T.length&&this._onColor.fire(T),!0}setHyperlink(L){const T=L.split(";");return!(T.length<2)&&(T[1]?this._createHyperlink(T[0],T[1]):!T[0]&&this._finishHyperlink())}_createHyperlink(L,T){this._getCurrentLinkId()&&this._finishHyperlink();const P=L.split(":");let M;const V=P.findIndex(J=>J.startsWith("id="));return V!==-1&&(M=P[V].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:M,uri:T}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(L,T){const P=L.split(";");for(let M=0;M<P.length&&!(T>=this._specialColors.length);++M,++T)if(P[M]==="?")this._onColor.fire([{type:0,index:this._specialColors[T]}]);else{const V=(0,b.parseColor)(P[M]);V&&this._onColor.fire([{type:1,index:this._specialColors[T],color:V}])}return!0}setOrReportFgColor(L){return this._setOrReportSpecialColor(L,0)}setOrReportBgColor(L){return this._setOrReportSpecialColor(L,1)}setOrReportCursorColor(L){return this._setOrReportSpecialColor(L,2)}restoreIndexedColor(L){if(!L)return this._onColor.fire([{type:2}]),!0;const T=[],P=L.split(";");for(let M=0;M<P.length;++M)if(/^\d+$/.exec(P[M])){const V=parseInt(P[M]);K(V)&&T.push({type:2,index:V})}return T.length&&this._onColor.fire(T),!0}restoreFgColor(L){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(L){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(L){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,_.DEFAULT_CHARSET),!0}selectCharset(L){return L.length!==2?(this.selectDefaultCharset(),!0):(L[0]==="/"||this._charsetService.setgCharset(E[L[0]],_.CHARSETS[L[1]]||_.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const L=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,L,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=c.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=c.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(L){return this._charsetService.setgLevel(L),!0}screenAlignmentPattern(){const L=new d.CellData;L.content=4194304|"E".charCodeAt(0),L.fg=this._curAttrData.fg,L.bg=this._curAttrData.bg,this._setCursor(0,0);for(let T=0;T<this._bufferService.rows;++T){const P=this._activeBuffer.ybase+this._activeBuffer.y+T,M=this._activeBuffer.lines.get(P);M&&(M.fill(L),M.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(L,T){const P=this._bufferService.buffer,M=this._optionsService.rawOptions;return(V=>(this._coreService.triggerDataEvent(`${h.C0.ESC}${V}${h.C0.ESC}\\`),!0))(L==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:L==='"p'?'P1$r61;1"p':L==="r"?`P1$r${P.scrollTop+1};${P.scrollBottom+1}r`:L==="m"?"P1$r0m":L===" q"?`P1$r${{block:2,underline:4,bar:6}[M.cursorStyle]-(M.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(L,T){this._dirtyRowTracker.markRangeDirty(L,T)}}o.InputHandler=H;let W=class{constructor(z){this._bufferService=z,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(z){z<this.start?this.start=z:z>this.end&&(this.end=z)}markRangeDirty(z,L){z>L&&(A=z,z=L,L=A),z<this.start&&(this.start=z),L>this.end&&(this.end=L)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function K(z){return 0<=z&&z<256}W=p([g(0,w.IBufferService)],W)},844:(a,o)=>{function l(p){for(const g of p)g.dispose();p.length=0}Object.defineProperty(o,"__esModule",{value:!0}),o.getDisposeArrayDisposable=o.disposeArray=o.toDisposable=o.MutableDisposable=o.Disposable=void 0,o.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const p of this._disposables)p.dispose();this._disposables.length=0}register(p){return this._disposables.push(p),p}unregister(p){const g=this._disposables.indexOf(p);g!==-1&&this._disposables.splice(g,1)}},o.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(p){var g;this._isDisposed||p===this._value||((g=this._value)===null||g===void 0||g.dispose(),this._value=p)}clear(){this.value=void 0}dispose(){var p;this._isDisposed=!0,(p=this._value)===null||p===void 0||p.dispose(),this._value=void 0}},o.toDisposable=function(p){return{dispose:p}},o.disposeArray=l,o.getDisposeArrayDisposable=function(p){return{dispose:()=>l(p)}}},1505:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.FourKeyMap=o.TwoKeyMap=void 0;class l{constructor(){this._data={}}set(g,h,_){this._data[g]||(this._data[g]={}),this._data[g][h]=_}get(g,h){return this._data[g]?this._data[g][h]:void 0}clear(){this._data={}}}o.TwoKeyMap=l,o.FourKeyMap=class{constructor(){this._data=new l}set(p,g,h,_,S){this._data.get(p,g)||this._data.set(p,g,new l),this._data.get(p,g).set(h,_,S)}get(p,g,h,_){var S;return(S=this._data.get(p,g))===null||S===void 0?void 0:S.get(h,_)}clear(){this._data.clear()}}},6114:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.isChromeOS=o.isLinux=o.isWindows=o.isIphone=o.isIpad=o.isMac=o.getSafariVersion=o.isSafari=o.isLegacyEdge=o.isFirefox=o.isNode=void 0,o.isNode=typeof navigator>"u";const l=o.isNode?"node":navigator.userAgent,p=o.isNode?"node":navigator.platform;o.isFirefox=l.includes("Firefox"),o.isLegacyEdge=l.includes("Edge"),o.isSafari=/^((?!chrome|android).)*safari/i.test(l),o.getSafariVersion=function(){if(!o.isSafari)return 0;const g=l.match(/Version\/(\d+)/);return g===null||g.length<2?0:parseInt(g[1])},o.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(p),o.isIpad=p==="iPad",o.isIphone=p==="iPhone",o.isWindows=["Windows","Win16","Win32","WinCE"].includes(p),o.isLinux=p.indexOf("Linux")>=0,o.isChromeOS=/\bCrOS\b/.test(l)},6106:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SortedList=void 0;let l=0;o.SortedList=class{constructor(p){this._getKey=p,this._array=[]}clear(){this._array.length=0}insert(p){this._array.length!==0?(l=this._search(this._getKey(p)),this._array.splice(l,0,p)):this._array.push(p)}delete(p){if(this._array.length===0)return!1;const g=this._getKey(p);if(g===void 0||(l=this._search(g),l===-1)||this._getKey(this._array[l])!==g)return!1;do if(this._array[l]===p)return this._array.splice(l,1),!0;while(++l<this._array.length&&this._getKey(this._array[l])===g);return!1}*getKeyIterator(p){if(this._array.length!==0&&(l=this._search(p),!(l<0||l>=this._array.length)&&this._getKey(this._array[l])===p))do yield this._array[l];while(++l<this._array.length&&this._getKey(this._array[l])===p)}forEachByKey(p,g){if(this._array.length!==0&&(l=this._search(p),!(l<0||l>=this._array.length)&&this._getKey(this._array[l])===p))do g(this._array[l]);while(++l<this._array.length&&this._getKey(this._array[l])===p)}values(){return[...this._array].values()}_search(p){let g=0,h=this._array.length-1;for(;h>=g;){let _=g+h>>1;const S=this._getKey(this._array[_]);if(S>p)h=_-1;else{if(!(S<p)){for(;_>0&&this._getKey(this._array[_-1])===p;)_--;return _}g=_+1}}return g}}},7226:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DebouncedIdleTask=o.IdleTaskQueue=o.PriorityTaskQueue=void 0;const p=l(6114);class g{constructor(){this._tasks=[],this._i=0}enqueue(S){this._tasks.push(S),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(S){this._idleCallback=void 0;let x=0,v=0,c=S.timeRemaining(),f=0;for(;this._i<this._tasks.length;){if(x=Date.now(),this._tasks[this._i]()||this._i++,x=Math.max(1,Date.now()-x),v=Math.max(x,v),f=S.timeRemaining(),1.5*v>f)return c-x<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(c-x))}ms`),void this._start();c=f}this.clear()}}class h extends g{_requestCallback(S){return setTimeout(()=>S(this._createDeadline(16)))}_cancelCallback(S){clearTimeout(S)}_createDeadline(S){const x=Date.now()+S;return{timeRemaining:()=>Math.max(0,x-Date.now())}}}o.PriorityTaskQueue=h,o.IdleTaskQueue=!p.isNode&&"requestIdleCallback"in window?class extends g{_requestCallback(_){return requestIdleCallback(_)}_cancelCallback(_){cancelIdleCallback(_)}}:h,o.DebouncedIdleTask=class{constructor(){this._queue=new o.IdleTaskQueue}set(_){this._queue.clear(),this._queue.enqueue(_)}flush(){this._queue.flush()}}},9282:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.updateWindowsModeWrappedState=void 0;const p=l(643);o.updateWindowsModeWrappedState=function(g){const h=g.buffer.lines.get(g.buffer.ybase+g.buffer.y-1),_=h==null?void 0:h.get(g.cols-1),S=g.buffer.lines.get(g.buffer.ybase+g.buffer.y);S&&_&&(S.isWrapped=_[p.CHAR_DATA_CODE_INDEX]!==p.NULL_CELL_CODE&&_[p.CHAR_DATA_CODE_INDEX]!==p.WHITESPACE_CELL_CODE)}},3734:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ExtendedAttrs=o.AttributeData=void 0;class l{constructor(){this.fg=0,this.bg=0,this.extended=new p}static toColorRGB(h){return[h>>>16&255,h>>>8&255,255&h]}static fromColorRGB(h){return(255&h[0])<<16|(255&h[1])<<8|255&h[2]}clone(){const h=new l;return h.fg=this.fg,h.bg=this.bg,h.extended=this.extended.clone(),h}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}o.AttributeData=l;class p{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(h){this._ext=h}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(h){this._ext&=-469762049,this._ext|=h<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(h){this._ext&=-67108864,this._ext|=67108863&h}get urlId(){return this._urlId}set urlId(h){this._urlId=h}constructor(h=0,_=0){this._ext=0,this._urlId=0,this._ext=h,this._urlId=_}clone(){return new p(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}o.ExtendedAttrs=p},9092:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Buffer=o.MAX_BUFFER_SIZE=void 0;const p=l(6349),g=l(7226),h=l(3734),_=l(8437),S=l(4634),x=l(511),v=l(643),c=l(4863),f=l(7116);o.MAX_BUFFER_SIZE=4294967295,o.Buffer=class{constructor(u,d,y){this._hasScrollback=u,this._optionsService=d,this._bufferService=y,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=_.DEFAULT_ATTR_DATA.clone(),this.savedCharset=f.DEFAULT_CHARSET,this.markers=[],this._nullCell=x.CellData.fromCharData([0,v.NULL_CELL_CHAR,v.NULL_CELL_WIDTH,v.NULL_CELL_CODE]),this._whitespaceCell=x.CellData.fromCharData([0,v.WHITESPACE_CELL_CHAR,v.WHITESPACE_CELL_WIDTH,v.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new g.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new p.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(u){return u?(this._nullCell.fg=u.fg,this._nullCell.bg=u.bg,this._nullCell.extended=u.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new h.ExtendedAttrs),this._nullCell}getWhitespaceCell(u){return u?(this._whitespaceCell.fg=u.fg,this._whitespaceCell.bg=u.bg,this._whitespaceCell.extended=u.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new h.ExtendedAttrs),this._whitespaceCell}getBlankLine(u,d){return new _.BufferLine(this._bufferService.cols,this.getNullCell(u),d)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const u=this.ybase+this.y-this.ydisp;return u>=0&&u<this._rows}_getCorrectBufferLength(u){if(!this._hasScrollback)return u;const d=u+this._optionsService.rawOptions.scrollback;return d>o.MAX_BUFFER_SIZE?o.MAX_BUFFER_SIZE:d}fillViewportRows(u){if(this.lines.length===0){u===void 0&&(u=_.DEFAULT_ATTR_DATA);let d=this._rows;for(;d--;)this.lines.push(this.getBlankLine(u))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new p.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(u,d){const y=this.getNullCell(_.DEFAULT_ATTR_DATA);let w=0;const C=this._getCorrectBufferLength(d);if(C>this.lines.maxLength&&(this.lines.maxLength=C),this.lines.length>0){if(this._cols<u)for(let b=0;b<this.lines.length;b++)w+=+this.lines.get(b).resize(u,y);let R=0;if(this._rows<d)for(let b=this._rows;b<d;b++)this.lines.length<d+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new _.BufferLine(u,y)):this.ybase>0&&this.lines.length<=this.ybase+this.y+R+1?(this.ybase--,R++,this.ydisp>0&&this.ydisp--):this.lines.push(new _.BufferLine(u,y)));else for(let b=this._rows;b>d;b--)this.lines.length>d+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(C<this.lines.maxLength){const b=this.lines.length-C;b>0&&(this.lines.trimStart(b),this.ybase=Math.max(this.ybase-b,0),this.ydisp=Math.max(this.ydisp-b,0),this.savedY=Math.max(this.savedY-b,0)),this.lines.maxLength=C}this.x=Math.min(this.x,u-1),this.y=Math.min(this.y,d-1),R&&(this.y+=R),this.savedX=Math.min(this.savedX,u-1),this.scrollTop=0}if(this.scrollBottom=d-1,this._isReflowEnabled&&(this._reflow(u,d),this._cols>u))for(let R=0;R<this.lines.length;R++)w+=+this.lines.get(R).resize(u,y);this._cols=u,this._rows=d,this._memoryCleanupQueue.clear(),w>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let u=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,u=!1);let d=0;for(;this._memoryCleanupPosition<this.lines.length;)if(d+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),d>100)return!0;return u}get _isReflowEnabled(){const u=this._optionsService.rawOptions.windowsPty;return u&&u.buildNumber?this._hasScrollback&&u.backend==="conpty"&&u.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(u,d){this._cols!==u&&(u>this._cols?this._reflowLarger(u,d):this._reflowSmaller(u,d))}_reflowLarger(u,d){const y=(0,S.reflowLargerGetLinesToRemove)(this.lines,this._cols,u,this.ybase+this.y,this.getNullCell(_.DEFAULT_ATTR_DATA));if(y.length>0){const w=(0,S.reflowLargerCreateNewLayout)(this.lines,y);(0,S.reflowLargerApplyNewLayout)(this.lines,w.layout),this._reflowLargerAdjustViewport(u,d,w.countRemoved)}}_reflowLargerAdjustViewport(u,d,y){const w=this.getNullCell(_.DEFAULT_ATTR_DATA);let C=y;for(;C-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<d&&this.lines.push(new _.BufferLine(u,w))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-y,0)}_reflowSmaller(u,d){const y=this.getNullCell(_.DEFAULT_ATTR_DATA),w=[];let C=0;for(let R=this.lines.length-1;R>=0;R--){let b=this.lines.get(R);if(!b||!b.isWrapped&&b.getTrimmedLength()<=u)continue;const E=[b];for(;b.isWrapped&&R>0;)b=this.lines.get(--R),E.unshift(b);const D=this.ybase+this.y;if(D>=R&&D<R+E.length)continue;const O=E[E.length-1].getTrimmedLength(),N=(0,S.reflowSmallerGetNewLineLengths)(E,this._cols,u),A=N.length-E.length;let H;H=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+A):Math.max(0,this.lines.length-this.lines.maxLength+A);const W=[];for(let M=0;M<A;M++){const V=this.getBlankLine(_.DEFAULT_ATTR_DATA,!0);W.push(V)}W.length>0&&(w.push({start:R+E.length+C,newLines:W}),C+=W.length),E.push(...W);let K=N.length-1,z=N[K];z===0&&(K--,z=N[K]);let L=E.length-A-1,T=O;for(;L>=0;){const M=Math.min(T,z);if(E[K]===void 0)break;if(E[K].copyCellsFrom(E[L],T-M,z-M,M,!0),z-=M,z===0&&(K--,z=N[K]),T-=M,T===0){L--;const V=Math.max(L,0);T=(0,S.getWrappedLineTrimmedLength)(E,V,this._cols)}}for(let M=0;M<E.length;M++)N[M]<u&&E[M].setCell(N[M],y);let P=A-H;for(;P-- >0;)this.ybase===0?this.y<d-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+C)-d&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+A,this.ybase+d-1)}if(w.length>0){const R=[],b=[];for(let K=0;K<this.lines.length;K++)b.push(this.lines.get(K));const E=this.lines.length;let D=E-1,O=0,N=w[O];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+C);let A=0;for(let K=Math.min(this.lines.maxLength-1,E+C-1);K>=0;K--)if(N&&N.start>D+A){for(let z=N.newLines.length-1;z>=0;z--)this.lines.set(K--,N.newLines[z]);K++,R.push({index:D+1,amount:N.newLines.length}),A+=N.newLines.length,N=w[++O]}else this.lines.set(K,b[D--]);let H=0;for(let K=R.length-1;K>=0;K--)R[K].index+=H,this.lines.onInsertEmitter.fire(R[K]),H+=R[K].amount;const W=Math.max(0,E+C-this.lines.maxLength);W>0&&this.lines.onTrimEmitter.fire(W)}}translateBufferLineToString(u,d,y=0,w){const C=this.lines.get(u);return C?C.translateToString(d,y,w):""}getWrappedRangeForLine(u){let d=u,y=u;for(;d>0&&this.lines.get(d).isWrapped;)d--;for(;y+1<this.lines.length&&this.lines.get(y+1).isWrapped;)y++;return{first:d,last:y}}setupTabStops(u){for(u!=null?this.tabs[u]||(u=this.prevStop(u)):(this.tabs={},u=0);u<this._cols;u+=this._optionsService.rawOptions.tabStopWidth)this.tabs[u]=!0}prevStop(u){for(u==null&&(u=this.x);!this.tabs[--u]&&u>0;);return u>=this._cols?this._cols-1:u<0?0:u}nextStop(u){for(u==null&&(u=this.x);!this.tabs[++u]&&u<this._cols;);return u>=this._cols?this._cols-1:u<0?0:u}clearMarkers(u){this._isClearing=!0;for(let d=0;d<this.markers.length;d++)this.markers[d].line===u&&(this.markers[d].dispose(),this.markers.splice(d--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let u=0;u<this.markers.length;u++)this.markers[u].dispose(),this.markers.splice(u--,1);this._isClearing=!1}addMarker(u){const d=new c.Marker(u);return this.markers.push(d),d.register(this.lines.onTrim(y=>{d.line-=y,d.line<0&&d.dispose()})),d.register(this.lines.onInsert(y=>{d.line>=y.index&&(d.line+=y.amount)})),d.register(this.lines.onDelete(y=>{d.line>=y.index&&d.line<y.index+y.amount&&d.dispose(),d.line>y.index&&(d.line-=y.amount)})),d.register(d.onDispose(()=>this._removeMarker(d))),d}_removeMarker(u){this._isClearing||this.markers.splice(this.markers.indexOf(u),1)}}},8437:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferLine=o.DEFAULT_ATTR_DATA=void 0;const p=l(3734),g=l(511),h=l(643),_=l(482);o.DEFAULT_ATTR_DATA=Object.freeze(new p.AttributeData);let S=0;class x{constructor(c,f,u=!1){this.isWrapped=u,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*c);const d=f||g.CellData.fromCharData([0,h.NULL_CELL_CHAR,h.NULL_CELL_WIDTH,h.NULL_CELL_CODE]);for(let y=0;y<c;++y)this.setCell(y,d);this.length=c}get(c){const f=this._data[3*c+0],u=2097151&f;return[this._data[3*c+1],2097152&f?this._combined[c]:u?(0,_.stringFromCodePoint)(u):"",f>>22,2097152&f?this._combined[c].charCodeAt(this._combined[c].length-1):u]}set(c,f){this._data[3*c+1]=f[h.CHAR_DATA_ATTR_INDEX],f[h.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[c]=f[1],this._data[3*c+0]=2097152|c|f[h.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*c+0]=f[h.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|f[h.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(c){return this._data[3*c+0]>>22}hasWidth(c){return 12582912&this._data[3*c+0]}getFg(c){return this._data[3*c+1]}getBg(c){return this._data[3*c+2]}hasContent(c){return 4194303&this._data[3*c+0]}getCodePoint(c){const f=this._data[3*c+0];return 2097152&f?this._combined[c].charCodeAt(this._combined[c].length-1):2097151&f}isCombined(c){return 2097152&this._data[3*c+0]}getString(c){const f=this._data[3*c+0];return 2097152&f?this._combined[c]:2097151&f?(0,_.stringFromCodePoint)(2097151&f):""}isProtected(c){return 536870912&this._data[3*c+2]}loadCell(c,f){return S=3*c,f.content=this._data[S+0],f.fg=this._data[S+1],f.bg=this._data[S+2],2097152&f.content&&(f.combinedData=this._combined[c]),268435456&f.bg&&(f.extended=this._extendedAttrs[c]),f}setCell(c,f){2097152&f.content&&(this._combined[c]=f.combinedData),268435456&f.bg&&(this._extendedAttrs[c]=f.extended),this._data[3*c+0]=f.content,this._data[3*c+1]=f.fg,this._data[3*c+2]=f.bg}setCellFromCodePoint(c,f,u,d,y,w){268435456&y&&(this._extendedAttrs[c]=w),this._data[3*c+0]=f|u<<22,this._data[3*c+1]=d,this._data[3*c+2]=y}addCodepointToCell(c,f){let u=this._data[3*c+0];2097152&u?this._combined[c]+=(0,_.stringFromCodePoint)(f):(2097151&u?(this._combined[c]=(0,_.stringFromCodePoint)(2097151&u)+(0,_.stringFromCodePoint)(f),u&=-2097152,u|=2097152):u=f|4194304,this._data[3*c+0]=u)}insertCells(c,f,u,d){if((c%=this.length)&&this.getWidth(c-1)===2&&this.setCellFromCodePoint(c-1,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new p.ExtendedAttrs),f<this.length-c){const y=new g.CellData;for(let w=this.length-c-f-1;w>=0;--w)this.setCell(c+f+w,this.loadCell(c+w,y));for(let w=0;w<f;++w)this.setCell(c+w,u)}else for(let y=c;y<this.length;++y)this.setCell(y,u);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new p.ExtendedAttrs)}deleteCells(c,f,u,d){if(c%=this.length,f<this.length-c){const y=new g.CellData;for(let w=0;w<this.length-c-f;++w)this.setCell(c+w,this.loadCell(c+f+w,y));for(let w=this.length-f;w<this.length;++w)this.setCell(w,u)}else for(let y=c;y<this.length;++y)this.setCell(y,u);c&&this.getWidth(c-1)===2&&this.setCellFromCodePoint(c-1,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new p.ExtendedAttrs),this.getWidth(c)!==0||this.hasContent(c)||this.setCellFromCodePoint(c,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new p.ExtendedAttrs)}replaceCells(c,f,u,d,y=!1){if(y)for(c&&this.getWidth(c-1)===2&&!this.isProtected(c-1)&&this.setCellFromCodePoint(c-1,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new p.ExtendedAttrs),f<this.length&&this.getWidth(f-1)===2&&!this.isProtected(f)&&this.setCellFromCodePoint(f,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new p.ExtendedAttrs);c<f&&c<this.length;)this.isProtected(c)||this.setCell(c,u),c++;else for(c&&this.getWidth(c-1)===2&&this.setCellFromCodePoint(c-1,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new p.ExtendedAttrs),f<this.length&&this.getWidth(f-1)===2&&this.setCellFromCodePoint(f,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new p.ExtendedAttrs);c<f&&c<this.length;)this.setCell(c++,u)}resize(c,f){if(c===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const u=3*c;if(c>this.length){if(this._data.buffer.byteLength>=4*u)this._data=new Uint32Array(this._data.buffer,0,u);else{const d=new Uint32Array(u);d.set(this._data),this._data=d}for(let d=this.length;d<c;++d)this.setCell(d,f)}else{this._data=this._data.subarray(0,u);const d=Object.keys(this._combined);for(let w=0;w<d.length;w++){const C=parseInt(d[w],10);C>=c&&delete this._combined[C]}const y=Object.keys(this._extendedAttrs);for(let w=0;w<y.length;w++){const C=parseInt(y[w],10);C>=c&&delete this._extendedAttrs[C]}}return this.length=c,4*u*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const c=new Uint32Array(this._data.length);return c.set(this._data),this._data=c,1}return 0}fill(c,f=!1){if(f)for(let u=0;u<this.length;++u)this.isProtected(u)||this.setCell(u,c);else{this._combined={},this._extendedAttrs={};for(let u=0;u<this.length;++u)this.setCell(u,c)}}copyFrom(c){this.length!==c.length?this._data=new Uint32Array(c._data):this._data.set(c._data),this.length=c.length,this._combined={};for(const f in c._combined)this._combined[f]=c._combined[f];this._extendedAttrs={};for(const f in c._extendedAttrs)this._extendedAttrs[f]=c._extendedAttrs[f];this.isWrapped=c.isWrapped}clone(){const c=new x(0);c._data=new Uint32Array(this._data),c.length=this.length;for(const f in this._combined)c._combined[f]=this._combined[f];for(const f in this._extendedAttrs)c._extendedAttrs[f]=this._extendedAttrs[f];return c.isWrapped=this.isWrapped,c}getTrimmedLength(){for(let c=this.length-1;c>=0;--c)if(4194303&this._data[3*c+0])return c+(this._data[3*c+0]>>22);return 0}getNoBgTrimmedLength(){for(let c=this.length-1;c>=0;--c)if(4194303&this._data[3*c+0]||50331648&this._data[3*c+2])return c+(this._data[3*c+0]>>22);return 0}copyCellsFrom(c,f,u,d,y){const w=c._data;if(y)for(let R=d-1;R>=0;R--){for(let b=0;b<3;b++)this._data[3*(u+R)+b]=w[3*(f+R)+b];268435456&w[3*(f+R)+2]&&(this._extendedAttrs[u+R]=c._extendedAttrs[f+R])}else for(let R=0;R<d;R++){for(let b=0;b<3;b++)this._data[3*(u+R)+b]=w[3*(f+R)+b];268435456&w[3*(f+R)+2]&&(this._extendedAttrs[u+R]=c._extendedAttrs[f+R])}const C=Object.keys(c._combined);for(let R=0;R<C.length;R++){const b=parseInt(C[R],10);b>=f&&(this._combined[b-f+u]=c._combined[b])}}translateToString(c=!1,f=0,u=this.length){c&&(u=Math.min(u,this.getTrimmedLength()));let d="";for(;f<u;){const y=this._data[3*f+0],w=2097151&y;d+=2097152&y?this._combined[f]:w?(0,_.stringFromCodePoint)(w):h.WHITESPACE_CELL_CHAR,f+=y>>22||1}return d}}o.BufferLine=x},4841:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.getRangeLength=void 0,o.getRangeLength=function(l,p){if(l.start.y>l.end.y)throw new Error(`Buffer range end (${l.end.x}, ${l.end.y}) cannot be before start (${l.start.x}, ${l.start.y})`);return p*(l.end.y-l.start.y)+(l.end.x-l.start.x+1)}},4634:(a,o)=>{function l(p,g,h){if(g===p.length-1)return p[g].getTrimmedLength();const _=!p[g].hasContent(h-1)&&p[g].getWidth(h-1)===1,S=p[g+1].getWidth(0)===2;return _&&S?h-1:h}Object.defineProperty(o,"__esModule",{value:!0}),o.getWrappedLineTrimmedLength=o.reflowSmallerGetNewLineLengths=o.reflowLargerApplyNewLayout=o.reflowLargerCreateNewLayout=o.reflowLargerGetLinesToRemove=void 0,o.reflowLargerGetLinesToRemove=function(p,g,h,_,S){const x=[];for(let v=0;v<p.length-1;v++){let c=v,f=p.get(++c);if(!f.isWrapped)continue;const u=[p.get(v)];for(;c<p.length&&f.isWrapped;)u.push(f),f=p.get(++c);if(_>=v&&_<c){v+=u.length-1;continue}let d=0,y=l(u,d,g),w=1,C=0;for(;w<u.length;){const b=l(u,w,g),E=b-C,D=h-y,O=Math.min(E,D);u[d].copyCellsFrom(u[w],C,y,O,!1),y+=O,y===h&&(d++,y=0),C+=O,C===b&&(w++,C=0),y===0&&d!==0&&u[d-1].getWidth(h-1)===2&&(u[d].copyCellsFrom(u[d-1],h-1,y++,1,!1),u[d-1].setCell(h-1,S))}u[d].replaceCells(y,h,S);let R=0;for(let b=u.length-1;b>0&&(b>d||u[b].getTrimmedLength()===0);b--)R++;R>0&&(x.push(v+u.length-R),x.push(R)),v+=u.length-1}return x},o.reflowLargerCreateNewLayout=function(p,g){const h=[];let _=0,S=g[_],x=0;for(let v=0;v<p.length;v++)if(S===v){const c=g[++_];p.onDeleteEmitter.fire({index:v-x,amount:c}),v+=c-1,x+=c,S=g[++_]}else h.push(v);return{layout:h,countRemoved:x}},o.reflowLargerApplyNewLayout=function(p,g){const h=[];for(let _=0;_<g.length;_++)h.push(p.get(g[_]));for(let _=0;_<h.length;_++)p.set(_,h[_]);p.length=g.length},o.reflowSmallerGetNewLineLengths=function(p,g,h){const _=[],S=p.map((f,u)=>l(p,u,g)).reduce((f,u)=>f+u);let x=0,v=0,c=0;for(;c<S;){if(S-c<h){_.push(S-c);break}x+=h;const f=l(p,v,g);x>f&&(x-=f,v++);const u=p[v].getWidth(x-1)===2;u&&x--;const d=u?h-1:h;_.push(d),c+=d}return _},o.getWrappedLineTrimmedLength=l},5295:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferSet=void 0;const p=l(8460),g=l(844),h=l(9092);class _ extends g.Disposable{constructor(x,v){super(),this._optionsService=x,this._bufferService=v,this._onBufferActivate=this.register(new p.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new h.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new h.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(x){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(x),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(x,v){this._normal.resize(x,v),this._alt.resize(x,v),this.setupTabStops(x)}setupTabStops(x){this._normal.setupTabStops(x),this._alt.setupTabStops(x)}}o.BufferSet=_},511:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CellData=void 0;const p=l(482),g=l(643),h=l(3734);class _ extends h.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new h.ExtendedAttrs,this.combinedData=""}static fromCharData(x){const v=new _;return v.setFromCharData(x),v}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,p.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(x){this.fg=x[g.CHAR_DATA_ATTR_INDEX],this.bg=0;let v=!1;if(x[g.CHAR_DATA_CHAR_INDEX].length>2)v=!0;else if(x[g.CHAR_DATA_CHAR_INDEX].length===2){const c=x[g.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=c&&c<=56319){const f=x[g.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=f&&f<=57343?this.content=1024*(c-55296)+f-56320+65536|x[g.CHAR_DATA_WIDTH_INDEX]<<22:v=!0}else v=!0}else this.content=x[g.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|x[g.CHAR_DATA_WIDTH_INDEX]<<22;v&&(this.combinedData=x[g.CHAR_DATA_CHAR_INDEX],this.content=2097152|x[g.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}o.CellData=_},643:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WHITESPACE_CELL_CODE=o.WHITESPACE_CELL_WIDTH=o.WHITESPACE_CELL_CHAR=o.NULL_CELL_CODE=o.NULL_CELL_WIDTH=o.NULL_CELL_CHAR=o.CHAR_DATA_CODE_INDEX=o.CHAR_DATA_WIDTH_INDEX=o.CHAR_DATA_CHAR_INDEX=o.CHAR_DATA_ATTR_INDEX=o.DEFAULT_EXT=o.DEFAULT_ATTR=o.DEFAULT_COLOR=void 0,o.DEFAULT_COLOR=0,o.DEFAULT_ATTR=256|o.DEFAULT_COLOR<<9,o.DEFAULT_EXT=0,o.CHAR_DATA_ATTR_INDEX=0,o.CHAR_DATA_CHAR_INDEX=1,o.CHAR_DATA_WIDTH_INDEX=2,o.CHAR_DATA_CODE_INDEX=3,o.NULL_CELL_CHAR="",o.NULL_CELL_WIDTH=1,o.NULL_CELL_CODE=0,o.WHITESPACE_CELL_CHAR=" ",o.WHITESPACE_CELL_WIDTH=1,o.WHITESPACE_CELL_CODE=32},4863:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Marker=void 0;const p=l(8460),g=l(844);class h{get id(){return this._id}constructor(S){this.line=S,this.isDisposed=!1,this._disposables=[],this._id=h._nextId++,this._onDispose=this.register(new p.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,g.disposeArray)(this._disposables),this._disposables.length=0)}register(S){return this._disposables.push(S),S}}o.Marker=h,h._nextId=1},7116:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DEFAULT_CHARSET=o.CHARSETS=void 0,o.CHARSETS={},o.DEFAULT_CHARSET=o.CHARSETS.B,o.CHARSETS[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},o.CHARSETS.A={"#":""},o.CHARSETS.B=void 0,o.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},o.CHARSETS.C=o.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},o.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},o.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS.E=o.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},o.CHARSETS.H=o.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},2584:(a,o)=>{var l,p,g;Object.defineProperty(o,"__esModule",{value:!0}),o.C1_ESCAPED=o.C1=o.C0=void 0,function(h){h.NUL="\0",h.SOH="",h.STX="",h.ETX="",h.EOT="",h.ENQ="",h.ACK="",h.BEL="\x07",h.BS="\b",h.HT="	",h.LF=`
`,h.VT="\v",h.FF="\f",h.CR="\r",h.SO="",h.SI="",h.DLE="",h.DC1="",h.DC2="",h.DC3="",h.DC4="",h.NAK="",h.SYN="",h.ETB="",h.CAN="",h.EM="",h.SUB="",h.ESC="\x1B",h.FS="",h.GS="",h.RS="",h.US="",h.SP=" ",h.DEL=""}(l||(o.C0=l={})),function(h){h.PAD="",h.HOP="",h.BPH="",h.NBH="",h.IND="",h.NEL="",h.SSA="",h.ESA="",h.HTS="",h.HTJ="",h.VTS="",h.PLD="",h.PLU="",h.RI="",h.SS2="",h.SS3="",h.DCS="",h.PU1="",h.PU2="",h.STS="",h.CCH="",h.MW="",h.SPA="",h.EPA="",h.SOS="",h.SGCI="",h.SCI="",h.CSI="",h.ST="",h.OSC="",h.PM="",h.APC=""}(p||(o.C1=p={})),function(h){h.ST=`${l.ESC}\\`}(g||(o.C1_ESCAPED=g={}))},7399:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.evaluateKeyboardEvent=void 0;const p=l(2584),g={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};o.evaluateKeyboardEvent=function(h,_,S,x){const v={type:0,cancel:!1,key:void 0},c=(h.shiftKey?1:0)|(h.altKey?2:0)|(h.ctrlKey?4:0)|(h.metaKey?8:0);switch(h.keyCode){case 0:h.key==="UIKeyInputUpArrow"?v.key=_?p.C0.ESC+"OA":p.C0.ESC+"[A":h.key==="UIKeyInputLeftArrow"?v.key=_?p.C0.ESC+"OD":p.C0.ESC+"[D":h.key==="UIKeyInputRightArrow"?v.key=_?p.C0.ESC+"OC":p.C0.ESC+"[C":h.key==="UIKeyInputDownArrow"&&(v.key=_?p.C0.ESC+"OB":p.C0.ESC+"[B");break;case 8:if(h.altKey){v.key=p.C0.ESC+p.C0.DEL;break}v.key=p.C0.DEL;break;case 9:if(h.shiftKey){v.key=p.C0.ESC+"[Z";break}v.key=p.C0.HT,v.cancel=!0;break;case 13:v.key=h.altKey?p.C0.ESC+p.C0.CR:p.C0.CR,v.cancel=!0;break;case 27:v.key=p.C0.ESC,h.altKey&&(v.key=p.C0.ESC+p.C0.ESC),v.cancel=!0;break;case 37:if(h.metaKey)break;c?(v.key=p.C0.ESC+"[1;"+(c+1)+"D",v.key===p.C0.ESC+"[1;3D"&&(v.key=p.C0.ESC+(S?"b":"[1;5D"))):v.key=_?p.C0.ESC+"OD":p.C0.ESC+"[D";break;case 39:if(h.metaKey)break;c?(v.key=p.C0.ESC+"[1;"+(c+1)+"C",v.key===p.C0.ESC+"[1;3C"&&(v.key=p.C0.ESC+(S?"f":"[1;5C"))):v.key=_?p.C0.ESC+"OC":p.C0.ESC+"[C";break;case 38:if(h.metaKey)break;c?(v.key=p.C0.ESC+"[1;"+(c+1)+"A",S||v.key!==p.C0.ESC+"[1;3A"||(v.key=p.C0.ESC+"[1;5A")):v.key=_?p.C0.ESC+"OA":p.C0.ESC+"[A";break;case 40:if(h.metaKey)break;c?(v.key=p.C0.ESC+"[1;"+(c+1)+"B",S||v.key!==p.C0.ESC+"[1;3B"||(v.key=p.C0.ESC+"[1;5B")):v.key=_?p.C0.ESC+"OB":p.C0.ESC+"[B";break;case 45:h.shiftKey||h.ctrlKey||(v.key=p.C0.ESC+"[2~");break;case 46:v.key=c?p.C0.ESC+"[3;"+(c+1)+"~":p.C0.ESC+"[3~";break;case 36:v.key=c?p.C0.ESC+"[1;"+(c+1)+"H":_?p.C0.ESC+"OH":p.C0.ESC+"[H";break;case 35:v.key=c?p.C0.ESC+"[1;"+(c+1)+"F":_?p.C0.ESC+"OF":p.C0.ESC+"[F";break;case 33:h.shiftKey?v.type=2:h.ctrlKey?v.key=p.C0.ESC+"[5;"+(c+1)+"~":v.key=p.C0.ESC+"[5~";break;case 34:h.shiftKey?v.type=3:h.ctrlKey?v.key=p.C0.ESC+"[6;"+(c+1)+"~":v.key=p.C0.ESC+"[6~";break;case 112:v.key=c?p.C0.ESC+"[1;"+(c+1)+"P":p.C0.ESC+"OP";break;case 113:v.key=c?p.C0.ESC+"[1;"+(c+1)+"Q":p.C0.ESC+"OQ";break;case 114:v.key=c?p.C0.ESC+"[1;"+(c+1)+"R":p.C0.ESC+"OR";break;case 115:v.key=c?p.C0.ESC+"[1;"+(c+1)+"S":p.C0.ESC+"OS";break;case 116:v.key=c?p.C0.ESC+"[15;"+(c+1)+"~":p.C0.ESC+"[15~";break;case 117:v.key=c?p.C0.ESC+"[17;"+(c+1)+"~":p.C0.ESC+"[17~";break;case 118:v.key=c?p.C0.ESC+"[18;"+(c+1)+"~":p.C0.ESC+"[18~";break;case 119:v.key=c?p.C0.ESC+"[19;"+(c+1)+"~":p.C0.ESC+"[19~";break;case 120:v.key=c?p.C0.ESC+"[20;"+(c+1)+"~":p.C0.ESC+"[20~";break;case 121:v.key=c?p.C0.ESC+"[21;"+(c+1)+"~":p.C0.ESC+"[21~";break;case 122:v.key=c?p.C0.ESC+"[23;"+(c+1)+"~":p.C0.ESC+"[23~";break;case 123:v.key=c?p.C0.ESC+"[24;"+(c+1)+"~":p.C0.ESC+"[24~";break;default:if(!h.ctrlKey||h.shiftKey||h.altKey||h.metaKey)if(S&&!x||!h.altKey||h.metaKey)!S||h.altKey||h.ctrlKey||h.shiftKey||!h.metaKey?h.key&&!h.ctrlKey&&!h.altKey&&!h.metaKey&&h.keyCode>=48&&h.key.length===1?v.key=h.key:h.key&&h.ctrlKey&&(h.key==="_"&&(v.key=p.C0.US),h.key==="@"&&(v.key=p.C0.NUL)):h.keyCode===65&&(v.type=1);else{const f=g[h.keyCode],u=f==null?void 0:f[h.shiftKey?1:0];if(u)v.key=p.C0.ESC+u;else if(h.keyCode>=65&&h.keyCode<=90){const d=h.ctrlKey?h.keyCode-64:h.keyCode+32;let y=String.fromCharCode(d);h.shiftKey&&(y=y.toUpperCase()),v.key=p.C0.ESC+y}else if(h.keyCode===32)v.key=p.C0.ESC+(h.ctrlKey?p.C0.NUL:" ");else if(h.key==="Dead"&&h.code.startsWith("Key")){let d=h.code.slice(3,4);h.shiftKey||(d=d.toLowerCase()),v.key=p.C0.ESC+d,v.cancel=!0}}else h.keyCode>=65&&h.keyCode<=90?v.key=String.fromCharCode(h.keyCode-64):h.keyCode===32?v.key=p.C0.NUL:h.keyCode>=51&&h.keyCode<=55?v.key=String.fromCharCode(h.keyCode-51+27):h.keyCode===56?v.key=p.C0.DEL:h.keyCode===219?v.key=p.C0.ESC:h.keyCode===220?v.key=p.C0.FS:h.keyCode===221&&(v.key=p.C0.GS)}return v}},482:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Utf8ToUtf32=o.StringToUtf32=o.utf32ToString=o.stringFromCodePoint=void 0,o.stringFromCodePoint=function(l){return l>65535?(l-=65536,String.fromCharCode(55296+(l>>10))+String.fromCharCode(l%1024+56320)):String.fromCharCode(l)},o.utf32ToString=function(l,p=0,g=l.length){let h="";for(let _=p;_<g;++_){let S=l[_];S>65535?(S-=65536,h+=String.fromCharCode(55296+(S>>10))+String.fromCharCode(S%1024+56320)):h+=String.fromCharCode(S)}return h},o.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(l,p){const g=l.length;if(!g)return 0;let h=0,_=0;if(this._interim){const S=l.charCodeAt(_++);56320<=S&&S<=57343?p[h++]=1024*(this._interim-55296)+S-56320+65536:(p[h++]=this._interim,p[h++]=S),this._interim=0}for(let S=_;S<g;++S){const x=l.charCodeAt(S);if(55296<=x&&x<=56319){if(++S>=g)return this._interim=x,h;const v=l.charCodeAt(S);56320<=v&&v<=57343?p[h++]=1024*(x-55296)+v-56320+65536:(p[h++]=x,p[h++]=v)}else x!==65279&&(p[h++]=x)}return h}},o.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(l,p){const g=l.length;if(!g)return 0;let h,_,S,x,v=0,c=0,f=0;if(this.interim[0]){let y=!1,w=this.interim[0];w&=(224&w)==192?31:(240&w)==224?15:7;let C,R=0;for(;(C=63&this.interim[++R])&&R<4;)w<<=6,w|=C;const b=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,E=b-R;for(;f<E;){if(f>=g)return 0;if(C=l[f++],(192&C)!=128){f--,y=!0;break}this.interim[R++]=C,w<<=6,w|=63&C}y||(b===2?w<128?f--:p[v++]=w:b===3?w<2048||w>=55296&&w<=57343||w===65279||(p[v++]=w):w<65536||w>1114111||(p[v++]=w)),this.interim.fill(0)}const u=g-4;let d=f;for(;d<g;){for(;!(!(d<u)||128&(h=l[d])||128&(_=l[d+1])||128&(S=l[d+2])||128&(x=l[d+3]));)p[v++]=h,p[v++]=_,p[v++]=S,p[v++]=x,d+=4;if(h=l[d++],h<128)p[v++]=h;else if((224&h)==192){if(d>=g)return this.interim[0]=h,v;if(_=l[d++],(192&_)!=128){d--;continue}if(c=(31&h)<<6|63&_,c<128){d--;continue}p[v++]=c}else if((240&h)==224){if(d>=g)return this.interim[0]=h,v;if(_=l[d++],(192&_)!=128){d--;continue}if(d>=g)return this.interim[0]=h,this.interim[1]=_,v;if(S=l[d++],(192&S)!=128){d--;continue}if(c=(15&h)<<12|(63&_)<<6|63&S,c<2048||c>=55296&&c<=57343||c===65279)continue;p[v++]=c}else if((248&h)==240){if(d>=g)return this.interim[0]=h,v;if(_=l[d++],(192&_)!=128){d--;continue}if(d>=g)return this.interim[0]=h,this.interim[1]=_,v;if(S=l[d++],(192&S)!=128){d--;continue}if(d>=g)return this.interim[0]=h,this.interim[1]=_,this.interim[2]=S,v;if(x=l[d++],(192&x)!=128){d--;continue}if(c=(7&h)<<18|(63&_)<<12|(63&S)<<6|63&x,c<65536||c>1114111)continue;p[v++]=c}}return v}}},225:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UnicodeV6=void 0;const l=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],p=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let g;o.UnicodeV6=class{constructor(){if(this.version="6",!g){g=new Uint8Array(65536),g.fill(1),g[0]=0,g.fill(0,1,32),g.fill(0,127,160),g.fill(2,4352,4448),g[9001]=2,g[9002]=2,g.fill(2,11904,42192),g[12351]=1,g.fill(2,44032,55204),g.fill(2,63744,64256),g.fill(2,65040,65050),g.fill(2,65072,65136),g.fill(2,65280,65377),g.fill(2,65504,65511);for(let h=0;h<l.length;++h)g.fill(0,l[h][0],l[h][1]+1)}}wcwidth(h){return h<32?0:h<127?1:h<65536?g[h]:function(_,S){let x,v=0,c=S.length-1;if(_<S[0][0]||_>S[c][1])return!1;for(;c>=v;)if(x=v+c>>1,_>S[x][1])v=x+1;else{if(!(_<S[x][0]))return!0;c=x-1}return!1}(h,p)?0:h>=131072&&h<=196605||h>=196608&&h<=262141?2:1}}},5981:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WriteBuffer=void 0;const p=l(8460),g=l(844);class h extends g.Disposable{constructor(S){super(),this._action=S,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new p.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(S,x){if(x!==void 0&&this._syncCalls>x)return void(this._syncCalls=0);if(this._pendingData+=S.length,this._writeBuffer.push(S),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let v;for(this._isSyncWriting=!0;v=this._writeBuffer.shift();){this._action(v);const c=this._callbacks.shift();c&&c()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(S,x){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=S.length,this._writeBuffer.push(S),this._callbacks.push(x),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=S.length,this._writeBuffer.push(S),this._callbacks.push(x)}_innerWrite(S=0,x=!0){const v=S||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const c=this._writeBuffer[this._bufferOffset],f=this._action(c,x);if(f){const d=y=>Date.now()-v>=12?setTimeout(()=>this._innerWrite(0,y)):this._innerWrite(v,y);return void f.catch(y=>(queueMicrotask(()=>{throw y}),Promise.resolve(!1))).then(d)}const u=this._callbacks[this._bufferOffset];if(u&&u(),this._bufferOffset++,this._pendingData-=c.length,Date.now()-v>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}o.WriteBuffer=h},5941:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.toRgbString=o.parseColor=void 0;const l=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,p=/^[\da-f]+$/;function g(h,_){const S=h.toString(16),x=S.length<2?"0"+S:S;switch(_){case 4:return S[0];case 8:return x;case 12:return(x+x).slice(0,3);default:return x+x}}o.parseColor=function(h){if(!h)return;let _=h.toLowerCase();if(_.indexOf("rgb:")===0){_=_.slice(4);const S=l.exec(_);if(S){const x=S[1]?15:S[4]?255:S[7]?4095:65535;return[Math.round(parseInt(S[1]||S[4]||S[7]||S[10],16)/x*255),Math.round(parseInt(S[2]||S[5]||S[8]||S[11],16)/x*255),Math.round(parseInt(S[3]||S[6]||S[9]||S[12],16)/x*255)]}}else if(_.indexOf("#")===0&&(_=_.slice(1),p.exec(_)&&[3,6,9,12].includes(_.length))){const S=_.length/3,x=[0,0,0];for(let v=0;v<3;++v){const c=parseInt(_.slice(S*v,S*v+S),16);x[v]=S===1?c<<4:S===2?c:S===3?c>>4:c>>8}return x}},o.toRgbString=function(h,_=16){const[S,x,v]=h;return`rgb:${g(S,_)}/${g(x,_)}/${g(v,_)}`}},5770:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PAYLOAD_LIMIT=void 0,o.PAYLOAD_LIMIT=1e7},6351:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DcsHandler=o.DcsParser=void 0;const p=l(482),g=l(8742),h=l(5770),_=[];o.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=_,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=_}registerHandler(x,v){this._handlers[x]===void 0&&(this._handlers[x]=[]);const c=this._handlers[x];return c.push(v),{dispose:()=>{const f=c.indexOf(v);f!==-1&&c.splice(f,1)}}}clearHandler(x){this._handlers[x]&&delete this._handlers[x]}setHandlerFallback(x){this._handlerFb=x}reset(){if(this._active.length)for(let x=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;x>=0;--x)this._active[x].unhook(!1);this._stack.paused=!1,this._active=_,this._ident=0}hook(x,v){if(this.reset(),this._ident=x,this._active=this._handlers[x]||_,this._active.length)for(let c=this._active.length-1;c>=0;c--)this._active[c].hook(v);else this._handlerFb(this._ident,"HOOK",v)}put(x,v,c){if(this._active.length)for(let f=this._active.length-1;f>=0;f--)this._active[f].put(x,v,c);else this._handlerFb(this._ident,"PUT",(0,p.utf32ToString)(x,v,c))}unhook(x,v=!0){if(this._active.length){let c=!1,f=this._active.length-1,u=!1;if(this._stack.paused&&(f=this._stack.loopPosition-1,c=v,u=this._stack.fallThrough,this._stack.paused=!1),!u&&c===!1){for(;f>=0&&(c=this._active[f].unhook(x),c!==!0);f--)if(c instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=f,this._stack.fallThrough=!1,c;f--}for(;f>=0;f--)if(c=this._active[f].unhook(!1),c instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=f,this._stack.fallThrough=!0,c}else this._handlerFb(this._ident,"UNHOOK",x);this._active=_,this._ident=0}};const S=new g.Params;S.addParam(0),o.DcsHandler=class{constructor(x){this._handler=x,this._data="",this._params=S,this._hitLimit=!1}hook(x){this._params=x.length>1||x.params[0]?x.clone():S,this._data="",this._hitLimit=!1}put(x,v,c){this._hitLimit||(this._data+=(0,p.utf32ToString)(x,v,c),this._data.length>h.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(x){let v=!1;if(this._hitLimit)v=!1;else if(x&&(v=this._handler(this._data,this._params),v instanceof Promise))return v.then(c=>(this._params=S,this._data="",this._hitLimit=!1,c));return this._params=S,this._data="",this._hitLimit=!1,v}}},2015:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.EscapeSequenceParser=o.VT500_TRANSITION_TABLE=o.TransitionTable=void 0;const p=l(844),g=l(8742),h=l(6242),_=l(6351);class S{constructor(f){this.table=new Uint8Array(f)}setDefault(f,u){this.table.fill(f<<4|u)}add(f,u,d,y){this.table[u<<8|f]=d<<4|y}addMany(f,u,d,y){for(let w=0;w<f.length;w++)this.table[u<<8|f[w]]=d<<4|y}}o.TransitionTable=S;const x=160;o.VT500_TRANSITION_TABLE=function(){const c=new S(4095),f=Array.apply(null,Array(256)).map((R,b)=>b),u=(R,b)=>f.slice(R,b),d=u(32,127),y=u(0,24);y.push(25),y.push.apply(y,u(28,32));const w=u(0,14);let C;for(C in c.setDefault(1,0),c.addMany(d,0,2,0),w)c.addMany([24,26,153,154],C,3,0),c.addMany(u(128,144),C,3,0),c.addMany(u(144,152),C,3,0),c.add(156,C,0,0),c.add(27,C,11,1),c.add(157,C,4,8),c.addMany([152,158,159],C,0,7),c.add(155,C,11,3),c.add(144,C,11,9);return c.addMany(y,0,3,0),c.addMany(y,1,3,1),c.add(127,1,0,1),c.addMany(y,8,0,8),c.addMany(y,3,3,3),c.add(127,3,0,3),c.addMany(y,4,3,4),c.add(127,4,0,4),c.addMany(y,6,3,6),c.addMany(y,5,3,5),c.add(127,5,0,5),c.addMany(y,2,3,2),c.add(127,2,0,2),c.add(93,1,4,8),c.addMany(d,8,5,8),c.add(127,8,5,8),c.addMany([156,27,24,26,7],8,6,0),c.addMany(u(28,32),8,0,8),c.addMany([88,94,95],1,0,7),c.addMany(d,7,0,7),c.addMany(y,7,0,7),c.add(156,7,0,0),c.add(127,7,0,7),c.add(91,1,11,3),c.addMany(u(64,127),3,7,0),c.addMany(u(48,60),3,8,4),c.addMany([60,61,62,63],3,9,4),c.addMany(u(48,60),4,8,4),c.addMany(u(64,127),4,7,0),c.addMany([60,61,62,63],4,0,6),c.addMany(u(32,64),6,0,6),c.add(127,6,0,6),c.addMany(u(64,127),6,0,0),c.addMany(u(32,48),3,9,5),c.addMany(u(32,48),5,9,5),c.addMany(u(48,64),5,0,6),c.addMany(u(64,127),5,7,0),c.addMany(u(32,48),4,9,5),c.addMany(u(32,48),1,9,2),c.addMany(u(32,48),2,9,2),c.addMany(u(48,127),2,10,0),c.addMany(u(48,80),1,10,0),c.addMany(u(81,88),1,10,0),c.addMany([89,90,92],1,10,0),c.addMany(u(96,127),1,10,0),c.add(80,1,11,9),c.addMany(y,9,0,9),c.add(127,9,0,9),c.addMany(u(28,32),9,0,9),c.addMany(u(32,48),9,9,12),c.addMany(u(48,60),9,8,10),c.addMany([60,61,62,63],9,9,10),c.addMany(y,11,0,11),c.addMany(u(32,128),11,0,11),c.addMany(u(28,32),11,0,11),c.addMany(y,10,0,10),c.add(127,10,0,10),c.addMany(u(28,32),10,0,10),c.addMany(u(48,60),10,8,10),c.addMany([60,61,62,63],10,0,11),c.addMany(u(32,48),10,9,12),c.addMany(y,12,0,12),c.add(127,12,0,12),c.addMany(u(28,32),12,0,12),c.addMany(u(32,48),12,9,12),c.addMany(u(48,64),12,0,11),c.addMany(u(64,127),12,12,13),c.addMany(u(64,127),10,12,13),c.addMany(u(64,127),9,12,13),c.addMany(y,13,13,13),c.addMany(d,13,13,13),c.add(127,13,0,13),c.addMany([27,156,24,26],13,14,0),c.add(x,0,2,0),c.add(x,8,5,8),c.add(x,6,0,6),c.add(x,11,0,11),c.add(x,13,13,13),c}();class v extends p.Disposable{constructor(f=o.VT500_TRANSITION_TABLE){super(),this._transitions=f,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new g.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(u,d,y)=>{},this._executeHandlerFb=u=>{},this._csiHandlerFb=(u,d)=>{},this._escHandlerFb=u=>{},this._errorHandlerFb=u=>u,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,p.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new h.OscParser),this._dcsParser=this.register(new _.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(f,u=[64,126]){let d=0;if(f.prefix){if(f.prefix.length>1)throw new Error("only one byte as prefix supported");if(d=f.prefix.charCodeAt(0),d&&60>d||d>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(f.intermediates){if(f.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let w=0;w<f.intermediates.length;++w){const C=f.intermediates.charCodeAt(w);if(32>C||C>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");d<<=8,d|=C}}if(f.final.length!==1)throw new Error("final must be a single byte");const y=f.final.charCodeAt(0);if(u[0]>y||y>u[1])throw new Error(`final must be in range ${u[0]} .. ${u[1]}`);return d<<=8,d|=y,d}identToString(f){const u=[];for(;f;)u.push(String.fromCharCode(255&f)),f>>=8;return u.reverse().join("")}setPrintHandler(f){this._printHandler=f}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(f,u){const d=this._identifier(f,[48,126]);this._escHandlers[d]===void 0&&(this._escHandlers[d]=[]);const y=this._escHandlers[d];return y.push(u),{dispose:()=>{const w=y.indexOf(u);w!==-1&&y.splice(w,1)}}}clearEscHandler(f){this._escHandlers[this._identifier(f,[48,126])]&&delete this._escHandlers[this._identifier(f,[48,126])]}setEscHandlerFallback(f){this._escHandlerFb=f}setExecuteHandler(f,u){this._executeHandlers[f.charCodeAt(0)]=u}clearExecuteHandler(f){this._executeHandlers[f.charCodeAt(0)]&&delete this._executeHandlers[f.charCodeAt(0)]}setExecuteHandlerFallback(f){this._executeHandlerFb=f}registerCsiHandler(f,u){const d=this._identifier(f);this._csiHandlers[d]===void 0&&(this._csiHandlers[d]=[]);const y=this._csiHandlers[d];return y.push(u),{dispose:()=>{const w=y.indexOf(u);w!==-1&&y.splice(w,1)}}}clearCsiHandler(f){this._csiHandlers[this._identifier(f)]&&delete this._csiHandlers[this._identifier(f)]}setCsiHandlerFallback(f){this._csiHandlerFb=f}registerDcsHandler(f,u){return this._dcsParser.registerHandler(this._identifier(f),u)}clearDcsHandler(f){this._dcsParser.clearHandler(this._identifier(f))}setDcsHandlerFallback(f){this._dcsParser.setHandlerFallback(f)}registerOscHandler(f,u){return this._oscParser.registerHandler(f,u)}clearOscHandler(f){this._oscParser.clearHandler(f)}setOscHandlerFallback(f){this._oscParser.setHandlerFallback(f)}setErrorHandler(f){this._errorHandler=f}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(f,u,d,y,w){this._parseStack.state=f,this._parseStack.handlers=u,this._parseStack.handlerPos=d,this._parseStack.transition=y,this._parseStack.chunkPos=w}parse(f,u,d){let y,w=0,C=0,R=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,R=this._parseStack.chunkPos+1;else{if(d===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const b=this._parseStack.handlers;let E=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(d===!1&&E>-1){for(;E>=0&&(y=b[E](this._params),y!==!0);E--)if(y instanceof Promise)return this._parseStack.handlerPos=E,y}this._parseStack.handlers=[];break;case 4:if(d===!1&&E>-1){for(;E>=0&&(y=b[E](),y!==!0);E--)if(y instanceof Promise)return this._parseStack.handlerPos=E,y}this._parseStack.handlers=[];break;case 6:if(w=f[this._parseStack.chunkPos],y=this._dcsParser.unhook(w!==24&&w!==26,d),y)return y;w===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(w=f[this._parseStack.chunkPos],y=this._oscParser.end(w!==24&&w!==26,d),y)return y;w===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,R=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let b=R;b<u;++b){switch(w=f[b],C=this._transitions.table[this.currentState<<8|(w<160?w:x)],C>>4){case 2:for(let A=b+1;;++A){if(A>=u||(w=f[A])<32||w>126&&w<x){this._printHandler(f,b,A),b=A-1;break}if(++A>=u||(w=f[A])<32||w>126&&w<x){this._printHandler(f,b,A),b=A-1;break}if(++A>=u||(w=f[A])<32||w>126&&w<x){this._printHandler(f,b,A),b=A-1;break}if(++A>=u||(w=f[A])<32||w>126&&w<x){this._printHandler(f,b,A),b=A-1;break}}break;case 3:this._executeHandlers[w]?this._executeHandlers[w]():this._executeHandlerFb(w),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:b,code:w,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const E=this._csiHandlers[this._collect<<8|w];let D=E?E.length-1:-1;for(;D>=0&&(y=E[D](this._params),y!==!0);D--)if(y instanceof Promise)return this._preserveStack(3,E,D,C,b),y;D<0&&this._csiHandlerFb(this._collect<<8|w,this._params),this.precedingCodepoint=0;break;case 8:do switch(w){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(w-48)}while(++b<u&&(w=f[b])>47&&w<60);b--;break;case 9:this._collect<<=8,this._collect|=w;break;case 10:const O=this._escHandlers[this._collect<<8|w];let N=O?O.length-1:-1;for(;N>=0&&(y=O[N](),y!==!0);N--)if(y instanceof Promise)return this._preserveStack(4,O,N,C,b),y;N<0&&this._escHandlerFb(this._collect<<8|w),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|w,this._params);break;case 13:for(let A=b+1;;++A)if(A>=u||(w=f[A])===24||w===26||w===27||w>127&&w<x){this._dcsParser.put(f,b,A),b=A-1;break}break;case 14:if(y=this._dcsParser.unhook(w!==24&&w!==26),y)return this._preserveStack(6,[],0,C,b),y;w===27&&(C|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let A=b+1;;A++)if(A>=u||(w=f[A])<32||w>127&&w<x){this._oscParser.put(f,b,A),b=A-1;break}break;case 6:if(y=this._oscParser.end(w!==24&&w!==26),y)return this._preserveStack(5,[],0,C,b),y;w===27&&(C|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&C}}}o.EscapeSequenceParser=v},6242:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.OscHandler=o.OscParser=void 0;const p=l(5770),g=l(482),h=[];o.OscParser=class{constructor(){this._state=0,this._active=h,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(_,S){this._handlers[_]===void 0&&(this._handlers[_]=[]);const x=this._handlers[_];return x.push(S),{dispose:()=>{const v=x.indexOf(S);v!==-1&&x.splice(v,1)}}}clearHandler(_){this._handlers[_]&&delete this._handlers[_]}setHandlerFallback(_){this._handlerFb=_}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=h}reset(){if(this._state===2)for(let _=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;_>=0;--_)this._active[_].end(!1);this._stack.paused=!1,this._active=h,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||h,this._active.length)for(let _=this._active.length-1;_>=0;_--)this._active[_].start();else this._handlerFb(this._id,"START")}_put(_,S,x){if(this._active.length)for(let v=this._active.length-1;v>=0;v--)this._active[v].put(_,S,x);else this._handlerFb(this._id,"PUT",(0,g.utf32ToString)(_,S,x))}start(){this.reset(),this._state=1}put(_,S,x){if(this._state!==3){if(this._state===1)for(;S<x;){const v=_[S++];if(v===59){this._state=2,this._start();break}if(v<48||57<v)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+v-48}this._state===2&&x-S>0&&this._put(_,S,x)}}end(_,S=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let x=!1,v=this._active.length-1,c=!1;if(this._stack.paused&&(v=this._stack.loopPosition-1,x=S,c=this._stack.fallThrough,this._stack.paused=!1),!c&&x===!1){for(;v>=0&&(x=this._active[v].end(_),x!==!0);v--)if(x instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=v,this._stack.fallThrough=!1,x;v--}for(;v>=0;v--)if(x=this._active[v].end(!1),x instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=v,this._stack.fallThrough=!0,x}else this._handlerFb(this._id,"END",_);this._active=h,this._id=-1,this._state=0}}},o.OscHandler=class{constructor(_){this._handler=_,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(_,S,x){this._hitLimit||(this._data+=(0,g.utf32ToString)(_,S,x),this._data.length>p.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(_){let S=!1;if(this._hitLimit)S=!1;else if(_&&(S=this._handler(this._data),S instanceof Promise))return S.then(x=>(this._data="",this._hitLimit=!1,x));return this._data="",this._hitLimit=!1,S}}},8742:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Params=void 0;const l=2147483647;class p{static fromArray(h){const _=new p;if(!h.length)return _;for(let S=Array.isArray(h[0])?1:0;S<h.length;++S){const x=h[S];if(Array.isArray(x))for(let v=0;v<x.length;++v)_.addSubParam(x[v]);else _.addParam(x)}return _}constructor(h=32,_=32){if(this.maxLength=h,this.maxSubParamsLength=_,_>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(h),this.length=0,this._subParams=new Int32Array(_),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(h),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const h=new p(this.maxLength,this.maxSubParamsLength);return h.params.set(this.params),h.length=this.length,h._subParams.set(this._subParams),h._subParamsLength=this._subParamsLength,h._subParamsIdx.set(this._subParamsIdx),h._rejectDigits=this._rejectDigits,h._rejectSubDigits=this._rejectSubDigits,h._digitIsSub=this._digitIsSub,h}toArray(){const h=[];for(let _=0;_<this.length;++_){h.push(this.params[_]);const S=this._subParamsIdx[_]>>8,x=255&this._subParamsIdx[_];x-S>0&&h.push(Array.prototype.slice.call(this._subParams,S,x))}return h}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(h){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(h<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=h>l?l:h}}addSubParam(h){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(h<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=h>l?l:h,this._subParamsIdx[this.length-1]++}}hasSubParams(h){return(255&this._subParamsIdx[h])-(this._subParamsIdx[h]>>8)>0}getSubParams(h){const _=this._subParamsIdx[h]>>8,S=255&this._subParamsIdx[h];return S-_>0?this._subParams.subarray(_,S):null}getSubParamsAll(){const h={};for(let _=0;_<this.length;++_){const S=this._subParamsIdx[_]>>8,x=255&this._subParamsIdx[_];x-S>0&&(h[_]=this._subParams.slice(S,x))}return h}addDigit(h){let _;if(this._rejectDigits||!(_=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const S=this._digitIsSub?this._subParams:this.params,x=S[_-1];S[_-1]=~x?Math.min(10*x+h,l):h}}o.Params=p},5741:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.AddonManager=void 0,o.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let l=this._addons.length-1;l>=0;l--)this._addons[l].instance.dispose()}loadAddon(l,p){const g={instance:p,dispose:p.dispose,isDisposed:!1};this._addons.push(g),p.dispose=()=>this._wrappedAddonDispose(g),p.activate(l)}_wrappedAddonDispose(l){if(l.isDisposed)return;let p=-1;for(let g=0;g<this._addons.length;g++)if(this._addons[g]===l){p=g;break}if(p===-1)throw new Error("Could not dispose an addon that has not been loaded");l.isDisposed=!0,l.dispose.apply(l.instance),this._addons.splice(p,1)}}},8771:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferApiView=void 0;const p=l(3785),g=l(511);o.BufferApiView=class{constructor(h,_){this._buffer=h,this.type=_}init(h){return this._buffer=h,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(h){const _=this._buffer.lines.get(h);if(_)return new p.BufferLineApiView(_)}getNullCell(){return new g.CellData}}},3785:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferLineApiView=void 0;const p=l(511);o.BufferLineApiView=class{constructor(g){this._line=g}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(g,h){if(!(g<0||g>=this._line.length))return h?(this._line.loadCell(g,h),h):this._line.loadCell(g,new p.CellData)}translateToString(g,h,_){return this._line.translateToString(g,h,_)}}},8285:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferNamespaceApi=void 0;const p=l(8771),g=l(8460),h=l(844);class _ extends h.Disposable{constructor(x){super(),this._core=x,this._onBufferChange=this.register(new g.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new p.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new p.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}o.BufferNamespaceApi=_},7975:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ParserApi=void 0,o.ParserApi=class{constructor(l){this._core=l}registerCsiHandler(l,p){return this._core.registerCsiHandler(l,g=>p(g.toArray()))}addCsiHandler(l,p){return this.registerCsiHandler(l,p)}registerDcsHandler(l,p){return this._core.registerDcsHandler(l,(g,h)=>p(g,h.toArray()))}addDcsHandler(l,p){return this.registerDcsHandler(l,p)}registerEscHandler(l,p){return this._core.registerEscHandler(l,p)}addEscHandler(l,p){return this.registerEscHandler(l,p)}registerOscHandler(l,p){return this._core.registerOscHandler(l,p)}addOscHandler(l,p){return this.registerOscHandler(l,p)}}},7090:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UnicodeApi=void 0,o.UnicodeApi=class{constructor(l){this._core=l}register(l){this._core.unicodeService.register(l)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(l){this._core.unicodeService.activeVersion=l}}},744:function(a,o,l){var p=this&&this.__decorate||function(c,f,u,d){var y,w=arguments.length,C=w<3?f:d===null?d=Object.getOwnPropertyDescriptor(f,u):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(c,f,u,d);else for(var R=c.length-1;R>=0;R--)(y=c[R])&&(C=(w<3?y(C):w>3?y(f,u,C):y(f,u))||C);return w>3&&C&&Object.defineProperty(f,u,C),C},g=this&&this.__param||function(c,f){return function(u,d){f(u,d,c)}};Object.defineProperty(o,"__esModule",{value:!0}),o.BufferService=o.MINIMUM_ROWS=o.MINIMUM_COLS=void 0;const h=l(8460),_=l(844),S=l(5295),x=l(2585);o.MINIMUM_COLS=2,o.MINIMUM_ROWS=1;let v=o.BufferService=class extends _.Disposable{get buffer(){return this.buffers.active}constructor(c){super(),this.isUserScrolling=!1,this._onResize=this.register(new h.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new h.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(c.rawOptions.cols||0,o.MINIMUM_COLS),this.rows=Math.max(c.rawOptions.rows||0,o.MINIMUM_ROWS),this.buffers=this.register(new S.BufferSet(c,this))}resize(c,f){this.cols=c,this.rows=f,this.buffers.resize(c,f),this._onResize.fire({cols:c,rows:f})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(c,f=!1){const u=this.buffer;let d;d=this._cachedBlankLine,d&&d.length===this.cols&&d.getFg(0)===c.fg&&d.getBg(0)===c.bg||(d=u.getBlankLine(c,f),this._cachedBlankLine=d),d.isWrapped=f;const y=u.ybase+u.scrollTop,w=u.ybase+u.scrollBottom;if(u.scrollTop===0){const C=u.lines.isFull;w===u.lines.length-1?C?u.lines.recycle().copyFrom(d):u.lines.push(d.clone()):u.lines.splice(w+1,0,d.clone()),C?this.isUserScrolling&&(u.ydisp=Math.max(u.ydisp-1,0)):(u.ybase++,this.isUserScrolling||u.ydisp++)}else{const C=w-y+1;u.lines.shiftElements(y+1,C-1,-1),u.lines.set(w,d.clone())}this.isUserScrolling||(u.ydisp=u.ybase),this._onScroll.fire(u.ydisp)}scrollLines(c,f,u){const d=this.buffer;if(c<0){if(d.ydisp===0)return;this.isUserScrolling=!0}else c+d.ydisp>=d.ybase&&(this.isUserScrolling=!1);const y=d.ydisp;d.ydisp=Math.max(Math.min(d.ydisp+c,d.ybase),0),y!==d.ydisp&&(f||this._onScroll.fire(d.ydisp))}};o.BufferService=v=p([g(0,x.IOptionsService)],v)},7994:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CharsetService=void 0,o.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(l){this.glevel=l,this.charset=this._charsets[l]}setgCharset(l,p){this._charsets[l]=p,this.glevel===l&&(this.charset=p)}}},1753:function(a,o,l){var p=this&&this.__decorate||function(d,y,w,C){var R,b=arguments.length,E=b<3?y:C===null?C=Object.getOwnPropertyDescriptor(y,w):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(d,y,w,C);else for(var D=d.length-1;D>=0;D--)(R=d[D])&&(E=(b<3?R(E):b>3?R(y,w,E):R(y,w))||E);return b>3&&E&&Object.defineProperty(y,w,E),E},g=this&&this.__param||function(d,y){return function(w,C){y(w,C,d)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CoreMouseService=void 0;const h=l(2585),_=l(8460),S=l(844),x={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:d=>d.button!==4&&d.action===1&&(d.ctrl=!1,d.alt=!1,d.shift=!1,!0)},VT200:{events:19,restrict:d=>d.action!==32},DRAG:{events:23,restrict:d=>d.action!==32||d.button!==3},ANY:{events:31,restrict:d=>!0}};function v(d,y){let w=(d.ctrl?16:0)|(d.shift?4:0)|(d.alt?8:0);return d.button===4?(w|=64,w|=d.action):(w|=3&d.button,4&d.button&&(w|=64),8&d.button&&(w|=128),d.action===32?w|=32:d.action!==0||y||(w|=3)),w}const c=String.fromCharCode,f={DEFAULT:d=>{const y=[v(d,!1)+32,d.col+32,d.row+32];return y[0]>255||y[1]>255||y[2]>255?"":`\x1B[M${c(y[0])}${c(y[1])}${c(y[2])}`},SGR:d=>{const y=d.action===0&&d.button!==4?"m":"M";return`\x1B[<${v(d,!0)};${d.col};${d.row}${y}`},SGR_PIXELS:d=>{const y=d.action===0&&d.button!==4?"m":"M";return`\x1B[<${v(d,!0)};${d.x};${d.y}${y}`}};let u=o.CoreMouseService=class extends S.Disposable{constructor(d,y){super(),this._bufferService=d,this._coreService=y,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new _.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const w of Object.keys(x))this.addProtocol(w,x[w]);for(const w of Object.keys(f))this.addEncoding(w,f[w]);this.reset()}addProtocol(d,y){this._protocols[d]=y}addEncoding(d,y){this._encodings[d]=y}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(d){if(!this._protocols[d])throw new Error(`unknown protocol "${d}"`);this._activeProtocol=d,this._onProtocolChange.fire(this._protocols[d].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(d){if(!this._encodings[d])throw new Error(`unknown encoding "${d}"`);this._activeEncoding=d}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(d){if(d.col<0||d.col>=this._bufferService.cols||d.row<0||d.row>=this._bufferService.rows||d.button===4&&d.action===32||d.button===3&&d.action!==32||d.button!==4&&(d.action===2||d.action===3)||(d.col++,d.row++,d.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,d,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(d))return!1;const y=this._encodings[this._activeEncoding](d);return y&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(y):this._coreService.triggerDataEvent(y,!0)),this._lastEvent=d,!0}explainEvents(d){return{down:!!(1&d),up:!!(2&d),drag:!!(4&d),move:!!(8&d),wheel:!!(16&d)}}_equalEvents(d,y,w){if(w){if(d.x!==y.x||d.y!==y.y)return!1}else if(d.col!==y.col||d.row!==y.row)return!1;return d.button===y.button&&d.action===y.action&&d.ctrl===y.ctrl&&d.alt===y.alt&&d.shift===y.shift}};o.CoreMouseService=u=p([g(0,h.IBufferService),g(1,h.ICoreService)],u)},6975:function(a,o,l){var p=this&&this.__decorate||function(u,d,y,w){var C,R=arguments.length,b=R<3?d:w===null?w=Object.getOwnPropertyDescriptor(d,y):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(u,d,y,w);else for(var E=u.length-1;E>=0;E--)(C=u[E])&&(b=(R<3?C(b):R>3?C(d,y,b):C(d,y))||b);return R>3&&b&&Object.defineProperty(d,y,b),b},g=this&&this.__param||function(u,d){return function(y,w){d(y,w,u)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CoreService=void 0;const h=l(1439),_=l(8460),S=l(844),x=l(2585),v=Object.freeze({insertMode:!1}),c=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let f=o.CoreService=class extends S.Disposable{constructor(u,d,y){super(),this._bufferService=u,this._logService=d,this._optionsService=y,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new _.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new _.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new _.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new _.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,h.clone)(v),this.decPrivateModes=(0,h.clone)(c)}reset(){this.modes=(0,h.clone)(v),this.decPrivateModes=(0,h.clone)(c)}triggerDataEvent(u,d=!1){if(this._optionsService.rawOptions.disableStdin)return;const y=this._bufferService.buffer;d&&this._optionsService.rawOptions.scrollOnUserInput&&y.ybase!==y.ydisp&&this._onRequestScrollToBottom.fire(),d&&this._onUserInput.fire(),this._logService.debug(`sending data "${u}"`,()=>u.split("").map(w=>w.charCodeAt(0))),this._onData.fire(u)}triggerBinaryEvent(u){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${u}"`,()=>u.split("").map(d=>d.charCodeAt(0))),this._onBinary.fire(u))}};o.CoreService=f=p([g(0,x.IBufferService),g(1,x.ILogService),g(2,x.IOptionsService)],f)},9074:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DecorationService=void 0;const p=l(8055),g=l(8460),h=l(844),_=l(6106);let S=0,x=0;class v extends h.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new _.SortedList(u=>u==null?void 0:u.marker.line),this._onDecorationRegistered=this.register(new g.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new g.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,h.toDisposable)(()=>this.reset()))}registerDecoration(u){if(u.marker.isDisposed)return;const d=new c(u);if(d){const y=d.marker.onDispose(()=>d.dispose());d.onDispose(()=>{d&&(this._decorations.delete(d)&&this._onDecorationRemoved.fire(d),y.dispose())}),this._decorations.insert(d),this._onDecorationRegistered.fire(d)}return d}reset(){for(const u of this._decorations.values())u.dispose();this._decorations.clear()}*getDecorationsAtCell(u,d,y){var w,C,R;let b=0,E=0;for(const D of this._decorations.getKeyIterator(d))b=(w=D.options.x)!==null&&w!==void 0?w:0,E=b+((C=D.options.width)!==null&&C!==void 0?C:1),u>=b&&u<E&&(!y||((R=D.options.layer)!==null&&R!==void 0?R:"bottom")===y)&&(yield D)}forEachDecorationAtCell(u,d,y,w){this._decorations.forEachByKey(d,C=>{var R,b,E;S=(R=C.options.x)!==null&&R!==void 0?R:0,x=S+((b=C.options.width)!==null&&b!==void 0?b:1),u>=S&&u<x&&(!y||((E=C.options.layer)!==null&&E!==void 0?E:"bottom")===y)&&w(C)})}}o.DecorationService=v;class c extends h.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=p.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=p.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(u){super(),this.options=u,this.onRenderEmitter=this.register(new g.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new g.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=u.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.InstantiationService=o.ServiceCollection=void 0;const p=l(2585),g=l(8343);class h{constructor(...S){this._entries=new Map;for(const[x,v]of S)this.set(x,v)}set(S,x){const v=this._entries.get(S);return this._entries.set(S,x),v}forEach(S){for(const[x,v]of this._entries.entries())S(x,v)}has(S){return this._entries.has(S)}get(S){return this._entries.get(S)}}o.ServiceCollection=h,o.InstantiationService=class{constructor(){this._services=new h,this._services.set(p.IInstantiationService,this)}setService(_,S){this._services.set(_,S)}getService(_){return this._services.get(_)}createInstance(_,...S){const x=(0,g.getServiceDependencies)(_).sort((f,u)=>f.index-u.index),v=[];for(const f of x){const u=this._services.get(f.id);if(!u)throw new Error(`[createInstance] ${_.name} depends on UNKNOWN service ${f.id}.`);v.push(u)}const c=x.length>0?x[0].index:S.length;if(S.length!==c)throw new Error(`[createInstance] First service dependency of ${_.name} at position ${c+1} conflicts with ${S.length} static arguments`);return new _(...S,...v)}}},7866:function(a,o,l){var p=this&&this.__decorate||function(c,f,u,d){var y,w=arguments.length,C=w<3?f:d===null?d=Object.getOwnPropertyDescriptor(f,u):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(c,f,u,d);else for(var R=c.length-1;R>=0;R--)(y=c[R])&&(C=(w<3?y(C):w>3?y(f,u,C):y(f,u))||C);return w>3&&C&&Object.defineProperty(f,u,C),C},g=this&&this.__param||function(c,f){return function(u,d){f(u,d,c)}};Object.defineProperty(o,"__esModule",{value:!0}),o.traceCall=o.setTraceLogger=o.LogService=void 0;const h=l(844),_=l(2585),S={trace:_.LogLevelEnum.TRACE,debug:_.LogLevelEnum.DEBUG,info:_.LogLevelEnum.INFO,warn:_.LogLevelEnum.WARN,error:_.LogLevelEnum.ERROR,off:_.LogLevelEnum.OFF};let x,v=o.LogService=class extends h.Disposable{get logLevel(){return this._logLevel}constructor(c){super(),this._optionsService=c,this._logLevel=_.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),x=this}_updateLogLevel(){this._logLevel=S[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(c){for(let f=0;f<c.length;f++)typeof c[f]=="function"&&(c[f]=c[f]())}_log(c,f,u){this._evalLazyOptionalParams(u),c.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+f,...u)}trace(c,...f){var u,d;this._logLevel<=_.LogLevelEnum.TRACE&&this._log((d=(u=this._optionsService.options.logger)===null||u===void 0?void 0:u.trace.bind(this._optionsService.options.logger))!==null&&d!==void 0?d:console.log,c,f)}debug(c,...f){var u,d;this._logLevel<=_.LogLevelEnum.DEBUG&&this._log((d=(u=this._optionsService.options.logger)===null||u===void 0?void 0:u.debug.bind(this._optionsService.options.logger))!==null&&d!==void 0?d:console.log,c,f)}info(c,...f){var u,d;this._logLevel<=_.LogLevelEnum.INFO&&this._log((d=(u=this._optionsService.options.logger)===null||u===void 0?void 0:u.info.bind(this._optionsService.options.logger))!==null&&d!==void 0?d:console.info,c,f)}warn(c,...f){var u,d;this._logLevel<=_.LogLevelEnum.WARN&&this._log((d=(u=this._optionsService.options.logger)===null||u===void 0?void 0:u.warn.bind(this._optionsService.options.logger))!==null&&d!==void 0?d:console.warn,c,f)}error(c,...f){var u,d;this._logLevel<=_.LogLevelEnum.ERROR&&this._log((d=(u=this._optionsService.options.logger)===null||u===void 0?void 0:u.error.bind(this._optionsService.options.logger))!==null&&d!==void 0?d:console.error,c,f)}};o.LogService=v=p([g(0,_.IOptionsService)],v),o.setTraceLogger=function(c){x=c},o.traceCall=function(c,f,u){if(typeof u.value!="function")throw new Error("not supported");const d=u.value;u.value=function(...y){if(x.logLevel!==_.LogLevelEnum.TRACE)return d.apply(this,y);x.trace(`GlyphRenderer#${d.name}(${y.map(C=>JSON.stringify(C)).join(", ")})`);const w=d.apply(this,y);return x.trace(`GlyphRenderer#${d.name} return`,w),w}}},7302:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.OptionsService=o.DEFAULT_OPTIONS=void 0;const p=l(8460),g=l(844),h=l(6114);o.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:h.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const _=["normal","bold","100","200","300","400","500","600","700","800","900"];class S extends g.Disposable{constructor(v){super(),this._onOptionChange=this.register(new p.EventEmitter),this.onOptionChange=this._onOptionChange.event;const c=Object.assign({},o.DEFAULT_OPTIONS);for(const f in v)if(f in c)try{const u=v[f];c[f]=this._sanitizeAndValidateOption(f,u)}catch(u){console.error(u)}this.rawOptions=c,this.options=Object.assign({},c),this._setupOptions()}onSpecificOptionChange(v,c){return this.onOptionChange(f=>{f===v&&c(this.rawOptions[v])})}onMultipleOptionChange(v,c){return this.onOptionChange(f=>{v.indexOf(f)!==-1&&c()})}_setupOptions(){const v=f=>{if(!(f in o.DEFAULT_OPTIONS))throw new Error(`No option with key "${f}"`);return this.rawOptions[f]},c=(f,u)=>{if(!(f in o.DEFAULT_OPTIONS))throw new Error(`No option with key "${f}"`);u=this._sanitizeAndValidateOption(f,u),this.rawOptions[f]!==u&&(this.rawOptions[f]=u,this._onOptionChange.fire(f))};for(const f in this.rawOptions){const u={get:v.bind(this,f),set:c.bind(this,f)};Object.defineProperty(this.options,f,u)}}_sanitizeAndValidateOption(v,c){switch(v){case"cursorStyle":if(c||(c=o.DEFAULT_OPTIONS[v]),!function(f){return f==="block"||f==="underline"||f==="bar"}(c))throw new Error(`"${c}" is not a valid value for ${v}`);break;case"wordSeparator":c||(c=o.DEFAULT_OPTIONS[v]);break;case"fontWeight":case"fontWeightBold":if(typeof c=="number"&&1<=c&&c<=1e3)break;c=_.includes(c)?c:o.DEFAULT_OPTIONS[v];break;case"cursorWidth":c=Math.floor(c);case"lineHeight":case"tabStopWidth":if(c<1)throw new Error(`${v} cannot be less than 1, value: ${c}`);break;case"minimumContrastRatio":c=Math.max(1,Math.min(21,Math.round(10*c)/10));break;case"scrollback":if((c=Math.min(c,4294967295))<0)throw new Error(`${v} cannot be less than 0, value: ${c}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(c<=0)throw new Error(`${v} cannot be less than or equal to 0, value: ${c}`);break;case"rows":case"cols":if(!c&&c!==0)throw new Error(`${v} must be numeric, value: ${c}`);break;case"windowsPty":c=c??{}}return c}}o.OptionsService=S},2660:function(a,o,l){var p=this&&this.__decorate||function(S,x,v,c){var f,u=arguments.length,d=u<3?x:c===null?c=Object.getOwnPropertyDescriptor(x,v):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(S,x,v,c);else for(var y=S.length-1;y>=0;y--)(f=S[y])&&(d=(u<3?f(d):u>3?f(x,v,d):f(x,v))||d);return u>3&&d&&Object.defineProperty(x,v,d),d},g=this&&this.__param||function(S,x){return function(v,c){x(v,c,S)}};Object.defineProperty(o,"__esModule",{value:!0}),o.OscLinkService=void 0;const h=l(2585);let _=o.OscLinkService=class{constructor(S){this._bufferService=S,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(S){const x=this._bufferService.buffer;if(S.id===void 0){const y=x.addMarker(x.ybase+x.y),w={data:S,id:this._nextId++,lines:[y]};return y.onDispose(()=>this._removeMarkerFromLink(w,y)),this._dataByLinkId.set(w.id,w),w.id}const v=S,c=this._getEntryIdKey(v),f=this._entriesWithId.get(c);if(f)return this.addLineToLink(f.id,x.ybase+x.y),f.id;const u=x.addMarker(x.ybase+x.y),d={id:this._nextId++,key:this._getEntryIdKey(v),data:v,lines:[u]};return u.onDispose(()=>this._removeMarkerFromLink(d,u)),this._entriesWithId.set(d.key,d),this._dataByLinkId.set(d.id,d),d.id}addLineToLink(S,x){const v=this._dataByLinkId.get(S);if(v&&v.lines.every(c=>c.line!==x)){const c=this._bufferService.buffer.addMarker(x);v.lines.push(c),c.onDispose(()=>this._removeMarkerFromLink(v,c))}}getLinkData(S){var x;return(x=this._dataByLinkId.get(S))===null||x===void 0?void 0:x.data}_getEntryIdKey(S){return`${S.id};;${S.uri}`}_removeMarkerFromLink(S,x){const v=S.lines.indexOf(x);v!==-1&&(S.lines.splice(v,1),S.lines.length===0&&(S.data.id!==void 0&&this._entriesWithId.delete(S.key),this._dataByLinkId.delete(S.id)))}};o.OscLinkService=_=p([g(0,h.IBufferService)],_)},8343:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createDecorator=o.getServiceDependencies=o.serviceRegistry=void 0;const l="di$target",p="di$dependencies";o.serviceRegistry=new Map,o.getServiceDependencies=function(g){return g[p]||[]},o.createDecorator=function(g){if(o.serviceRegistry.has(g))return o.serviceRegistry.get(g);const h=function(_,S,x){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(v,c,f){c[l]===c?c[p].push({id:v,index:f}):(c[p]=[{id:v,index:f}],c[l]=c)})(h,_,x)};return h.toString=()=>g,o.serviceRegistry.set(g,h),h}},2585:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.IDecorationService=o.IUnicodeService=o.IOscLinkService=o.IOptionsService=o.ILogService=o.LogLevelEnum=o.IInstantiationService=o.ICharsetService=o.ICoreService=o.ICoreMouseService=o.IBufferService=void 0;const p=l(8343);var g;o.IBufferService=(0,p.createDecorator)("BufferService"),o.ICoreMouseService=(0,p.createDecorator)("CoreMouseService"),o.ICoreService=(0,p.createDecorator)("CoreService"),o.ICharsetService=(0,p.createDecorator)("CharsetService"),o.IInstantiationService=(0,p.createDecorator)("InstantiationService"),function(h){h[h.TRACE=0]="TRACE",h[h.DEBUG=1]="DEBUG",h[h.INFO=2]="INFO",h[h.WARN=3]="WARN",h[h.ERROR=4]="ERROR",h[h.OFF=5]="OFF"}(g||(o.LogLevelEnum=g={})),o.ILogService=(0,p.createDecorator)("LogService"),o.IOptionsService=(0,p.createDecorator)("OptionsService"),o.IOscLinkService=(0,p.createDecorator)("OscLinkService"),o.IUnicodeService=(0,p.createDecorator)("UnicodeService"),o.IDecorationService=(0,p.createDecorator)("DecorationService")},1480:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UnicodeService=void 0;const p=l(8460),g=l(225);o.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new p.EventEmitter,this.onChange=this._onChange.event;const h=new g.UnicodeV6;this.register(h),this._active=h.version,this._activeProvider=h}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(h){if(!this._providers[h])throw new Error(`unknown Unicode version "${h}"`);this._active=h,this._activeProvider=this._providers[h],this._onChange.fire(h)}register(h){this._providers[h.version]=h}wcwidth(h){return this._activeProvider.wcwidth(h)}getStringCellWidth(h){let _=0;const S=h.length;for(let x=0;x<S;++x){let v=h.charCodeAt(x);if(55296<=v&&v<=56319){if(++x>=S)return _+this.wcwidth(v);const c=h.charCodeAt(x);56320<=c&&c<=57343?v=1024*(v-55296)+c-56320+65536:_+=this.wcwidth(c)}_+=this.wcwidth(v)}return _}}}},s={};function n(a){var o=s[a];if(o!==void 0)return o.exports;var l=s[a]={exports:{}};return r[a].call(l.exports,l,l.exports,n),l.exports}var i={};return(()=>{var a=i;Object.defineProperty(a,"__esModule",{value:!0}),a.Terminal=void 0;const o=n(9042),l=n(3236),p=n(844),g=n(5741),h=n(8285),_=n(7975),S=n(7090),x=["cols","rows"];class v extends p.Disposable{constructor(f){super(),this._core=this.register(new l.Terminal(f)),this._addonManager=this.register(new g.AddonManager),this._publicOptions=Object.assign({},this._core.options);const u=y=>this._core.options[y],d=(y,w)=>{this._checkReadonlyOptions(y),this._core.options[y]=w};for(const y in this._core.options){const w={get:u.bind(this,y),set:d.bind(this,y)};Object.defineProperty(this._publicOptions,y,w)}}_checkReadonlyOptions(f){if(x.includes(f))throw new Error(`Option "${f}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new _.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new S.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new h.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const f=this._core.coreService.decPrivateModes;let u="none";switch(this._core.coreMouseService.activeProtocol){case"X10":u="x10";break;case"VT200":u="vt200";break;case"DRAG":u="drag";break;case"ANY":u="any"}return{applicationCursorKeysMode:f.applicationCursorKeys,applicationKeypadMode:f.applicationKeypad,bracketedPasteMode:f.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:u,originMode:f.origin,reverseWraparoundMode:f.reverseWraparound,sendFocusMode:f.sendFocus,wraparoundMode:f.wraparound}}get options(){return this._publicOptions}set options(f){for(const u in f)this._publicOptions[u]=f[u]}blur(){this._core.blur()}focus(){this._core.focus()}resize(f,u){this._verifyIntegers(f,u),this._core.resize(f,u)}open(f){this._core.open(f)}attachCustomKeyEventHandler(f){this._core.attachCustomKeyEventHandler(f)}registerLinkProvider(f){return this._core.registerLinkProvider(f)}registerCharacterJoiner(f){return this._checkProposedApi(),this._core.registerCharacterJoiner(f)}deregisterCharacterJoiner(f){this._checkProposedApi(),this._core.deregisterCharacterJoiner(f)}registerMarker(f=0){return this._verifyIntegers(f),this._core.registerMarker(f)}registerDecoration(f){var u,d,y;return this._checkProposedApi(),this._verifyPositiveIntegers((u=f.x)!==null&&u!==void 0?u:0,(d=f.width)!==null&&d!==void 0?d:0,(y=f.height)!==null&&y!==void 0?y:0),this._core.registerDecoration(f)}hasSelection(){return this._core.hasSelection()}select(f,u,d){this._verifyIntegers(f,u,d),this._core.select(f,u,d)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(f,u){this._verifyIntegers(f,u),this._core.selectLines(f,u)}dispose(){super.dispose()}scrollLines(f){this._verifyIntegers(f),this._core.scrollLines(f)}scrollPages(f){this._verifyIntegers(f),this._core.scrollPages(f)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(f){this._verifyIntegers(f),this._core.scrollToLine(f)}clear(){this._core.clear()}write(f,u){this._core.write(f,u)}writeln(f,u){this._core.write(f),this._core.write(`\r
`,u)}paste(f){this._core.paste(f)}refresh(f,u){this._verifyIntegers(f,u),this._core.refresh(f,u)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(f){this._addonManager.loadAddon(this,f)}static get strings(){return o}_verifyIntegers(...f){for(const u of f)if(u===1/0||isNaN(u)||u%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...f){for(const u of f)if(u&&(u===1/0||isNaN(u)||u%1!=0||u<0))throw new Error("This API only accepts positive integers")}}a.Terminal=v})(),i})())})(N_);var D_=N_.exports,T_={exports:{}};(function(e,t){(function(r,s){e.exports=s()})(self,()=>(()=>{var r={};return(()=>{var s=r;Object.defineProperty(s,"__esModule",{value:!0}),s.FitAddon=void 0,s.FitAddon=class{activate(n){this._terminal=n}dispose(){}fit(){const n=this.proposeDimensions();if(!n||!this._terminal||isNaN(n.cols)||isNaN(n.rows))return;const i=this._terminal._core;this._terminal.rows===n.rows&&this._terminal.cols===n.cols||(i._renderService.clear(),this._terminal.resize(n.cols,n.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const n=this._terminal._core,i=n._renderService.dimensions;if(i.css.cell.width===0||i.css.cell.height===0)return;const a=this._terminal.options.scrollback===0?0:n.viewport.scrollBarWidth,o=window.getComputedStyle(this._terminal.element.parentElement),l=parseInt(o.getPropertyValue("height")),p=Math.max(0,parseInt(o.getPropertyValue("width"))),g=window.getComputedStyle(this._terminal.element),h=l-(parseInt(g.getPropertyValue("padding-top"))+parseInt(g.getPropertyValue("padding-bottom"))),_=p-(parseInt(g.getPropertyValue("padding-right"))+parseInt(g.getPropertyValue("padding-left")))-a;return{cols:Math.max(2,Math.floor(_/i.css.cell.width)),rows:Math.max(1,Math.floor(h/i.css.cell.height))}}}})(),r})())})(T_);var P_=T_.exports,A_={exports:{}};(function(e,t){(function(r,s){e.exports=s()})(self,()=>(()=>{var r={6:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.LinkComputer=o.WebLinkProvider=void 0,o.WebLinkProvider=class{constructor(p,g,h,_={}){this._terminal=p,this._regex=g,this._handler=h,this._options=_}provideLinks(p,g){const h=l.computeLink(p,this._regex,this._terminal,this._handler);g(this._addCallbacks(h))}_addCallbacks(p){return p.map(g=>(g.leave=this._options.leave,g.hover=(h,_)=>{if(this._options.hover){const{range:S}=g;this._options.hover(h,_,S)}},g))}};class l{static computeLink(g,h,_,S){const x=new RegExp(h.source,(h.flags||"")+"g"),[v,c]=l._getWindowedLineStrings(g-1,_),f=v.join("");let u;const d=[];for(;u=x.exec(f);){const y=u[0];try{const D=new URL(y),O=decodeURI(D.toString());if(y!==O&&y+"/"!==O)continue}catch{continue}const[w,C]=l._mapStrIdx(_,c,0,u.index),[R,b]=l._mapStrIdx(_,w,C,y.length);if(w===-1||C===-1||R===-1||b===-1)continue;const E={start:{x:C+1,y:w+1},end:{x:b,y:R+1}};d.push({range:E,text:y,activate:S})}return d}static _getWindowedLineStrings(g,h){let _,S=g,x=g,v=0,c="";const f=[];if(_=h.buffer.active.getLine(g)){const u=_.translateToString(!0);if(_.isWrapped&&u[0]!==" "){for(v=0;(_=h.buffer.active.getLine(--S))&&v<2048&&(c=_.translateToString(!0),v+=c.length,f.push(c),_.isWrapped&&c.indexOf(" ")===-1););f.reverse()}for(f.push(u),v=0;(_=h.buffer.active.getLine(++x))&&_.isWrapped&&v<2048&&(c=_.translateToString(!0),v+=c.length,f.push(c),c.indexOf(" ")===-1););}return[f,S]}static _mapStrIdx(g,h,_,S){const x=g.buffer.active,v=x.getNullCell();let c=_;for(;S;){const f=x.getLine(h);if(!f)return[-1,-1];for(let u=c;u<f.length;++u){f.getCell(u,v);const d=v.getChars();if(v.getWidth()&&(S-=d.length||1,u===f.length-1&&d==="")){const y=x.getLine(h+1);y&&y.isWrapped&&(y.getCell(0,v),v.getWidth()===2&&(S+=1))}if(S<0)return[h,u]}h++,c=0}return[h,c]}}o.LinkComputer=l}},s={};function n(a){var o=s[a];if(o!==void 0)return o.exports;var l=s[a]={exports:{}};return r[a](l,l.exports,n),l.exports}var i={};return(()=>{var a=i;Object.defineProperty(a,"__esModule",{value:!0}),a.WebLinksAddon=void 0;const o=n(6),l=/https?:[/]{2}[^\s"'!*(){}|\\\^<>`]*[^\s"':,.!?{}|\\\^~\[\]`()<>]/;function p(g,h){const _=window.open();if(_){try{_.opener=null}catch{}_.location.href=h}else console.warn("Opening link blocked as opener could not be cleared")}a.WebLinksAddon=class{constructor(g=p,h={}){this._handler=g,this._options=h}activate(g){this._terminal=g;const h=this._options,_=h.urlRegex||l;this._linkProvider=this._terminal.registerLinkProvider(new o.WebLinkProvider(this._terminal,_,this._handler,h))}dispose(){var g;(g=this._linkProvider)===null||g===void 0||g.dispose()}}})(),i})())})(A_);var O_=A_.exports;function O5({vpsId:e}){const t=k.useRef(null),r=k.useRef(null),s=k.useRef(null),n=k.useRef(null),[i,a]=k.useState("connecting");k.useEffect(()=>{if(!t.current)return;r.current=new D_.Terminal({cursorBlink:!0,fontSize:14,fontFamily:'Monaco, Menlo, "Ubuntu Mono", monospace',theme:{background:"#1a1a1a",foreground:"#ffffff",cursor:"#ffffff"},rows:24,cols:80}),s.current=new P_.FitAddon,r.current.loadAddon(s.current),r.current.loadAddon(new O_.WebLinksAddon),r.current.open(t.current),s.current.fit(),o();const g=()=>{s.current&&s.current.fit()};return window.addEventListener("resize",g),()=>{window.removeEventListener("resize",g),n.current&&n.current.close(),r.current&&r.current.dispose()}},[e]);const o=()=>{const h=`${window.location.protocol==="https:"?"wss:":"ws:"}//localhost:8000/api/v1/vps/${e}/terminal`;n.current=new WebSocket(h),n.current.onopen=()=>{a("connected"),r.current&&(r.current.clear(),r.current.writeln("Connecting to VPS terminal..."))},n.current.onmessage=_=>{try{const S=JSON.parse(_.data);switch(S.type){case"connected":r.current&&(r.current.clear(),r.current.writeln(`\r
${S.message}\r
`));break;case"output":r.current&&r.current.write(S.data);break;case"error":r.current&&r.current.writeln(`\r
Error: ${S.message}\r
`),a("error");break}}catch(S){console.error("Error parsing WebSocket message:",S)}},n.current.onclose=()=>{a("disconnected"),r.current&&r.current.writeln(`\r
Connection closed. Attempting to reconnect...\r
`),setTimeout(()=>{i!=="connected"&&o()},3e3)},n.current.onerror=()=>{a("error"),r.current&&r.current.writeln(`\r
WebSocket connection error\r
`)},r.current&&r.current.onData(_=>{var S;((S=n.current)==null?void 0:S.readyState)===WebSocket.OPEN&&n.current.send(JSON.stringify({type:"command",data:_}))})},l=()=>{switch(i){case"connected":return"bg-green-500";case"connecting":return"bg-yellow-500";case"disconnected":return"bg-gray-500";case"error":return"bg-red-500";default:return"bg-gray-500"}},p=()=>{switch(i){case"connected":return"Connected";case"connecting":return"Connecting...";case"disconnected":return"Disconnected";case"error":return"Connection Error";default:return"Unknown"}};return m.jsxs("div",{className:"h-full bg-gray-900 flex flex-col",children:[m.jsxs("div",{className:"bg-gray-800 border-b border-gray-700 px-4 py-2 flex items-center justify-between",children:[m.jsx("div",{className:"flex items-center space-x-3",children:m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsxs("div",{className:"flex space-x-1",children:[m.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),m.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),m.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"})]}),m.jsx("span",{className:"text-gray-300 text-sm font-medium",children:"VPS Terminal"})]})}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("div",{className:`w-2 h-2 rounded-full ${l()}`}),m.jsx("span",{className:"text-gray-300 text-sm",children:p()})]})]}),m.jsx("div",{className:"flex-1 p-4 bg-gray-900",children:m.jsx("div",{ref:t,className:"h-full w-full rounded-md",style:{backgroundColor:"#1a1a1a"}})}),i==="error"&&m.jsx("div",{className:"bg-red-900 border-t border-red-700 px-4 py-2",children:m.jsx("p",{className:"text-red-200 text-sm",children:"Unable to connect to VPS terminal. Please check your connection and try again."})})]})}const Lo={getStatus:e=>rr.get(`/vps/${e}/docker/status`),getContainers:(e,t=!1)=>rr.get(`/vps/${e}/docker/containers`,{all_containers:t}),containerAction:(e,t,r)=>rr.post(`/vps/${e}/docker/container/action`,{container_id:t,action:r}),getImages:e=>rr.get(`/vps/${e}/docker/images`)},On={getSchedules:(e,t=1,r=50,s=!0)=>rr.get(`/vps/${e}/schedules`,{page:t,per_page:r,active_only:s}),create:(e,t)=>rr.post(`/vps/${e}/schedules`,t),update:(e,t)=>rr.put(`/schedules/${e}`,t),delete:e=>rr.delete(`/schedules/${e}`),executeNow:e=>rr.post(`/schedules/${e}/execute`),toggle:e=>rr.post(`/schedules/${e}/toggle`),getExecutions:(e,t=50)=>rr.get(`/schedules/${e}/executions`,{limit:t})};function M5({vpsId:e}){var p;const{data:t,isLoading:r,error:s,refetch:n}=st({queryKey:["docker-status",e],queryFn:()=>Lo.getStatus(e),refetchInterval:1e4});if(r)return m.jsx("div",{className:"flex items-center justify-center h-64",children:m.jsx(mt,{size:"lg"})});if(s||!(t!=null&&t.data))return m.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:m.jsxs("div",{className:"flex",children:[m.jsx(eu,{className:"h-5 w-5 text-red-400"}),m.jsxs("div",{className:"ml-3",children:[m.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Failed to load Docker status"}),m.jsx("div",{className:"mt-2",children:m.jsx("button",{onClick:()=>n(),className:"text-sm bg-red-100 text-red-700 px-3 py-1 rounded hover:bg-red-200",children:"Retry"})})]})]})});const i=t.data,a=i.status==="running",o=[{name:"Running Containers",value:i.containers_running,icon:Br,color:"text-green-600",bgColor:"bg-green-100"},{name:"Total Containers",value:i.containers_total,icon:R_,color:"text-blue-600",bgColor:"bg-blue-100"},{name:"Images",value:i.images_count,icon:d5,color:"text-purple-600",bgColor:"bg-purple-100"}],l=g=>{if(typeof g=="string")return g;const h=["Bytes","KB","MB","GB","TB"];if(g===0)return"0 Bytes";const _=Math.floor(Math.log(g)/Math.log(1024));return Math.round(g/Math.pow(1024,_)*100)/100+" "+h[_]};return m.jsxs("div",{className:"space-y-6",children:[m.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:`p-2 rounded-md ${a?"bg-green-100":"bg-red-100"}`,children:a?m.jsx(di,{className:"h-6 w-6 text-green-600"}):m.jsx(eu,{className:"h-6 w-6 text-red-600"})}),m.jsxs("div",{className:"ml-4",children:[m.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Docker Status"}),m.jsx("p",{className:"text-sm text-gray-500",children:i.version||"Version information not available"})]})]}),m.jsx("div",{className:"flex items-center",children:m.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${a?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:a?"Running":"Stopped"})})]})}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:o.map(g=>{const h=g.icon;return m.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:`p-2 rounded-md ${g.bgColor}`,children:m.jsx(h,{className:`h-6 w-6 ${g.color}`})}),m.jsxs("div",{className:"ml-4",children:[m.jsx("p",{className:"text-sm font-medium text-gray-500",children:g.name}),m.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:g.value})]})]})},g.name)})}),i.system_info&&Object.keys(i.system_info).length>0&&m.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[m.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"System Information"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.system_info.ServerVersion&&m.jsxs("div",{className:"flex justify-between py-2",children:[m.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Server Version:"}),m.jsx("span",{className:"text-sm text-gray-900",children:i.system_info.ServerVersion})]}),i.system_info.Architecture&&m.jsxs("div",{className:"flex justify-between py-2",children:[m.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Architecture:"}),m.jsx("span",{className:"text-sm text-gray-900",children:i.system_info.Architecture})]}),i.system_info.OSType&&m.jsxs("div",{className:"flex justify-between py-2",children:[m.jsx("span",{className:"text-sm font-medium text-gray-500",children:"OS Type:"}),m.jsx("span",{className:"text-sm text-gray-900",children:i.system_info.OSType})]}),i.system_info.KernelVersion&&m.jsxs("div",{className:"flex justify-between py-2",children:[m.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Kernel Version:"}),m.jsx("span",{className:"text-sm text-gray-900",children:i.system_info.KernelVersion})]}),i.system_info.MemTotal&&m.jsxs("div",{className:"flex justify-between py-2",children:[m.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Total Memory:"}),m.jsx("span",{className:"text-sm text-gray-900",children:l(i.system_info.MemTotal)})]}),i.system_info.NCPU&&m.jsxs("div",{className:"flex justify-between py-2",children:[m.jsx("span",{className:"text-sm font-medium text-gray-500",children:"CPUs:"}),m.jsx("span",{className:"text-sm text-gray-900",children:i.system_info.NCPU})]}),i.system_info.Driver&&m.jsxs("div",{className:"flex justify-between py-2",children:[m.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Storage Driver:"}),m.jsx("span",{className:"text-sm text-gray-900",children:i.system_info.Driver})]}),i.system_info.DockerRootDir&&m.jsxs("div",{className:"flex justify-between py-2",children:[m.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Docker Root Dir:"}),m.jsx("span",{className:"text-sm text-gray-900 truncate",children:i.system_info.DockerRootDir})]})]})]}),((p=i.system_info)==null?void 0:p.error)&&m.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-4",children:m.jsxs("div",{className:"flex",children:[m.jsx(eu,{className:"h-5 w-5 text-yellow-400"}),m.jsxs("div",{className:"ml-3",children:[m.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"System Information Warning"}),m.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:i.system_info.error})]})]})})]})}function I5({vpsId:e,onOpenTerminal:t}){const[r,s]=k.useState(!1),n=Fs(),{data:i,isLoading:a,error:o,refetch:l}=st({queryKey:["docker-containers",e,r],queryFn:()=>Lo.getContainers(e,r),refetchInterval:5e3}),p=At({mutationFn:({containerId:v,action:c})=>Lo.containerAction(e,v,c),onSuccess:(v,c)=>{Ie.success(`Container ${c.action} successful`),n.invalidateQueries({queryKey:["docker-containers",e]}),n.invalidateQueries({queryKey:["docker-status",e]})},onError:(v,c)=>{var u,d;const f=((d=(u=v.response)==null?void 0:u.data)==null?void 0:d.message)||`Failed to ${c.action} container`;Ie.error(f)}});if(a)return m.jsx("div",{className:"flex items-center justify-center h-64",children:m.jsx(mt,{size:"lg"})});if(o||!(i!=null&&i.data))return m.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:m.jsxs("div",{className:"flex",children:[m.jsx(Kk,{className:"h-5 w-5 text-red-400"}),m.jsxs("div",{className:"ml-3",children:[m.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Failed to load containers"}),m.jsx("div",{className:"mt-2",children:m.jsx("button",{onClick:()=>l(),className:"text-sm bg-red-100 text-red-700 px-3 py-1 rounded hover:bg-red-200",children:"Retry"})})]})]})});const g=i.data.containers||[],h=v=>{const c=v.toLowerCase();return c.includes("up")||c.includes("running")?m.jsx(di,{className:"h-5 w-5 text-green-500"}):c.includes("paused")?m.jsx(Dd,{className:"h-5 w-5 text-yellow-500"}):c.includes("exited")||c.includes("stopped")?m.jsx(jl,{className:"h-5 w-5 text-red-500"}):m.jsx(dc,{className:"h-5 w-5 text-gray-500"})},_=v=>{const c=v.toLowerCase();return c.includes("up")||c.includes("running")?"bg-green-100 text-green-800":c.includes("paused")?"bg-yellow-100 text-yellow-800":c.includes("exited")||c.includes("stopped")?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"},S=v=>v.toLowerCase().includes("up")||v.toLowerCase().includes("running"),x=(v,c,f)=>{["remove"].includes(c)&&!confirm(`Are you sure you want to ${c} container "${f}"? This action cannot be undone.`)||p.mutate({containerId:v,action:c})};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Docker Containers"}),m.jsxs("p",{className:"text-sm text-gray-500",children:[g.length," container",g.length!==1?"s":""," found"]})]}),m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsxs("label",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",checked:r,onChange:v=>s(v.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),m.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Show all containers"})]}),m.jsxs("button",{onClick:()=>l(),className:"btn-secondary",disabled:a,children:[m.jsx(ym,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),g.length===0?m.jsxs("div",{className:"text-center py-12",children:[m.jsx("div",{className:"mx-auto h-12 w-12 text-gray-400",children:m.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 48 48",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 16l2.879-2.879a3 3 0 014.242 0L18 16l7-7 7 7-7 7-7-7zM8 16v16h32V16"})})}),m.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No containers found"}),m.jsx("p",{className:"mt-1 text-sm text-gray-500",children:r?"No containers exist on this VPS.":"No running containers found. Try showing all containers."})]}):m.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:m.jsx("ul",{className:"divide-y divide-gray-200",children:g.map(v=>m.jsx("li",{className:"px-6 py-4 hover:bg-gray-50",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center space-x-4 flex-1 min-w-0",children:[h(v.status),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:v.name||"Unnamed"}),m.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${_(v.status)}`,children:v.status})]}),m.jsxs("div",{className:"mt-1 flex items-center text-sm text-gray-500 space-x-4",children:[m.jsxs("span",{children:[m.jsx("span",{className:"font-medium",children:"Image:"})," ",v.image]}),m.jsxs("span",{children:[m.jsx("span",{className:"font-medium",children:"ID:"})," ",v.id]}),v.created&&m.jsxs("span",{children:[m.jsx("span",{className:"font-medium",children:"Created:"})," ",v.created]})]}),v.ports&&v.ports.length>0&&m.jsxs("div",{className:"mt-1 text-sm text-gray-500",children:[m.jsx("span",{className:"font-medium",children:"Ports:"})," ",v.ports.join(", ")]})]})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[S(v.status)&&m.jsx("button",{onClick:()=>t(v.id,v.name),className:"p-2 text-gray-400 hover:text-gray-600 rounded-md hover:bg-gray-100",title:"Open Terminal",children:m.jsx(jd,{className:"h-5 w-5"})}),!S(v.status)&&m.jsx("button",{onClick:()=>x(v.id,"start",v.name),disabled:p.isPending,className:"p-2 text-green-600 hover:text-green-800 rounded-md hover:bg-green-50",title:"Start Container",children:p.isPending?m.jsx(mt,{size:"sm"}):m.jsx(Br,{className:"h-5 w-5"})}),S(v.status)&&m.jsx("button",{onClick:()=>x(v.id,"stop",v.name),disabled:p.isPending,className:"p-2 text-red-600 hover:text-red-800 rounded-md hover:bg-red-50",title:"Stop Container",children:p.isPending?m.jsx(mt,{size:"sm"}):m.jsx(jl,{className:"h-5 w-5"})}),m.jsx("button",{onClick:()=>x(v.id,"restart",v.name),disabled:p.isPending,className:"p-2 text-blue-600 hover:text-blue-800 rounded-md hover:bg-blue-50",title:"Restart Container",children:p.isPending?m.jsx(mt,{size:"sm"}):m.jsx(ym,{className:"h-5 w-5"})}),m.jsx("button",{onClick:()=>x(v.id,"remove",v.name),disabled:p.isPending,className:"p-2 text-red-600 hover:text-red-800 rounded-md hover:bg-red-50",title:"Remove Container",children:p.isPending?m.jsx(mt,{size:"sm"}):m.jsx(hc,{className:"h-5 w-5"})})]})]})},v.id))})})]})}function B5({vpsId:e,containerId:t}){const r=k.useRef(null),s=k.useRef(null),n=k.useRef(null),i=k.useRef(null),[a,o]=k.useState("connecting");k.useEffect(()=>{if(!r.current)return;s.current=new D_.Terminal({cursorBlink:!0,fontSize:14,fontFamily:'Monaco, Menlo, "Ubuntu Mono", monospace',theme:{background:"#0d1117",foreground:"#f0f6fc",cursor:"#f0f6fc",black:"#484f58",red:"#ff7b72",green:"#3fb950",yellow:"#d29922",blue:"#58a6ff",magenta:"#bc8cff",cyan:"#39c5cf",white:"#b1bac4",brightBlack:"#6e7681",brightRed:"#ffa198",brightGreen:"#56d364",brightYellow:"#e3b341",brightBlue:"#79c0ff",brightMagenta:"#d2a8ff",brightCyan:"#56d4dd",brightWhite:"#f0f6fc"},rows:24,cols:80}),n.current=new P_.FitAddon,s.current.loadAddon(n.current),s.current.loadAddon(new O_.WebLinksAddon),s.current.open(r.current),n.current.fit(),l();const h=()=>{n.current&&n.current.fit()};return window.addEventListener("resize",h),()=>{window.removeEventListener("resize",h),i.current&&i.current.close(),s.current&&s.current.dispose()}},[e,t]);const l=()=>{const _=`${window.location.protocol==="https:"?"wss:":"ws:"}//localhost:8000/api/v1/vps/${e}/container/${t}/terminal`;i.current=new WebSocket(_),i.current.onopen=()=>{o("connected"),s.current&&(s.current.clear(),s.current.writeln("Connecting to container terminal..."))},i.current.onmessage=S=>{try{const x=JSON.parse(S.data);switch(x.type){case"connected":s.current&&(s.current.clear(),s.current.writeln(`\r
${x.message}\r
`));break;case"output":s.current&&s.current.write(x.data);break;case"error":s.current&&s.current.writeln(`\r
Error: ${x.message}\r
`),o("error");break}}catch(x){console.error("Error parsing WebSocket message:",x)}},i.current.onclose=()=>{o("disconnected"),s.current&&s.current.writeln(`\r
Connection closed. Attempting to reconnect...\r
`),setTimeout(()=>{a!=="connected"&&l()},3e3)},i.current.onerror=()=>{o("error"),s.current&&s.current.writeln(`\r
WebSocket connection error\r
`)},s.current&&s.current.onData(S=>{var x;((x=i.current)==null?void 0:x.readyState)===WebSocket.OPEN&&i.current.send(JSON.stringify({type:"command",data:S}))})},p=()=>{switch(a){case"connected":return"bg-green-500";case"connecting":return"bg-yellow-500";case"disconnected":return"bg-gray-500";case"error":return"bg-red-500";default:return"bg-gray-500"}},g=()=>{switch(a){case"connected":return"Connected";case"connecting":return"Connecting...";case"disconnected":return"Disconnected";case"error":return"Connection Error";default:return"Unknown"}};return m.jsxs("div",{className:"h-full bg-gray-900 flex flex-col",children:[m.jsxs("div",{className:"bg-gray-800 border-b border-gray-700 px-4 py-2 flex items-center justify-between",children:[m.jsx("div",{className:"flex items-center space-x-3",children:m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsxs("div",{className:"flex space-x-1",children:[m.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),m.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),m.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"})]}),m.jsx("span",{className:"text-gray-300 text-sm font-medium",children:"Container Terminal"})]})}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("div",{className:"text-gray-400 text-xs font-mono",children:t.slice(0,12)}),m.jsx("div",{className:`w-2 h-2 rounded-full ${p()}`}),m.jsx("span",{className:"text-gray-300 text-sm",children:g()})]})]}),m.jsx("div",{className:"flex-1 p-4 bg-gray-900",children:m.jsx("div",{ref:r,className:"h-full w-full rounded-md",style:{backgroundColor:"#0d1117"}})}),a==="error"&&m.jsx("div",{className:"bg-red-900 border-t border-red-700 px-4 py-2",children:m.jsx("p",{className:"text-red-200 text-sm",children:"Unable to connect to container terminal. The container may not be running or may not have a shell available."})})]})}function F5({title:e,titleId:t,...r},s){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?k.createElement("title",{id:t},e):null,k.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const $5=k.forwardRef(F5),H5=$5;function U5({title:e,titleId:t,...r},s){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?k.createElement("title",{id:t},e):null,k.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))}const W5=k.forwardRef(U5),wm=W5;function z5({title:e,titleId:t,...r},s){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?k.createElement("title",{id:t},e):null,k.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}const V5=k.forwardRef(z5),q5=V5;function K5({vpsId:e,onClose:t,onSuccess:r}){var S;const[s,n]=k.useState({name:"",description:"",container_id:"",container_name:"",action:"restart",schedule_type:"cron",cron_expression:"0 2 * * *",interval_seconds:3600,scheduled_at:"",timeout_seconds:300,retry_count:3,retry_delay_seconds:60}),[i,a]=k.useState({}),{data:o}=st({queryKey:["docker-containers",e],queryFn:()=>Lo.getContainers(e,!0)}),l=At({mutationFn:x=>On.create(e,x),onSuccess:()=>{r()},onError:x=>{console.error("Failed to create schedule:",x)}}),p=x=>{x.preventDefault();const v={};if(s.name.trim()||(v.name="Name is required"),s.container_id||(v.container_id="Container is required"),s.schedule_type==="cron"&&!s.cron_expression.trim()&&(v.cron_expression="Cron expression is required"),s.schedule_type==="interval"&&s.interval_seconds<60&&(v.interval_seconds="Interval must be at least 60 seconds"),s.schedule_type==="once"&&!s.scheduled_at&&(v.scheduled_at="Scheduled date/time is required"),a(v),Object.keys(v).length===0){const c={name:s.name,description:s.description||void 0,container_id:s.container_id,container_name:s.container_name,action:s.action,schedule_type:s.schedule_type,timeout_seconds:s.timeout_seconds,retry_count:s.retry_count,retry_delay_seconds:s.retry_delay_seconds};s.schedule_type==="cron"?c.cron_expression=s.cron_expression:s.schedule_type==="interval"?c.interval_seconds=s.interval_seconds:s.schedule_type==="once"&&(c.scheduled_at=s.scheduled_at?new Date(s.scheduled_at).toISOString():null),l.mutate(c)}},g=x=>{var c,f;const v=(f=(c=o==null?void 0:o.data)==null?void 0:c.containers)==null?void 0:f.find(u=>u.id===x);n(u=>({...u,container_id:x,container_name:(v==null?void 0:v.name)||""}))},h=()=>{if(s.schedule_type==="cron")return`Next run will be calculated based on: ${s.cron_expression}`;if(s.schedule_type==="interval"){const x=Math.floor(s.interval_seconds/60),v=Math.floor(x/60);return v>0?`Will run every ${v} hour${v>1?"s":""}`:`Will run every ${x} minute${x>1?"s":""}`}else if(s.schedule_type==="once")return s.scheduled_at?`Will run once at: ${new Date(s.scheduled_at).toLocaleString()}`:"";return""},_=((S=o==null?void 0:o.data)==null?void 0:S.containers)||[];return m.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:m.jsxs("div",{className:"relative top-20 mx-auto p-5 border w-full max-w-2xl shadow-lg rounded-md bg-white",children:[m.jsxs("div",{className:"flex items-center justify-between pb-3",children:[m.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Create Docker Schedule"}),m.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:m.jsx(hi,{className:"h-6 w-6"})})]}),m.jsxs("form",{onSubmit:p,className:"space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),m.jsx("input",{type:"text",value:s.name,onChange:x=>n(v=>({...v,name:x.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Daily Backup Restart"}),i.name&&m.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.name})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description (Optional)"}),m.jsx("textarea",{value:s.description,onChange:x=>n(v=>({...v,description:x.target.value})),rows:2,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"What does this schedule do?"})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Container"}),m.jsxs("select",{value:s.container_id,onChange:x=>g(x.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[m.jsx("option",{value:"",children:"Select a container"}),_.map(x=>m.jsxs("option",{value:x.id,children:[x.name," (",x.id.substring(0,12),")"]},x.id))]}),i.container_id&&m.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.container_id})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Action"}),m.jsxs("select",{value:s.action,onChange:x=>n(v=>({...v,action:x.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[m.jsx("option",{value:"start",children:"Start Container"}),m.jsx("option",{value:"stop",children:"Stop Container"}),m.jsx("option",{value:"restart",children:"Restart Container"})]})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Schedule Type"}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("label",{className:"flex items-center",children:[m.jsx("input",{type:"radio",value:"cron",checked:s.schedule_type==="cron",onChange:x=>n(v=>({...v,schedule_type:x.target.value})),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300"}),m.jsx("span",{className:"ml-3 text-sm text-gray-700",children:"Cron Expression (Advanced)"})]}),s.schedule_type==="cron"&&m.jsxs("div",{className:"ml-7",children:[m.jsx("input",{type:"text",value:s.cron_expression,onChange:x=>n(v=>({...v,cron_expression:x.target.value})),className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"0 2 * * * (2 AM daily)"}),i.cron_expression&&m.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.cron_expression}),m.jsx("p",{className:"mt-1 text-xs text-gray-500",children:'Examples: "0 2 * * *" (2 AM daily), "0 */6 * * *" (every 6 hours), "0 9 * * 1-5" (9 AM weekdays)'})]}),m.jsxs("label",{className:"flex items-center",children:[m.jsx("input",{type:"radio",value:"interval",checked:s.schedule_type==="interval",onChange:x=>n(v=>({...v,schedule_type:x.target.value})),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300"}),m.jsx("span",{className:"ml-3 text-sm text-gray-700",children:"Repeat Every"})]}),s.schedule_type==="interval"&&m.jsxs("div",{className:"ml-7 flex items-center space-x-2",children:[m.jsx("input",{type:"number",value:Math.floor(s.interval_seconds/60),onChange:x=>n(v=>({...v,interval_seconds:parseInt(x.target.value)*60})),min:"1",className:"block w-24 border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"}),m.jsx("span",{className:"text-sm text-gray-700",children:"minutes"}),i.interval_seconds&&m.jsx("p",{className:"ml-2 text-sm text-red-600",children:i.interval_seconds})]}),m.jsxs("label",{className:"flex items-center",children:[m.jsx("input",{type:"radio",value:"once",checked:s.schedule_type==="once",onChange:x=>n(v=>({...v,schedule_type:x.target.value})),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300"}),m.jsx("span",{className:"ml-3 text-sm text-gray-700",children:"Run Once"})]}),s.schedule_type==="once"&&m.jsxs("div",{className:"ml-7",children:[m.jsx("input",{type:"datetime-local",value:s.scheduled_at,onChange:x=>n(v=>({...v,scheduled_at:x.target.value})),className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"}),i.scheduled_at&&m.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.scheduled_at})]})]}),h()&&m.jsx("p",{className:"mt-2 text-sm text-blue-600",children:h()})]}),m.jsxs("details",{className:"group",children:[m.jsx("summary",{className:"cursor-pointer text-sm font-medium text-gray-700 hover:text-gray-900",children:"Advanced Options"}),m.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Timeout (seconds)"}),m.jsx("input",{type:"number",value:s.timeout_seconds,onChange:x=>n(v=>({...v,timeout_seconds:parseInt(x.target.value)})),min:"30",max:"3600",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Retry Count"}),m.jsx("input",{type:"number",value:s.retry_count,onChange:x=>n(v=>({...v,retry_count:parseInt(x.target.value)})),min:"0",max:"10",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Retry Delay (seconds)"}),m.jsx("input",{type:"number",value:s.retry_delay_seconds,onChange:x=>n(v=>({...v,retry_delay_seconds:parseInt(x.target.value)})),min:"10",max:"300",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]})]}),m.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t",children:[m.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),m.jsx("button",{type:"submit",disabled:l.isPending,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:l.isPending?"Creating...":"Create Schedule"})]})]})]})})}function Q5({schedule:e,onClose:t,onSuccess:r}){var S;const[s,n]=k.useState({name:"",description:"",container_id:"",container_name:"",action:"restart",schedule_type:"cron",cron_expression:"0 2 * * *",interval_seconds:3600,scheduled_at:"",timeout_seconds:300,retry_count:3,retry_delay_seconds:60}),[i,a]=k.useState({}),{data:o}=st({queryKey:["docker-containers",e.vps_id],queryFn:()=>Lo.getContainers(e.vps_id,!0)});k.useEffect(()=>{e&&n({name:e.name||"",description:e.description||"",container_id:e.container_id||"",container_name:e.container_name||"",action:e.action||"restart",schedule_type:e.schedule_type||"cron",cron_expression:e.cron_expression||"0 2 * * *",interval_seconds:e.interval_seconds||3600,scheduled_at:e.scheduled_at?new Date(e.scheduled_at).toISOString().slice(0,16):"",timeout_seconds:e.timeout_seconds||300,retry_count:e.retry_count||3,retry_delay_seconds:e.retry_delay_seconds||60})},[e]);const l=At({mutationFn:x=>On.update(e.id,x),onSuccess:()=>{r()},onError:x=>{console.error("Failed to update schedule:",x)}}),p=x=>{x.preventDefault();const v={};if(s.name.trim()||(v.name="Name is required"),s.container_id||(v.container_id="Container is required"),s.schedule_type==="cron"&&!s.cron_expression.trim()&&(v.cron_expression="Cron expression is required"),s.schedule_type==="interval"&&s.interval_seconds<60&&(v.interval_seconds="Interval must be at least 60 seconds"),s.schedule_type==="once"&&!s.scheduled_at&&(v.scheduled_at="Scheduled date/time is required"),a(v),Object.keys(v).length===0){const c={name:s.name,description:s.description||void 0,action:s.action,schedule_type:s.schedule_type,timeout_seconds:s.timeout_seconds,retry_count:s.retry_count,retry_delay_seconds:s.retry_delay_seconds};s.schedule_type==="cron"?c.cron_expression=s.cron_expression:s.schedule_type==="interval"?c.interval_seconds=s.interval_seconds:s.schedule_type==="once"&&(c.scheduled_at=s.scheduled_at?new Date(s.scheduled_at).toISOString():null),l.mutate(c)}},g=x=>{var c,f;const v=(f=(c=o==null?void 0:o.data)==null?void 0:c.containers)==null?void 0:f.find(u=>u.id===x);n(u=>({...u,container_id:x,container_name:(v==null?void 0:v.name)||""}))},h=()=>{if(s.schedule_type==="cron")return`Next run will be calculated based on: ${s.cron_expression}`;if(s.schedule_type==="interval"){const x=Math.floor(s.interval_seconds/60),v=Math.floor(x/60);return v>0?`Will run every ${v} hour${v>1?"s":""}`:`Will run every ${x} minute${x>1?"s":""}`}else if(s.schedule_type==="once")return s.scheduled_at?`Will run once at: ${new Date(s.scheduled_at).toLocaleString()}`:"";return""},_=((S=o==null?void 0:o.data)==null?void 0:S.containers)||[];return m.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:m.jsxs("div",{className:"relative top-20 mx-auto p-5 border w-full max-w-2xl shadow-lg rounded-md bg-white",children:[m.jsxs("div",{className:"flex items-center justify-between pb-3",children:[m.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Edit Docker Schedule"}),m.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:m.jsx(hi,{className:"h-6 w-6"})})]}),m.jsxs("form",{onSubmit:p,className:"space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),m.jsx("input",{type:"text",value:s.name,onChange:x=>n(v=>({...v,name:x.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Daily Backup Restart"}),i.name&&m.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.name})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description (Optional)"}),m.jsx("textarea",{value:s.description,onChange:x=>n(v=>({...v,description:x.target.value})),rows:2,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"What does this schedule do?"})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Container"}),m.jsxs("select",{value:s.container_id,onChange:x=>g(x.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[m.jsx("option",{value:"",children:"Select a container"}),_.map(x=>m.jsxs("option",{value:x.id,children:[x.name," (",x.id.substring(0,12),")"]},x.id))]}),i.container_id&&m.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.container_id})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Action"}),m.jsxs("select",{value:s.action,onChange:x=>n(v=>({...v,action:x.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[m.jsx("option",{value:"start",children:"Start Container"}),m.jsx("option",{value:"stop",children:"Stop Container"}),m.jsx("option",{value:"restart",children:"Restart Container"})]})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Schedule Type"}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("label",{className:"flex items-center",children:[m.jsx("input",{type:"radio",value:"cron",checked:s.schedule_type==="cron",onChange:x=>n(v=>({...v,schedule_type:x.target.value})),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300"}),m.jsx("span",{className:"ml-3 text-sm text-gray-700",children:"Cron Expression (Advanced)"})]}),s.schedule_type==="cron"&&m.jsxs("div",{className:"ml-7",children:[m.jsx("input",{type:"text",value:s.cron_expression,onChange:x=>n(v=>({...v,cron_expression:x.target.value})),className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"0 2 * * * (2 AM daily)"}),i.cron_expression&&m.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.cron_expression}),m.jsx("p",{className:"mt-1 text-xs text-gray-500",children:'Examples: "0 2 * * *" (2 AM daily), "0 */6 * * *" (every 6 hours), "0 9 * * 1-5" (9 AM weekdays)'})]}),m.jsxs("label",{className:"flex items-center",children:[m.jsx("input",{type:"radio",value:"interval",checked:s.schedule_type==="interval",onChange:x=>n(v=>({...v,schedule_type:x.target.value})),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300"}),m.jsx("span",{className:"ml-3 text-sm text-gray-700",children:"Repeat Every"})]}),s.schedule_type==="interval"&&m.jsxs("div",{className:"ml-7 flex items-center space-x-2",children:[m.jsx("input",{type:"number",value:Math.floor(s.interval_seconds/60),onChange:x=>n(v=>({...v,interval_seconds:parseInt(x.target.value)*60})),min:"1",className:"block w-24 border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"}),m.jsx("span",{className:"text-sm text-gray-700",children:"minutes"}),i.interval_seconds&&m.jsx("p",{className:"ml-2 text-sm text-red-600",children:i.interval_seconds})]}),m.jsxs("label",{className:"flex items-center",children:[m.jsx("input",{type:"radio",value:"once",checked:s.schedule_type==="once",onChange:x=>n(v=>({...v,schedule_type:x.target.value})),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300"}),m.jsx("span",{className:"ml-3 text-sm text-gray-700",children:"Run Once"})]}),s.schedule_type==="once"&&m.jsxs("div",{className:"ml-7",children:[m.jsx("input",{type:"datetime-local",value:s.scheduled_at,onChange:x=>n(v=>({...v,scheduled_at:x.target.value})),className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"}),i.scheduled_at&&m.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.scheduled_at})]})]}),h()&&m.jsx("p",{className:"mt-2 text-sm text-blue-600",children:h()})]}),m.jsxs("details",{className:"group",children:[m.jsx("summary",{className:"cursor-pointer text-sm font-medium text-gray-700 hover:text-gray-900",children:"Advanced Options"}),m.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Timeout (seconds)"}),m.jsx("input",{type:"number",value:s.timeout_seconds,onChange:x=>n(v=>({...v,timeout_seconds:parseInt(x.target.value)})),min:"30",max:"3600",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Retry Count"}),m.jsx("input",{type:"number",value:s.retry_count,onChange:x=>n(v=>({...v,retry_count:parseInt(x.target.value)})),min:"0",max:"10",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Retry Delay (seconds)"}),m.jsx("input",{type:"number",value:s.retry_delay_seconds,onChange:x=>n(v=>({...v,retry_delay_seconds:parseInt(x.target.value)})),min:"10",max:"300",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]})]}),m.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t",children:[m.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),m.jsx("button",{type:"submit",disabled:l.isPending,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:l.isPending?"Updating...":"Update Schedule"})]})]})]})})}function G5({vpsId:e}){var u;const[t,r]=k.useState(!1),[s,n]=k.useState(null),i=Fs(),{data:a,isLoading:o}=st({queryKey:["docker-schedules",e],queryFn:()=>On.getSchedules(e)}),l=At({mutationFn:d=>On.executeNow(d),onSuccess:()=>{i.invalidateQueries({queryKey:["docker-schedules",e]})}}),p=At({mutationFn:d=>On.toggle(d),onSuccess:()=>{i.invalidateQueries({queryKey:["docker-schedules",e]})}}),g=At({mutationFn:d=>On.delete(d),onSuccess:()=>{i.invalidateQueries({queryKey:["docker-schedules",e]})}}),h=d=>{confirm("Execute this schedule now?")&&l.mutate(d)},_=d=>{p.mutate(d)},S=d=>{confirm(`Delete schedule "${d.name}"? This action cannot be undone.`)&&g.mutate(d.id)},x=d=>{switch(d){case"start":return m.jsx(Br,{className:"h-4 w-4 text-green-500"});case"stop":return m.jsx(jl,{className:"h-4 w-4 text-red-500"});case"restart":return m.jsx(Ck,{className:"h-4 w-4 text-blue-500"});default:return m.jsx(Br,{className:"h-4 w-4"})}},v=d=>{switch(d.schedule_type){case"cron":return`Cron: ${d.cron_expression}`;case"interval":return`Every ${Math.floor(d.interval_seconds/60)} minutes`;case"once":return`Once: ${new Date(d.scheduled_at).toLocaleString()}`;default:return d.schedule_type}},c=d=>{if(d.is_running)return m.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[m.jsx(wm,{className:"h-3 w-3 mr-1"}),"Running"]});if(!d.is_active)return m.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[m.jsx(Dd,{className:"h-3 w-3 mr-1"}),"Inactive"]});const y=d.run_count>0?d.success_count/d.run_count*100:0;return y>=80?m.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[m.jsx(H5,{className:"h-3 w-3 mr-1"}),"Healthy"]}):y>=50?m.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[m.jsx(wm,{className:"h-3 w-3 mr-1"}),"Warning"]}):m.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[m.jsx(q5,{className:"h-3 w-3 mr-1"}),"Error"]})};if(o)return m.jsx("div",{className:"flex items-center justify-center h-64",children:m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});const f=((u=a==null?void 0:a.data)==null?void 0:u.schedules)||[];return m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Docker Schedules"}),m.jsx("p",{className:"text-sm text-gray-500",children:"Automated start, stop, and restart schedules for containers"})]}),m.jsxs("button",{onClick:()=>r(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[m.jsx(Ro,{className:"h-4 w-4 mr-2"}),"New Schedule"]})]}),f.length===0?m.jsxs("div",{className:"text-center py-12",children:[m.jsx(dc,{className:"mx-auto h-12 w-12 text-gray-400"}),m.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No schedules"}),m.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating your first container schedule."}),m.jsx("div",{className:"mt-6",children:m.jsxs("button",{onClick:()=>r(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[m.jsx(Ro,{className:"h-4 w-4 mr-2"}),"New Schedule"]})})]}):m.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:m.jsx("ul",{className:"divide-y divide-gray-200",children:f.map(d=>m.jsx("li",{children:m.jsxs("div",{className:"px-4 py-4 sm:px-6",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center",children:[x(d.action),m.jsxs("div",{className:"ml-3",children:[m.jsx("h3",{className:"text-sm font-medium text-gray-900",children:d.name}),m.jsxs("p",{className:"text-sm text-gray-500",children:[d.container_name,"  ",d.action]})]})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[c(d),m.jsxs("div",{className:"flex space-x-1",children:[m.jsx("button",{onClick:()=>h(d.id),className:"p-1 rounded text-gray-400 hover:text-blue-600",title:"Execute now",children:m.jsx(Br,{className:"h-4 w-4"})}),m.jsx("button",{onClick:()=>n(d),className:"p-1 rounded text-gray-400 hover:text-green-600",title:"Edit",children:m.jsx(l5,{className:"h-4 w-4"})}),m.jsx("button",{onClick:()=>_(d.id),className:"p-1 rounded text-gray-400 hover:text-yellow-600",title:d.is_active?"Deactivate":"Activate",children:d.is_active?m.jsx(Dd,{className:"h-4 w-4"}):m.jsx(Br,{className:"h-4 w-4"})}),m.jsx("button",{onClick:()=>S(d),className:"p-1 rounded text-gray-400 hover:text-red-600",title:"Delete",children:m.jsx(hc,{className:"h-4 w-4"})})]})]})]}),m.jsxs("div",{className:"mt-3 text-sm text-gray-600",children:[m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsxs("span",{className:"flex items-center",children:[m.jsx(Nk,{className:"h-4 w-4 mr-1"}),v(d)]}),d.next_run&&m.jsxs("span",{className:"text-gray-500",children:["Next: ",new Date(d.next_run).toLocaleString()]})]}),d.description&&m.jsx("p",{className:"mt-1 text-gray-500",children:d.description})]}),m.jsxs("div",{className:"mt-3 flex items-center space-x-6 text-xs text-gray-500",children:[m.jsxs("span",{children:["Executions: ",d.run_count]}),m.jsxs("span",{className:"text-green-600",children:["Success: ",d.success_count]}),m.jsxs("span",{className:"text-red-600",children:["Failed: ",d.failure_count]}),d.last_run&&m.jsxs("span",{children:["Last run: ",new Date(d.last_run).toLocaleString()]})]})]})},d.id))})}),t&&m.jsx(K5,{vpsId:e,onClose:()=>r(!1),onSuccess:()=>{r(!1),i.invalidateQueries({queryKey:["docker-schedules",e]})}}),s&&m.jsx(Q5,{schedule:s,onClose:()=>n(null),onSuccess:()=>{n(null),i.invalidateQueries({queryKey:["docker-schedules",e]})}})]})}function X5(){var c;const{vpsId:e}=Zg(),t=Gl(),[r,s]=k.useState("terminal"),[n,i]=k.useState(!0),[a,o]=k.useState([]),[l,p]=k.useState(null),{data:g,isLoading:h}=st({queryKey:["vps-details",e],queryFn:()=>Un.get(e),enabled:!!e});k.useEffect(()=>{var f;if(e&&!a.find(u=>u.type==="vps")){const u={type:"vps",id:e,name:((f=g==null?void 0:g.data)==null?void 0:f.name)||"VPS Terminal"};o([u]),p(u)}},[e,g,a]);const _=(f,u)=>{const d=`${f}`,y=a.find(w=>w.type==="container"&&w.id===d);if(y)p(y);else{const w={type:"container",id:d,name:`${u} Terminal`};o(C=>[...C,w]),p(w)}s("terminal")},S=f=>{if(o(u=>u.filter(d=>!(d.type===f.type&&d.id===f.id))),(l==null?void 0:l.type)===f.type&&(l==null?void 0:l.id)===f.id){const u=a.filter(d=>!(d.type===f.type&&d.id===f.id));p(u[0]||null)}};if(h)return m.jsx("div",{className:"flex items-center justify-center h-screen",children:m.jsx(mt,{size:"lg"})});if(!(g!=null&&g.data))return m.jsx("div",{className:"flex items-center justify-center h-screen",children:m.jsxs("div",{className:"text-center",children:[m.jsx(Kr,{className:"mx-auto h-12 w-12 text-gray-400"}),m.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"VPS not found"}),m.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"The VPS you're looking for doesn't exist or has been removed."}),m.jsx("div",{className:"mt-6",children:m.jsx("button",{onClick:()=>t("/vps"),className:"btn-primary",children:"Back to VPS List"})})]})});const x=g.data,v=[{id:"terminal",name:"Terminal",icon:jd},{id:"docker",name:"Docker Status",icon:R_},{id:"containers",name:"Containers",icon:x5},{id:"schedules",name:"Schedules",icon:dc}];return m.jsxs("div",{className:"h-screen flex bg-gray-50",children:[m.jsxs("div",{className:`${n?"w-64":"w-16"} bg-white shadow-sm transition-all duration-300 border-r border-gray-200`,children:[m.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:[n&&m.jsxs("div",{children:[m.jsx("h1",{className:"text-lg font-semibold text-gray-900 truncate",children:x.name}),m.jsx("p",{className:"text-sm text-gray-500",children:x.ip_address})]}),m.jsx("button",{onClick:()=>i(!n),className:"p-1 rounded-md text-gray-400 hover:text-gray-600",children:n?m.jsx(hi,{className:"h-6 w-6"}):m.jsx(E_,{className:"h-6 w-6"})})]}),m.jsx("nav",{className:"mt-8",children:v.map(f=>{const u=f.icon;return m.jsxs("button",{onClick:()=>s(f.id),className:`${r===f.id?"bg-primary-50 border-primary-500 text-primary-700":"border-transparent text-gray-600 hover:text-gray-900 hover:bg-gray-50"} group flex items-center px-3 py-2 text-sm font-medium border-l-4 w-full`,children:[m.jsx(u,{className:`${r===f.id?"text-primary-500":"text-gray-400 group-hover:text-gray-500"} flex-shrink-0 h-6 w-6 ${n?"mr-3":""}`}),n&&f.name]},f.id)})}),n&&a.length>0&&m.jsxs("div",{className:"mt-8",children:[m.jsx("h3",{className:"px-3 text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Active Terminals"}),m.jsx("div",{className:"mt-2 space-y-1",children:a.map(f=>m.jsxs("div",{className:`${(l==null?void 0:l.type)===f.type&&(l==null?void 0:l.id)===f.id?"bg-gray-100 text-gray-900":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"} group flex items-center justify-between px-3 py-2 text-sm font-medium rounded-md mx-2`,children:[m.jsxs("button",{onClick:()=>{p(f),s("terminal")},className:"flex items-center flex-1 text-left truncate",children:[m.jsx(jd,{className:"flex-shrink-0 h-4 w-4 mr-2"}),m.jsx("span",{className:"truncate",children:f.name})]}),m.jsx("button",{onClick:()=>S(f),className:"opacity-0 group-hover:opacity-100 p-1 text-gray-400 hover:text-gray-600",children:m.jsx(hi,{className:"h-4 w-4"})})]},`${f.type}-${f.id}`))})]})]}),m.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[m.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200 px-6 py-4",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:(c=v.find(f=>f.id===r))==null?void 0:c.name}),m.jsx("p",{className:"text-sm text-gray-500",children:r==="terminal"&&l?`Active: ${l.name}`:`Managing ${x.name} (${x.ip_address})`})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${x.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:x.status}),m.jsx("button",{onClick:()=>t("/vps"),className:"btn-secondary",children:"Back to VPS List"})]})]})}),m.jsxs("div",{className:"flex-1 overflow-hidden",children:[r==="terminal"&&l&&m.jsx("div",{className:"h-full",children:l.type==="vps"?m.jsx(O5,{vpsId:e}):m.jsx(B5,{vpsId:e,containerId:l.id})}),r==="docker"&&m.jsx("div",{className:"h-full p-6 overflow-y-auto",children:m.jsx(M5,{vpsId:e})}),r==="containers"&&m.jsx("div",{className:"h-full p-6 overflow-y-auto",children:m.jsx(I5,{vpsId:e,onOpenTerminal:_})}),r==="schedules"&&m.jsx("div",{className:"h-full overflow-y-auto",children:m.jsx(G5,{vpsId:e})})]})]})]})}function Y5(){var E,D,O;const{vpsId:e}=Zg(),t=Fs(),[r,s]=k.useState("raw"),[n,i]=k.useState(""),[a,o]=k.useState("default"),[l,p]=k.useState(""),[g,h]=k.useState(null),[,_]=k.useState(null),{data:S,isLoading:x}=st({queryKey:["nginx-configs",e],queryFn:()=>Ai.listConfigs(e),enabled:!!e}),{data:v}=st({queryKey:["nginx-templates"],queryFn:()=>Ai.getTemplates()}),c=At({mutationFn:N=>Ai.previewConfig(e,N),onSuccess:N=>{h(N.data)}}),f=At({mutationFn:N=>Ai.applyConfig(e,N),onSuccess:()=>{Ie.success("Configuration applied successfully"),t.invalidateQueries({queryKey:["nginx-configs",e]})}}),u=At({mutationFn:N=>Ai.createConfig(e,N),onSuccess:()=>{Ie.success("Configuration version created"),t.invalidateQueries({queryKey:["nginx-configs",e]})}});if(k.useEffect(()=>{var N;if(!n&&((N=v==null?void 0:v.data)!=null&&N.templates)&&v.data.templates.length>0){const A=v.data.templates.find(H=>H.name==="basic_server_block");A&&i(A.template)}},[v,n]),!e)return m.jsx("div",{children:"VPS ID not found"});if(x)return m.jsx("div",{className:"flex items-center justify-center h-64",children:m.jsx(mt,{size:"lg"})});const d=(S==null?void 0:S.data)||[],y=((E=v==null?void 0:v.data)==null?void 0:E.templates)||[],w=()=>{if(!n.trim()){Ie.error("Please enter configuration content");return}c.mutate({content:n,vps_id:e,config_name:a,config_type:"server_block"})},C=()=>{if(!n.trim()){Ie.error("Please enter configuration content");return}u.mutate({content:n,vps_id:e,config_name:a,config_type:"server_block",summary:l||"Manual configuration"})},R=(N,A=!1)=>{f.mutate({config_id:N,dry_run:A,watch_window_seconds:120})},b=N=>{i(N.template),o(N.name),Ie.success(`${N.display_name} template inserted`)};return m.jsxs("div",{className:"px-4 sm:px-6 lg:px-8",children:[m.jsx("div",{className:"sm:flex sm:items-center",children:m.jsxs("div",{className:"sm:flex-auto",children:[m.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Nginx Configuration Editor"}),m.jsxs("p",{className:"mt-2 text-sm text-gray-700",children:["VPS ID: ",e," - Edit and manage nginx configurations safely"]})]})}),m.jsxs("div",{className:"mt-8 grid grid-cols-1 gap-8 lg:grid-cols-3",children:[m.jsxs("div",{className:"lg:col-span-2",children:[m.jsxs("div",{className:"card",children:[m.jsx("div",{className:"card-header",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex space-x-4",children:[m.jsx("button",{onClick:()=>s("raw"),className:`px-3 py-2 text-sm font-medium rounded-md ${r==="raw"?"bg-primary-100 text-primary-700":"text-gray-500 hover:text-gray-700"}`,children:"Raw Editor"}),m.jsx("button",{onClick:()=>s("template"),className:`px-3 py-2 text-sm font-medium rounded-md ${r==="template"?"bg-primary-100 text-primary-700":"text-gray-500 hover:text-gray-700"}`,children:"Templates"})]}),m.jsxs("div",{className:"flex space-x-2",children:[m.jsxs("button",{onClick:w,disabled:c.isPending,className:"btn-secondary",children:[m.jsx(L_,{className:"h-4 w-4 mr-2"}),c.isPending?"Validating...":"Preview & Validate"]}),m.jsxs("button",{onClick:C,disabled:u.isPending,className:"btn-primary",children:[m.jsx(zk,{className:"h-4 w-4 mr-2"}),"Save Version"]})]})]})}),m.jsx("div",{className:"card-body",children:r==="raw"?m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"configName",className:"block text-sm font-medium text-gray-700",children:"Configuration Name"}),m.jsx("input",{type:"text",id:"configName",value:a,onChange:N=>o(N.target.value),className:"form-input",placeholder:"e.g., main-site"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"summary",className:"block text-sm font-medium text-gray-700",children:"Summary"}),m.jsx("input",{type:"text",id:"summary",value:l,onChange:N=>p(N.target.value),className:"form-input",placeholder:"Brief description of changes"})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"configContent",className:"block text-sm font-medium text-gray-700",children:"Nginx Configuration"}),m.jsx("textarea",{id:"configContent",rows:20,value:n,onChange:N=>i(N.target.value),className:"form-textarea font-mono text-sm custom-scrollbar",placeholder:"Enter your nginx configuration here..."})]})]}):m.jsxs("div",{className:"space-y-4",children:[m.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Available Templates"}),m.jsx("div",{className:"grid gap-4",children:y.map(N=>m.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50",children:m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"font-medium text-gray-900",children:N.display_name}),m.jsx("p",{className:"text-sm text-gray-500 mt-1",children:N.description}),m.jsx("span",{className:"inline-block mt-2 px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded",children:N.category})]}),m.jsx("button",{onClick:()=>b(N),className:"btn-secondary",children:"Use Template"})]})},N.name))})]})})]}),g&&m.jsxs("div",{className:"mt-6 card",children:[m.jsx("div",{className:"card-header",children:m.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[g.is_valid?m.jsx(di,{className:"h-5 w-5 text-success-600 mr-2"}):m.jsx(of,{className:"h-5 w-5 text-danger-600 mr-2"}),"Validation Results"]})}),m.jsx("div",{className:"card-body",children:m.jsxs("div",{className:`p-4 rounded-md ${g.is_valid?"bg-success-50":"bg-danger-50"}`,children:[m.jsx("p",{className:`text-sm font-medium ${g.is_valid?"text-success-800":"text-danger-800"}`,children:g.is_valid?"Configuration is valid":"Configuration has errors"}),((D=g.errors)==null?void 0:D.length)>0&&m.jsx("ul",{className:"mt-2 text-sm text-danger-700 list-disc list-inside",children:g.errors.map((N,A)=>m.jsx("li",{children:N},A))}),((O=g.warnings)==null?void 0:O.length)>0&&m.jsx("ul",{className:"mt-2 text-sm text-warning-700 list-disc list-inside",children:g.warnings.map((N,A)=>m.jsx("li",{children:N},A))})]})})]})]}),m.jsx("div",{className:"lg:col-span-1",children:m.jsxs("div",{className:"card",children:[m.jsx("div",{className:"card-header",children:m.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Configuration Versions"})}),m.jsx("div",{className:"card-body",children:d.length===0?m.jsx("p",{className:"text-gray-500 text-center py-4",children:"No configurations yet"}):m.jsx("div",{className:"space-y-3",children:d.slice(0,10).map(N=>m.jsxs("div",{className:`border rounded-lg p-3 cursor-pointer hover:bg-gray-50 ${N.is_active?"bg-primary-50 border-primary-200":""}`,onClick:()=>_(N.version),children:[m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{children:[m.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["v",N.version,N.is_active&&m.jsx("span",{className:"ml-2 text-xs bg-primary-100 text-primary-800 px-2 py-1 rounded",children:"Active"})]}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:N.summary||"No summary"}),m.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(N.created_at).toLocaleDateString()})]}),m.jsx("span",{className:`status-indicator ${N.status==="applied"?"success":N.status==="failed"?"danger":"info"}`,children:N.status})]}),N.status==="draft"&&m.jsxs("div",{className:"mt-2 flex space-x-1",children:[m.jsx("button",{onClick:A=>{A.stopPropagation(),R(N.id,!0)},className:"text-xs btn-secondary py-1 px-2",disabled:f.isPending,children:"Dry Run"}),m.jsxs("button",{onClick:A=>{A.stopPropagation(),R(N.id,!1)},className:"text-xs btn-primary py-1 px-2",disabled:f.isPending,children:[m.jsx(Br,{className:"h-3 w-3 mr-1"}),"Apply"]})]}),N.rollback_triggered&&m.jsx("div",{className:"mt-2",children:m.jsxs("span",{className:"text-xs text-warning-600 flex items-center",children:[m.jsx(yk,{className:"h-3 w-3 mr-1"}),"Auto-rollback triggered"]})})]},N.id))})})]})})]})]})}function J5(){var o;const{data:e,isLoading:t}=st({queryKey:["system-metrics"],queryFn:()=>eo.getSystemMetrics(),refetchInterval:3e4}),{data:r}=st({queryKey:["recent-audit-logs"],queryFn:()=>eo.getRecentAuditLogs({limit:20}),refetchInterval:6e4}),{data:s}=st({queryKey:["monitoring-health"],queryFn:()=>eo.getHealth(),refetchInterval:3e4});if(t)return m.jsx("div",{className:"flex items-center justify-center h-64",children:m.jsx(mt,{size:"lg"})});const n=e==null?void 0:e.data,i=((o=r==null?void 0:r.data)==null?void 0:o.logs)||[],a=s==null?void 0:s.data;return m.jsxs("div",{className:"px-4 sm:px-6 lg:px-8",children:[m.jsx("div",{className:"sm:flex sm:items-center",children:m.jsxs("div",{className:"sm:flex-auto",children:[m.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Monitoring"}),m.jsx("p",{className:"mt-2 text-sm text-gray-700",children:"System metrics, health status, and activity logs"})]})}),m.jsxs("div",{className:"mt-8",children:[m.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"System Health"}),m.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[m.jsx("div",{className:"card",children:m.jsx("div",{className:"card-body",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"flex-shrink-0",children:m.jsx(Kr,{className:"h-8 w-8 text-primary-600"})}),m.jsx("div",{className:"ml-5 w-0 flex-1",children:m.jsxs("dl",{children:[m.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Active VPS Hosts"}),m.jsx("dd",{className:"text-lg font-medium text-gray-900",children:(n==null?void 0:n.active_vps_hosts)||0})]})})]})})}),m.jsx("div",{className:"card",children:m.jsx("div",{className:"card-body",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"flex-shrink-0",children:m.jsx(no,{className:"h-8 w-8 text-success-600"})}),m.jsx("div",{className:"ml-5 w-0 flex-1",children:m.jsxs("dl",{children:[m.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Odoo Instances"}),m.jsx("dd",{className:"text-lg font-medium text-gray-900",children:(n==null?void 0:n.active_odoo_instances)||0})]})})]})})}),m.jsx("div",{className:"card",children:m.jsx("div",{className:"card-body",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"flex-shrink-0",children:m.jsx(di,{className:"h-8 w-8 text-primary-600"})}),m.jsx("div",{className:"ml-5 w-0 flex-1",children:m.jsxs("dl",{children:[m.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Nginx Operations (24h)"}),m.jsxs("dd",{className:"text-lg font-medium text-gray-900",children:[(n==null?void 0:n.total_nginx_operations)||0,(n==null?void 0:n.failed_nginx_operations)&&n.failed_nginx_operations>0&&m.jsxs("span",{className:"ml-2 text-sm text-danger-600",children:["(",n.failed_nginx_operations," failed)"]})]})]})})]})})}),m.jsx("div",{className:"card",children:m.jsx("div",{className:"card-body",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"flex-shrink-0",children:m.jsx(of,{className:"h-8 w-8 text-warning-600"})}),m.jsx("div",{className:"ml-5 w-0 flex-1",children:m.jsxs("dl",{children:[m.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Recent Alerts"}),m.jsx("dd",{className:"text-lg font-medium text-gray-900",children:(n==null?void 0:n.recent_alerts)||0})]})})]})})})]})]}),a&&m.jsxs("div",{className:"mt-8",children:[m.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Service Status"}),m.jsx("div",{className:"card",children:m.jsx("div",{className:"card-body",children:m.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[m.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Prometheus Metrics"}),m.jsx("p",{className:"text-xs text-gray-500",children:"Data collection service"})]}),m.jsx("span",{className:`status-indicator ${a.prometheus_metrics?"success":"danger"}`,children:a.prometheus_metrics?"Healthy":"Down"})]}),m.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Alerting Service"}),m.jsx("p",{className:"text-xs text-gray-500",children:"Notification system"})]}),m.jsx("span",{className:`status-indicator ${a.alerting_service?"success":"danger"}`,children:a.alerting_service?"Healthy":"Down"})]}),m.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Overall Status"}),m.jsx("p",{className:"text-xs text-gray-500",children:"System health"})]}),m.jsx("span",{className:`status-indicator ${a.status==="healthy"?"success":"danger"}`,children:a.status})]})]})})})]}),m.jsxs("div",{className:"mt-8",children:[m.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Activity"}),m.jsx("div",{className:"card",children:m.jsx("div",{className:"card-body",children:i.length===0?m.jsx("p",{className:"text-gray-500 text-center py-8",children:"No recent activity"}):m.jsx("div",{className:"flow-root",children:m.jsx("ul",{role:"list",className:"-mb-8",children:i.map((l,p)=>m.jsx("li",{children:m.jsxs("div",{className:"relative pb-8",children:[p!==i.length-1?m.jsx("span",{className:"absolute left-4 top-4 -ml-px h-full w-0.5 bg-gray-200","aria-hidden":"true"}):null,m.jsxs("div",{className:"relative flex space-x-3",children:[m.jsx("div",{children:m.jsx("span",{className:`
                                h-8 w-8 rounded-full flex items-center justify-center ring-8 ring-white
                                ${l.status==="success"?"bg-success-500":l.status==="failed"?"bg-danger-500":"bg-gray-400"}
                              `,children:m.jsx(dc,{className:"h-5 w-5 text-white","aria-hidden":"true"})})}),m.jsxs("div",{className:"flex min-w-0 flex-1 justify-between space-x-4 pt-1.5",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-900 font-medium",children:l.action.replace(/_/g," ").replace(/\b\w/g,g=>g.toUpperCase())}),m.jsx("p",{className:"text-sm text-gray-500 mt-1",children:l.description}),l.error_message&&m.jsxs("p",{className:"text-sm text-danger-600 mt-1",children:["Error: ",l.error_message]}),m.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-xs text-gray-400",children:[m.jsxs("span",{children:["Task ID: ",l.task_id]}),l.duration_seconds&&m.jsxs("span",{children:["Duration: ",l.duration_seconds,"s"]}),m.jsx("span",{className:`px-2 py-1 rounded-full ${l.status==="success"?"bg-success-50 text-success-600":l.status==="failed"?"bg-danger-50 text-danger-600":"bg-gray-50 text-gray-600"}`,children:l.status})]})]}),m.jsx("div",{className:"whitespace-nowrap text-right text-sm text-gray-500",children:m.jsx("time",{dateTime:l.started_at,children:new Date(l.started_at).toLocaleString()})})]})]})]})},l.id))})})})})]}),m.jsxs("div",{className:"mt-8",children:[m.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"External Monitoring"}),m.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[m.jsx("div",{className:"card",children:m.jsxs("div",{className:"card-body",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx(no,{className:"h-8 w-8 text-primary-600"}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Prometheus"}),m.jsx("p",{className:"text-sm text-gray-500",children:"Raw metrics and queries"})]})]}),m.jsx("div",{className:"mt-4",children:m.jsx("a",{href:"http://localhost:9090",target:"_blank",rel:"noopener noreferrer",className:"btn-secondary w-full text-center",children:"Open Prometheus"})})]})}),m.jsx("div",{className:"card",children:m.jsxs("div",{className:"card-body",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx(no,{className:"h-8 w-8 text-primary-600"}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Grafana"}),m.jsx("p",{className:"text-sm text-gray-500",children:"Detailed dashboards and alerts"})]})]}),m.jsx("div",{className:"mt-4",children:m.jsx("a",{href:"http://localhost:3001",target:"_blank",rel:"noopener noreferrer",className:"btn-secondary w-full text-center",children:"Open Grafana"})})]})})]})]})]})}const ru={getTemplates:async()=>({data:[]}),getDeployments:async()=>({data:[]}),createTemplate:async e=>({data:e}),deployOdoo:async e=>({data:e})};function Z5(){const[e,t]=k.useState("templates"),[r,s]=k.useState(!1),n=Fs(),{data:i}=st({queryKey:["odoo-templates"],queryFn:ru.getTemplates}),{data:a}=st({queryKey:["odoo-deployments"],queryFn:ru.getDeployments}),o=At({mutationFn:ru.createTemplate,onSuccess:()=>{n.invalidateQueries({queryKey:["odoo-templates"]}),s(!1)}}),l=h=>{const _={name:h.get("name"),industry:h.get("industry"),version:h.get("version"),description:h.get("description"),docker_image:`odoo:${h.get("version")}`,category:"business",default_port:8069,requirements:["base","web"]};o.mutate(_)},p=["Restaurant","Retail","Manufacturing","Healthcare","Education","Real Estate","Construction","Other"],g=["17.0","16.0","15.0","14.0"];return m.jsxs("div",{className:"px-4 sm:px-6 lg:px-8",children:[m.jsx("div",{className:"sm:flex sm:items-center",children:m.jsxs("div",{className:"sm:flex-auto",children:[m.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Odoo Management"}),m.jsx("p",{className:"mt-2 text-sm text-gray-700",children:"Create industry-specific Odoo templates and deploy them to your VPS servers."})]})}),m.jsx("div",{className:"mt-8",children:m.jsx("div",{className:"border-b border-gray-200",children:m.jsxs("nav",{className:"-mb-px flex space-x-8",children:[m.jsxs("button",{onClick:()=>t("templates"),className:`py-2 px-1 border-b-2 font-medium text-sm ${e==="templates"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[m.jsx(Nd,{className:"w-5 h-5 inline mr-2"}),"Templates"]}),m.jsxs("button",{onClick:()=>t("deployments"),className:`py-2 px-1 border-b-2 font-medium text-sm ${e==="deployments"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[m.jsx(Kr,{className:"w-5 h-5 inline mr-2"}),"Deployments"]})]})})}),e==="templates"&&m.jsxs("div",{className:"mt-8",children:[m.jsxs("div",{className:"sm:flex sm:items-center mb-6",children:[m.jsxs("div",{className:"sm:flex-auto",children:[m.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Odoo Templates"}),m.jsx("p",{className:"mt-1 text-sm text-gray-700",children:"Industry-specific Odoo configurations with backup databases"})]}),m.jsx("div",{className:"mt-4 sm:mt-0 sm:ml-16 sm:flex-none",children:m.jsxs("button",{type:"button",onClick:()=>s(!0),className:"inline-flex items-center justify-center rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 sm:w-auto",children:[m.jsx(Ro,{className:"h-4 w-4 mr-2"}),"Create Template"]})})]}),m.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:i!=null&&i.data&&i.data.length>0?i.data.map(h=>m.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h3",{className:"text-lg font-medium text-gray-900",children:h.name}),m.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["v",h.version]})]}),m.jsx("p",{className:"mt-2 text-sm text-gray-600",children:h.description}),m.jsx("div",{className:"mt-4",children:m.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:h.industry})}),m.jsx("div",{className:"mt-4 flex justify-end",children:m.jsxs("button",{onClick:()=>console.log("Deploy",h.id),className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[m.jsx(Br,{className:"h-4 w-4 mr-1"}),"Deploy"]})})]})},h.id)):m.jsxs("div",{className:"col-span-3 text-center py-12",children:[m.jsx(Nd,{className:"mx-auto h-12 w-12 text-gray-400"}),m.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No templates"}),m.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating your first Odoo template."}),m.jsx("div",{className:"mt-6",children:m.jsxs("button",{type:"button",onClick:()=>s(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[m.jsx(Ro,{className:"h-4 w-4 mr-2"}),"Create Template"]})})]})})]}),e==="deployments"&&m.jsxs("div",{className:"mt-8",children:[m.jsx("div",{className:"sm:flex sm:items-center mb-6",children:m.jsxs("div",{className:"sm:flex-auto",children:[m.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Active Deployments"}),m.jsx("p",{className:"mt-1 text-sm text-gray-700",children:"Running Odoo instances across your VPS servers"})]})}),m.jsx("div",{className:"mt-8 flex flex-col",children:m.jsx("div",{className:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8",children:m.jsx("div",{className:"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8",children:m.jsx("div",{className:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg",children:m.jsxs("table",{className:"min-w-full divide-y divide-gray-300",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Name"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Template"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wide",children:"VPS"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Status"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Domain"}),m.jsx("th",{className:"relative px-6 py-3",children:m.jsx("span",{className:"sr-only",children:"Actions"})})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a!=null&&a.data&&a.data.length>0?a.data.map(h=>m.jsxs("tr",{children:[m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:h.name}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h.template_name}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h.vps_name}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${h.status==="running"?"bg-green-100 text-green-800":h.status==="pending"?"bg-yellow-100 text-yellow-800":h.status==="stopped"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:h.status})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:m.jsx("a",{href:`http://${h.domain}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-900",children:h.domain})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:m.jsxs("div",{className:"flex space-x-2",children:[m.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:m.jsx(Br,{className:"h-4 w-4"})}),m.jsx("button",{className:"text-gray-600 hover:text-gray-900",children:m.jsx(jl,{className:"h-4 w-4"})}),m.jsx("button",{className:"text-red-600 hover:text-red-900",children:m.jsx(hc,{className:"h-4 w-4"})})]})})]},h.id)):m.jsx("tr",{children:m.jsxs("td",{colSpan:6,className:"px-6 py-12 text-center text-sm text-gray-500",children:[m.jsx(Kr,{className:"mx-auto h-12 w-12 text-gray-400"}),m.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No deployments"}),m.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Deploy your first Odoo template to see it here."})]})})})]})})})})})]}),r&&m.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:m.jsxs("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:[m.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Create Odoo Template"}),m.jsxs("form",{onSubmit:h=>{h.preventDefault(),l(new FormData(h.target))},children:[m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),m.jsx("input",{type:"text",name:"name",required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Restaurant Management System"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Industry"}),m.jsxs("select",{name:"industry",required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[m.jsx("option",{value:"",children:"Select Industry"}),p.map(h=>m.jsx("option",{value:h,children:h},h))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Odoo Version"}),m.jsxs("select",{name:"version",required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[m.jsx("option",{value:"",children:"Select Version"}),g.map(h=>m.jsx("option",{value:h,children:h},h))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),m.jsx("textarea",{name:"description",rows:3,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Complete restaurant management with POS, inventory, and accounting"})]})]}),m.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[m.jsx("button",{type:"button",onClick:()=>s(!1),className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),m.jsx("button",{type:"submit",disabled:o.isPending,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:o.isPending?"Creating...":"Create Template"})]})]})]})})]})}function e3(){const e=localStorage.getItem("auth_token"),{data:t,isLoading:r,error:s}=st({queryKey:["profile"],queryFn:()=>qv.getProfile(),enabled:!!e,retry:!1});return e&&r?m.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:m.jsx(mt,{})}):!e||s?m.jsx(FC,{}):m.jsx(D5,{user:t==null?void 0:t.data,children:m.jsxs(eS,{children:[m.jsx(Lr,{path:"/",element:m.jsx(Cp,{to:"/dashboard",replace:!0})}),m.jsx(Lr,{path:"/dashboard",element:m.jsx(T5,{})}),m.jsx(Lr,{path:"/vps",element:m.jsx(A5,{})}),m.jsx(Lr,{path:"/vps/:vpsId",element:m.jsx(X5,{})}),m.jsx(Lr,{path:"/vps/:vpsId/nginx",element:m.jsx(Y5,{})}),m.jsx(Lr,{path:"/odoo",element:m.jsx(Z5,{})}),m.jsx(Lr,{path:"/monitoring",element:m.jsx(J5,{})}),m.jsx(Lr,{path:"*",element:m.jsx(Cp,{to:"/dashboard",replace:!0})})]})})}const t3=new PS({defaultOptions:{queries:{staleTime:5*60*1e3,retry:3,refetchOnWindowFocus:!1}}});su.createRoot(document.getElementById("root")).render(m.jsx(ue.StrictMode,{children:m.jsxs(AS,{client:t3,children:[m.jsxs(aS,{children:[m.jsx(e3,{}),m.jsx(Aw,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#1f2937",color:"#f9fafb"}}})]}),m.jsx(qS,{initialIsOpen:!1})]})}));
